---
title: "Práticas recomendadas para importar vouchers usando a entidade do diário Geral"
description: "Este tópico fornece dicas para importar dados para o diário geral usando Entidade de diário geral."
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: Human Translation
ms.sourcegitcommit: 08c38aada355583c5a6872f75b57db95d9b81786
ms.openlocfilehash: a45a75d23c77af86b55866f99a97343a210ec777
ms.contentlocale: pt-br
ms.lasthandoff: 07/18/2017

---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a><span data-ttu-id="edcb7-103">Práticas recomendadas para importar vouchers usando a entidade do diário Geral</span><span class="sxs-lookup"><span data-stu-id="edcb7-103">Best practices for importing vouchers using the General journal entity</span></span>

[!include[banner](../includes/banner.md)]


<span data-ttu-id="edcb7-104">Este tópico fornece dicas para importar dados para o diário geral usando Entidade de diário geral.</span><span class="sxs-lookup"><span data-stu-id="edcb7-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>  

<span data-ttu-id="edcb7-105">Você pode usar a entidade de diário geral para importar somente os comprovantes que têm um tipo de conta ou contrapartida de **Razão, Cliente, Fornecedor ou Banco**.</span><span class="sxs-lookup"><span data-stu-id="edcb7-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="edcb7-106">O voucher pode ser digitado como uma linha, usando o campo **Conta** e o campo **Contrapartida**, ou como um comprovante de várias linhas, onde somente o campo **Conta** é usado (e **Contrapartida** é deixado em branco em cada linha).</span><span class="sxs-lookup"><span data-stu-id="edcb7-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="edcb7-107">A entidade do diário geral não suporta cada tipo de conta.</span><span class="sxs-lookup"><span data-stu-id="edcb7-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="edcb7-108">Em vez disso, existem outras entidades para cenários onde diferentes combinações de tipos de conta são necessárias.</span><span class="sxs-lookup"><span data-stu-id="edcb7-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="edcb7-109">Por exemplo, para importar uma transação de projeto, use a entidade do diário de despesas do projeto.</span><span class="sxs-lookup"><span data-stu-id="edcb7-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="edcb7-110">Cada entidade é projetada para suportar cenários específicos, o que significa que campos adicionais podem estar disponíveis em entidades para esses cenários, mas não em entidades para um cenário diferente.</span><span class="sxs-lookup"><span data-stu-id="edcb7-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="edcb7-111">Instalação</span><span class="sxs-lookup"><span data-stu-id="edcb7-111">Setup</span></span>
<span data-ttu-id="edcb7-112">Antes de você importar usando a entidade diário geral, valide a configuração a seguir:</span><span class="sxs-lookup"><span data-stu-id="edcb7-112">Before you import by using the General journal entity, validate the following setup:</span></span>

-   <span data-ttu-id="edcb7-113">**Configuração de sequência numérica para o número de lote do diário** — por padrão, quando você importar usando a entidade diário geral, os usos de número de lote do diário na sequência numérica que são definidas nos parâmetros da contabilidade.</span><span class="sxs-lookup"><span data-stu-id="edcb7-113">**Number sequence setup for the journal batch number** - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="edcb7-114">Se você definir a sequência numérica para o número do diário para **Manual**, um número de padrão não é aplicado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="edcb7-115">Essa configuração não é suportada.</span><span class="sxs-lookup"><span data-stu-id="edcb7-115">This setup isn't supported.</span></span>
-   <span data-ttu-id="edcb7-116">**Configuração da dimensão financeira** – cada organização deve definir a ordem de dimensões financeiras quando entidades são usadas para importar as transações.</span><span class="sxs-lookup"><span data-stu-id="edcb7-116">**Financial dimension configuration** - Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="edcb7-117">A ordem é definida para o formato **Integração de dimensões contábeis**, em **Contabilidade** &gt; **Plano de contas** &gt; **Dimensões** &gt; **Configuração da dimensão financeira para aplicações de integração** &gt; **Selecionar entidades de dados**.</span><span class="sxs-lookup"><span data-stu-id="edcb7-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="edcb7-118">Os segmentos da conta contábil que são importados devem ter a mesma ordem.</span><span class="sxs-lookup"><span data-stu-id="edcb7-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="edcb7-119">Caso contrário, ocorrerá um erro durante a importação.</span><span class="sxs-lookup"><span data-stu-id="edcb7-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="edcb7-120">Configuração de entidade de diário geral</span><span class="sxs-lookup"><span data-stu-id="edcb7-120">General journal entity setup</span></span>
<span data-ttu-id="edcb7-121">Duas configurações em Gerenciamento de dados afetam como o número de lote de diário padrão ou o número de voucher é aplicado:</span><span class="sxs-lookup"><span data-stu-id="edcb7-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

-   <span data-ttu-id="edcb7-122">**Processamento baseado conjunto** (na entidade de dados)</span><span class="sxs-lookup"><span data-stu-id="edcb7-122">**Set-based processing** (on the data entity)</span></span>
-   <span data-ttu-id="edcb7-123">**Gerado automaticamente** (no mapeamento de campo)</span><span class="sxs-lookup"><span data-stu-id="edcb7-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="edcb7-124">As seções a seguir descrevem o efeito dessas configurações e também explicam como os números de lote do diário e os números de comprovantes são gerados.</span><span class="sxs-lookup"><span data-stu-id="edcb7-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="edcb7-125">Número do lote do diário</span><span class="sxs-lookup"><span data-stu-id="edcb7-125">Journal batch number</span></span>

-   <span data-ttu-id="edcb7-126">A configuração **processamento baseado em conjunto** na entidade diário geral não afeta a maneira que os números de lote do diário são gerados.</span><span class="sxs-lookup"><span data-stu-id="edcb7-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
-   <span data-ttu-id="edcb7-127">Se o campo **Número de lote do diário** é definido como **Gerado automaticamente**, um novo número de lote do diário é criado para cada linha que é importada.</span><span class="sxs-lookup"><span data-stu-id="edcb7-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="edcb7-128">Este comportamento não é recomendado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-128">This behavior isn't recommended.</span></span> <span data-ttu-id="edcb7-129">A configuração **Gerado automaticamente** é encontrada no projeto de importação, em **Exibir mapa** diante da guia **Detalhes de mapeamento**.</span><span class="sxs-lookup"><span data-stu-id="edcb7-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
-   <span data-ttu-id="edcb7-130">Se o campo **Número de lote do diário** não é definido como **Gerado automaticamente**, o número de lote do diário é criado como segue:</span><span class="sxs-lookup"><span data-stu-id="edcb7-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>
    -   <span data-ttu-id="edcb7-131">Se o número de lote do diário que é definido no arquivo importado corresponder a um diário diário existente não lançado, todas as linhas que possuem um número de lote do diário correspondentes são importadas para o diário existente.</span><span class="sxs-lookup"><span data-stu-id="edcb7-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="edcb7-132">As linhas nunca são importadas em um número de lote de jornal lançado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="edcb7-133">Em vez disso, um novo número é criado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-133">Instead, a new number is created.</span></span>
    -   <span data-ttu-id="edcb7-134">Se o número de lote do diário que é definido no arquivo importado não corresponder a um diário diário existente não lançado, todas as linhas que possuem um número de lote do diário correspondentes são importadas para um novo diário existente.</span><span class="sxs-lookup"><span data-stu-id="edcb7-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="edcb7-135">Por exemplo, todas as linhas que possuem um número de lote do diário 1 são importadas para um novo diário, e todas as linhas que possuem um número de lote do diário 2 são importadas para um novo diário de segundo.</span><span class="sxs-lookup"><span data-stu-id="edcb7-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="edcb7-136">O número de lote do diário é criado usando a sequência numérica que é definida nos parâmetros da contabilidade.</span><span class="sxs-lookup"><span data-stu-id="edcb7-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="edcb7-137">Número do comprovante</span><span class="sxs-lookup"><span data-stu-id="edcb7-137">Voucher number</span></span>

-   <span data-ttu-id="edcb7-138">Quando você usa a configuração **Processamento baseado em conjunto** na entidade Diário geral, o número do comprovante deve ser fornecido no arquivo importado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="edcb7-139">Todas as transações no diário geral são atribuída ao número do comprovante que é fornecido no arquivo importado, mesmo se o comprovante não for balanceado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="edcb7-140">Se você deseja usar o processamento baseado em conjunto, mas você também deseja usar a sequência numérica que é definida para números de comprovante, um hotfix foi fornecido para a versão de fevereiro de 2016.</span><span class="sxs-lookup"><span data-stu-id="edcb7-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="edcb7-141">O número do hotfix é 3170316 e está disponível para download a partir do Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="edcb7-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="edcb7-142">Para obter mais informações, consulte [Baixar hotfixes do Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="edcb7-142">For more information, see [Download hotfixes from Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).</span></span>
    -   <span data-ttu-id="edcb7-143">Para habilitar essa funcionalidade, no nome do diário usado para importações, defina **Alocação de número no lançamento** para **Sim**.</span><span class="sxs-lookup"><span data-stu-id="edcb7-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    -   <span data-ttu-id="edcb7-144">Um número de comprovante ainda deve ser definido no arquivo importado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="edcb7-145">No entanto, esse número é temporário e é substituído pelo número do comprovante quando o diário é lançado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="edcb7-146">Você deve certificar-se de que as linhas do diário são agrupadas corretamente por número de comprovante temporário.</span><span class="sxs-lookup"><span data-stu-id="edcb7-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="edcb7-147">Por exemplo, durante a postagem, é constatado que três linhas possuem um voucher temporário.</span><span class="sxs-lookup"><span data-stu-id="edcb7-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="edcb7-148">O número de voucher temporário de todas as três linhas é substituído pelo número seguinte na sequência de números.</span><span class="sxs-lookup"><span data-stu-id="edcb7-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="edcb7-149">Se essas três linhas não são uma entrada equilibrada, o comprovante não foi publicado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="edcb7-150">Em seguida, se linhas forem encontradas que possuem um número de comprovante temporário 2, esse número será substituído pelo próximo número de comprovante na sequência numérica e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="edcb7-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

<!-- -->

-   <span data-ttu-id="edcb7-151">Se você não usar a configuração **Processamento baseado em conjunto**, não é necessário fornecer um número de voucher no arquivo importado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="edcb7-152">Os números de comprovante são criados durante a importação, com base na configuração do nome do diário (**Um comprovante só**, **Na conexão do saldo**, e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="edcb7-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="edcb7-153">Por exemplo, se o nome de diário é definido como **Na conexão do saldo**, a primeira linha recebe um novo número de comprovante padrão.</span><span class="sxs-lookup"><span data-stu-id="edcb7-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="edcb7-154">Em seguida, o sistema avalia a linha para determinar se os débitos são iguais aos créditos.</span><span class="sxs-lookup"><span data-stu-id="edcb7-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="edcb7-155">Se existir uma contrapartida na linha, a próxima linha importada recebe um novo número de comprovante.</span><span class="sxs-lookup"><span data-stu-id="edcb7-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="edcb7-156">Se nenhuma contrapartida existir, o sistema avalia se os débitos são iguais aos créditos que cada nova linha é importada.</span><span class="sxs-lookup"><span data-stu-id="edcb7-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
-   <span data-ttu-id="edcb7-157">Se o campo **Número do comprovante** é definido como **Gerado automaticamente**, a importação não tem êxito.</span><span class="sxs-lookup"><span data-stu-id="edcb7-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="edcb7-158">A configuração **Gerado automaticamente** para o campo **Número do comprovante** não é suportado.</span><span class="sxs-lookup"><span data-stu-id="edcb7-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="edcb7-159">Por padrão, a entidade de diário geral usa processamento baseado em conjunto.</span><span class="sxs-lookup"><span data-stu-id="edcb7-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="edcb7-160">Depois de avaliar os requisitos de negócios para sua organização, você pode alterar a configuração **Processamento baseado em conjunto** clicando em **Entidades de dados** no espaço de trabalho **Gerenciamento de dados**.</span><span class="sxs-lookup"><span data-stu-id="edcb7-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="edcb7-161">Processamento baseado em conjunto é usado para acelerar o processo de importação.</span><span class="sxs-lookup"><span data-stu-id="edcb7-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="edcb7-162">Se você não usar o processamento baseado em conjunto, a importação da importação de entidade diário geral será mais lenta.</span><span class="sxs-lookup"><span data-stu-id="edcb7-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>




