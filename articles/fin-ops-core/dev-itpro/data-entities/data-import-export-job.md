---
title: Visão geral de trabalhos de importação e exportação de dados
description: Use o espaço de trabalho de gerenciamento de dados para criar e gerenciar trabalhos de importação e de exportação de dados.
author: Sunil-Garg
ms.date: 04/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: c660cf5aba786fb6f84776f6443f658ebbfa25d5
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937321"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="de5e9-103">Visão geral de trabalhos de importação e exportação de dados</span><span class="sxs-lookup"><span data-stu-id="de5e9-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="de5e9-104">Para criar e gerenciar trabalhos de importação e de exportação de dados, use o espaço de trabalho **Gerenciamento de dados**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="de5e9-105">Por padrão, o processo de importação e exportação criar uma tabela de preparo para cada entidade no banco de dados de destino.</span><span class="sxs-lookup"><span data-stu-id="de5e9-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="de5e9-106">As tabelas de preparo permitem verificar, limpar ou converter dados antes de movê-los.</span><span class="sxs-lookup"><span data-stu-id="de5e9-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="de5e9-107">Este tópico pressupõe que você está familiarizado com as [entidades de dados](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="de5e9-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="de5e9-108">Processo de importação/exportação de dados</span><span class="sxs-lookup"><span data-stu-id="de5e9-108">Data import/export process</span></span>
<span data-ttu-id="de5e9-109">Seguem as etapas para importar ou exportar dados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="de5e9-110">Criar um trabalho de importação ou de exportação onde você conclua as seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="de5e9-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="de5e9-111">Definir a categoria do projeto.</span><span class="sxs-lookup"><span data-stu-id="de5e9-111">Define the project category.</span></span>
    - <span data-ttu-id="de5e9-112">Identificar as entidades a serem importadas ou exportadas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="de5e9-113">Definir o formato de dados para o trabalho.</span><span class="sxs-lookup"><span data-stu-id="de5e9-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="de5e9-114">Definir as sequências de entidades, de modo que sejam processadas em grupos lógicos e uma ordem que faça sentido.</span><span class="sxs-lookup"><span data-stu-id="de5e9-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="de5e9-115">Determinar se usa tabelas de preparo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="de5e9-116">Validar se os dados dos dados de origem e de destino estão mapeados corretamente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="de5e9-117">Verificar a segurança para seu trabalho de importação ou de exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="de5e9-118">Executar o trabalho de importação ou de exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-118">Run the import or export job.</span></span>
5. <span data-ttu-id="de5e9-119">Validar se o trabalho foi executado conforme esperado, examinando o histórico de trabalho.</span><span class="sxs-lookup"><span data-stu-id="de5e9-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="de5e9-120">Limpar as tabelas de preparo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-120">Clean up the staging tables.</span></span>

<span data-ttu-id="de5e9-121">As seções restantes deste tópico fornecem mais detalhes sobre cada etapa do processo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="de5e9-122">Para atualizar o Formulário de exportação/importação de dados para ver o progresso mais recente, use o ícone de atualização do formulário.</span><span class="sxs-lookup"><span data-stu-id="de5e9-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="de5e9-123">A atualização do navegador não é recomendada porque interromperá qualquer trabalho de exportação/importação que não for executado em lotes.</span><span class="sxs-lookup"><span data-stu-id="de5e9-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="de5e9-124">Criar um trabalho de importação ou de exportação</span><span class="sxs-lookup"><span data-stu-id="de5e9-124">Create an import or export job</span></span>
<span data-ttu-id="de5e9-125">Um trabalho de importação ou exportação de dados pode ser executado uma ou várias vezes.</span><span class="sxs-lookup"><span data-stu-id="de5e9-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="de5e9-126">Definir a categoria do projeto</span><span class="sxs-lookup"><span data-stu-id="de5e9-126">Define the project category</span></span>
<span data-ttu-id="de5e9-127">Recomenda-se que você aproveite o tempo para selecionar uma categoria de projeto adequado para o trabalho de importação ou de exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="de5e9-128">As categorias de projeto podem ajudá-lo a gerenciar trabalhos relacionados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="de5e9-129">Identificar as entidades a serem importadas ou exportadas</span><span class="sxs-lookup"><span data-stu-id="de5e9-129">Identify the entities to import or export</span></span>
<span data-ttu-id="de5e9-130">Você pode adicionar entidades específicas a um trabalho de importação ou de exportação ou selecionar um modelo a ser aplicado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="de5e9-131">Os modelos preenchem um trabalho com uma lista das entidades.</span><span class="sxs-lookup"><span data-stu-id="de5e9-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="de5e9-132">A opção **Aplicar modelo** está disponível depois que você fornecer um nome ao trabalho e salvar o trabalho.</span><span class="sxs-lookup"><span data-stu-id="de5e9-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="de5e9-133">Definir o formato de dados para o trabalho</span><span class="sxs-lookup"><span data-stu-id="de5e9-133">Set the data format for the job</span></span>
<span data-ttu-id="de5e9-134">Quando você seleciona uma entidade, é necessário selecionar o formato de dados que será exportado ou importado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="de5e9-135">Você define formatos usando o bloco **Configuração das fontes de dados**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="de5e9-136">Um formato de dados de origem é uma combinação de **Tipo**, **Formato de arquivo**, **Delimitador de linha** e **Delimitador de colunas**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="de5e9-137">Há outros atributos também, mas esses são os principais a serem compreendidos</span><span class="sxs-lookup"><span data-stu-id="de5e9-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="de5e9-138">A tabela a seguir lista as combinações válidas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="de5e9-139">Formato de Arquivo</span><span class="sxs-lookup"><span data-stu-id="de5e9-139">File Format</span></span>            | <span data-ttu-id="de5e9-140">Delimitador de linha/coluna</span><span class="sxs-lookup"><span data-stu-id="de5e9-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="de5e9-141">Estilo XML</span><span class="sxs-lookup"><span data-stu-id="de5e9-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="de5e9-142">Excel</span><span class="sxs-lookup"><span data-stu-id="de5e9-142">Excel</span></span>                  | <span data-ttu-id="de5e9-143">Excel</span><span class="sxs-lookup"><span data-stu-id="de5e9-143">Excel</span></span>                                      | <span data-ttu-id="de5e9-144">\-NA-</span><span class="sxs-lookup"><span data-stu-id="de5e9-144">\-NA-</span></span>                     |
| <span data-ttu-id="de5e9-145">XML</span><span class="sxs-lookup"><span data-stu-id="de5e9-145">XML</span></span>                    | <span data-ttu-id="de5e9-146">\-NA-</span><span class="sxs-lookup"><span data-stu-id="de5e9-146">\-NA-</span></span>                                      | <span data-ttu-id="de5e9-147">Elemento XML Atributo XML</span><span class="sxs-lookup"><span data-stu-id="de5e9-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="de5e9-148">Delimitado, largura fixa</span><span class="sxs-lookup"><span data-stu-id="de5e9-148">Delimited, fixed width</span></span> | <span data-ttu-id="de5e9-149">Vírgula, ponto e vírgula, guia, barra vertical, dois pontos</span><span class="sxs-lookup"><span data-stu-id="de5e9-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="de5e9-150">\-NA-</span><span class="sxs-lookup"><span data-stu-id="de5e9-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="de5e9-151">Definir sequências das entidades</span><span class="sxs-lookup"><span data-stu-id="de5e9-151">Sequence the entities</span></span>
<span data-ttu-id="de5e9-152">As entidades podem ser sequenciadas em um modelo de dados, ou em trabalhos de importação e exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="de5e9-153">Quando você executa um trabalho que contém mais de uma entidade de dados, você deve garantir que as entidades de dados estão sequenciadas corretamente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="de5e9-154">Você define a sequência, de forma que possa tratar todas as dependências funcionais entre entidades.</span><span class="sxs-lookup"><span data-stu-id="de5e9-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="de5e9-155">Se as entidades se não tiverem dependências funcionais, elas podem ser programadas para importação ou exportação paralela.</span><span class="sxs-lookup"><span data-stu-id="de5e9-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="de5e9-156">Unidades de execução, níveis, e sequências</span><span class="sxs-lookup"><span data-stu-id="de5e9-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="de5e9-157">A unidade de execução, nível na unidade de execução e sequência de ajuda da entidade controlam a ordem em que os dados são exportados ou importados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="de5e9-158">As entidades em unidades diferentes de execução são processados em paralelo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="de5e9-159">Em cada unidade de execução, as entidades são processadas em paralelo, se tiverem o mesmo nível.</span><span class="sxs-lookup"><span data-stu-id="de5e9-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="de5e9-160">Em cada nível, as entidades são processadas de acordo com o número de sequência daquele nível.</span><span class="sxs-lookup"><span data-stu-id="de5e9-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="de5e9-161">Depois que um nível for processado, o nível seguinte será processado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="de5e9-162">Novo sequenciamento</span><span class="sxs-lookup"><span data-stu-id="de5e9-162">Resequencing</span></span>
<span data-ttu-id="de5e9-163">Convém sequenciar novamente as entidades nas seguintes situações:</span><span class="sxs-lookup"><span data-stu-id="de5e9-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="de5e9-164">Se apenas um trabalho de dados for usado para todas as suas alterações, é possível usar as opções de novo sequenciamento para otimizar o tempo de execução do trabalho completo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="de5e9-165">Nesses casos, você pode usar a unidade de execução para representar o módulo, o nível para representar a área de recurso no módulo e a sequência para representar a entidade.</span><span class="sxs-lookup"><span data-stu-id="de5e9-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="de5e9-166">Usando esta abordagem, você pode trabalhar nos módulos em paralelo, mas pode ainda trabalhar em sequência em um módulo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="de5e9-167">Para ajudar a garantir que as operações paralelas são bem-sucedidas, considere todas as dependências.</span><span class="sxs-lookup"><span data-stu-id="de5e9-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="de5e9-168">Se vários trabalhos de dados forem usados (por exemplo, um trabalho para cada módulo), você pode usar o sequenciamento para afetar o nível e a sequência de entidades para a execução ideal.</span><span class="sxs-lookup"><span data-stu-id="de5e9-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="de5e9-169">Se não houver nenhuma dependência, é possível sequenciar as entidades em unidades de execução diferentes para a otimização máxima.</span><span class="sxs-lookup"><span data-stu-id="de5e9-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="de5e9-170">O menu **Nova sequência** fica disponível quando várias entidades forem selecionadas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="de5e9-171">Você pode efetuar novo sequenciamento com base na unidade de execução ou nas opções de sequência.</span><span class="sxs-lookup"><span data-stu-id="de5e9-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="de5e9-172">Você pode definir um incremento para sequenciar novamente as entidades que foram selecionadas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="de5e9-173">A unidade, o nível, e/ou o número de sequência selecionados para cada entidade são atualizados por incremento especificado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="de5e9-174">Classificação</span><span class="sxs-lookup"><span data-stu-id="de5e9-174">Sorting</span></span>
<span data-ttu-id="de5e9-175">Você pode usar a opção **Classificar por** para exibir a lista de entidades na ordem sequencial.</span><span class="sxs-lookup"><span data-stu-id="de5e9-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="de5e9-176">Truncamento</span><span class="sxs-lookup"><span data-stu-id="de5e9-176">Truncating</span></span>
<span data-ttu-id="de5e9-177">Para projetos de importação, você poderá optar por truncar registros nas entidades antes da importação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="de5e9-178">Isso é útil se os registros tiverem que ser importados em um conjunto de tabelas limpo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="de5e9-179">Esta definição está desativada por padrão.</span><span class="sxs-lookup"><span data-stu-id="de5e9-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="de5e9-180">Valide se os dados dos dados de origem e de destino estão mapeados corretamente</span><span class="sxs-lookup"><span data-stu-id="de5e9-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="de5e9-181">Mapeamento é uma função que se aplica aos trabalhos de importação e exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="de5e9-182">No contexto de um trabalho de importação, o mapeamento descreve quais colunas no arquivo de origem se tornam as colunas na tabela de preparo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="de5e9-183">Portanto, o sistema pode determinar quais dados da coluna no arquivo de origem devem ser copiados para a coluna da tabela de preparo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="de5e9-184">No contexto de um trabalho de exportação, o mapeamento descreve quais colunas da tabela de preparo (isto é, da origem) se tornam as colunas no arquivo de destino.</span><span class="sxs-lookup"><span data-stu-id="de5e9-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="de5e9-185">Se os nomes de colunas na tabela de preparo e o arquivo forem correspondentes, o sistema estabelecerá automaticamente o mapeamento, com base nos nomes.</span><span class="sxs-lookup"><span data-stu-id="de5e9-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="de5e9-186">Entretanto, se os nomes forem diferentes, as colunas não serão mapeadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="de5e9-187">Nesses casos, você deverá concluir o mapeamento, selecionando a opção **Exibir mapa** na entidade, no trabalho de dados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="de5e9-188">Há duas exibições de mapeamento: **Visualização de mapeamento**, que é a exibição padrão, e **Detalhes de mapeamento**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="de5e9-189">Um asterisco vermelho (\*) identifica os campos obrigatórios na entidade.</span><span class="sxs-lookup"><span data-stu-id="de5e9-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="de5e9-190">Esses campos devem ser mapeados antes de você trabalhar com a entidade.</span><span class="sxs-lookup"><span data-stu-id="de5e9-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="de5e9-191">Você pode desmapear outros campos, conforme necessário, quando trabalhar com a entidade.</span><span class="sxs-lookup"><span data-stu-id="de5e9-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="de5e9-192">Para desmapear um campo, selecione-o na coluna **Entidade** ou na coluna **Origem** e, em seguida, marque a opção **Excluir seleção**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="de5e9-193">Selecione **Salvar** para salvar suas alterações, e feche a página para retornar ao projeto.</span><span class="sxs-lookup"><span data-stu-id="de5e9-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="de5e9-194">Você pode usar o mesmo processo para editar o mapeamento do campo da origem para o preparo, após a importação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="de5e9-195">Você pode gerar um mapeamento na página, selecionando **Gerar mapeamento de origem**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="de5e9-196">Um mapeamento gerado atua como um mapeamento automático.</span><span class="sxs-lookup"><span data-stu-id="de5e9-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="de5e9-197">Portanto, você deve mapear manualmente todos os campos não mapeados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-197">Therefore, you must manually map any unmapped fields.</span></span>

![Mapeamento de dados](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="de5e9-199">Verificar a segurança para seu trabalho de importação ou de exportação</span><span class="sxs-lookup"><span data-stu-id="de5e9-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="de5e9-200">O acesso ao espaço de trabalho **Gerenciamento de dados** pode ser restrito, de forma que os usuários não administradores possam acessar somente os trabalhos de dados específicos.</span><span class="sxs-lookup"><span data-stu-id="de5e9-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="de5e9-201">O acesso a um trabalho de dados implica em acesso completo ao histórico da execução desse trabalho e acesso a tabelas de preparo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="de5e9-202">Portanto, você deve garantir que os controles de acesso apropriados estão em vigor, ao criar um trabalho de dados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="de5e9-203">Proteger um trabalho por funções e usuário</span><span class="sxs-lookup"><span data-stu-id="de5e9-203">Secure a job by roles and users</span></span>
<span data-ttu-id="de5e9-204">Use o menu **Funções aplicáveis** para limitar o trabalho a uma ou mais funções de segurança.</span><span class="sxs-lookup"><span data-stu-id="de5e9-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="de5e9-205">Somente os usuários dessas funções terão acesso ao trabalho.</span><span class="sxs-lookup"><span data-stu-id="de5e9-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="de5e9-206">Também é possível restringir um trabalho a usuários específicos.</span><span class="sxs-lookup"><span data-stu-id="de5e9-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="de5e9-207">Quando você proteger um trabalho por usuários, em vez de por funções, há mais controle se vários usuários forem atribuídos a uma função.</span><span class="sxs-lookup"><span data-stu-id="de5e9-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="de5e9-208">Proteger um trabalho por entidade legal</span><span class="sxs-lookup"><span data-stu-id="de5e9-208">Secure a job by legal entity</span></span>
<span data-ttu-id="de5e9-209">Os trabalhos de dados são globais por natureza.</span><span class="sxs-lookup"><span data-stu-id="de5e9-209">Data jobs are global in nature.</span></span> <span data-ttu-id="de5e9-210">Portanto, se um trabalho de dados foi criado e usado em uma entidade legal, ele ficará visível em outras entidades legais no sistema.</span><span class="sxs-lookup"><span data-stu-id="de5e9-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="de5e9-211">Esse comportamento padrão pode ser preferencial em alguns cenários de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="de5e9-212">Por exemplo, uma organização que importa notas fiscais usando entidades de dados pode fornecer uma equipe de processamento centralizado de nota fiscal que é responsável por gerenciar erros de faturamento para todas as divisões da organização.</span><span class="sxs-lookup"><span data-stu-id="de5e9-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="de5e9-213">Neste cenário, é útil para a equipe de processamento centralizado de faturamento ter acesso aos trabalhos de importação de nota fiscal das entidades legais.</span><span class="sxs-lookup"><span data-stu-id="de5e9-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="de5e9-214">Portanto, o comportamento padrão atende ao requisito de uma perspectiva da entidade legal.</span><span class="sxs-lookup"><span data-stu-id="de5e9-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="de5e9-215">Entretanto, uma organização pode optar por ter equipes de processamento de nota fiscal por entidade legal.</span><span class="sxs-lookup"><span data-stu-id="de5e9-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="de5e9-216">Nesse caso, uma equipe em uma entidade legal deve ter acesso apenas a trabalhos de importação de faturamento em sua própria entidade legal.</span><span class="sxs-lookup"><span data-stu-id="de5e9-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="de5e9-217">Para atender a este requisito, você pode configurar o controle de acesso baseado na entidade legal em trabalhos de dados usando o menu **Entidades legais aplicáveis** no trabalho de dados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="de5e9-218">Depois que a configuração for feita, os usuários podem ver somente trabalhos que estão disponíveis na entidade legal na qual eles estão conectados atualmente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="de5e9-219">Para consultar trabalhos de outra entidade legal, os usuários devem alternar para essa entidade legal.</span><span class="sxs-lookup"><span data-stu-id="de5e9-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="de5e9-220">Um trabalho pode ser protegido por funções, usuários e por entidade legal simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="de5e9-221">Executar o trabalho de importação ou de exportação</span><span class="sxs-lookup"><span data-stu-id="de5e9-221">Run the import or export job</span></span>
<span data-ttu-id="de5e9-222">Você pode executar um trabalho uma vez, selecionando o botão **Importar** ou **Exportar** após definir o trabalho.</span><span class="sxs-lookup"><span data-stu-id="de5e9-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="de5e9-223">Para configurar um trabalho recorrente, selecione **Criar trabalho de dados recorrente**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="de5e9-224">Um trabalho de importação ou exportação pode ser executado selecionando o botão **Importar** ou **Exportar**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="de5e9-225">Isso agendará um trabalho em lotes para ser executado apenas uma vez.</span><span class="sxs-lookup"><span data-stu-id="de5e9-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="de5e9-226">O trabalho pode não ser executado imediatamente se o serviço de lote estiver limitado devido à carga no serviço de lote.</span><span class="sxs-lookup"><span data-stu-id="de5e9-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="de5e9-227">Os trabalhos também podem ser executados de forma síncrona selecionando **Importar agora** ou **Exportar agora**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="de5e9-228">Isso inicia o trabalho imediatamente e é útil se o lote não for iniciado por limitação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="de5e9-229">Os trabalhos também podem ser programados para execução posterior.</span><span class="sxs-lookup"><span data-stu-id="de5e9-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="de5e9-230">Isso pode ser feito escolhendo a opção **Executar em lote**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="de5e9-231">Como os recursos em lote estão sujeitos a limitação, o trabalho em lotes pode não ser iniciado imediatamente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="de5e9-232">O uso de um lote é a opção recomendada porque também ajudará com grandes volumes de dados que precisam ser importados ou exportados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="de5e9-233">Os trabalhos em lotes podem ser programadas para serem executadas em um grupo de lotes específico, o que permite mais controle de uma perspectiva de balanceamento de carga.</span><span class="sxs-lookup"><span data-stu-id="de5e9-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="de5e9-234">Validar se o trabalho foi executado conforme esperado</span><span class="sxs-lookup"><span data-stu-id="de5e9-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="de5e9-235">O histórico de trabalho está disponível para solução de problemas e investigação sobre trabalhos de importação e exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="de5e9-236">As execuções do histórico do trabalho são organizadas por intervalos de tempo.</span><span class="sxs-lookup"><span data-stu-id="de5e9-236">Historical job runs are organized by time ranges.</span></span>

![Intervalos do histórico de trabalho](./media/dixf-job-history.md.png)

<span data-ttu-id="de5e9-238">Cada execução de trabalho fornece os seguintes detalhes:</span><span class="sxs-lookup"><span data-stu-id="de5e9-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="de5e9-239">Detalhes da execução</span><span class="sxs-lookup"><span data-stu-id="de5e9-239">Execution details</span></span>
- <span data-ttu-id="de5e9-240">Log de execução</span><span class="sxs-lookup"><span data-stu-id="de5e9-240">Execution log</span></span>

<span data-ttu-id="de5e9-241">Os detalhes de execução mostram o estado de cada entidade de trabalho que trabalho processou.</span><span class="sxs-lookup"><span data-stu-id="de5e9-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="de5e9-242">Portanto, você pode localizar rapidamente as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="de5e9-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="de5e9-243">As entidades que foram processadas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-243">Which entities were processed.</span></span>
- <span data-ttu-id="de5e9-244">Para uma entidade, quantos registros foram processados com êxito e quantos com falha.</span><span class="sxs-lookup"><span data-stu-id="de5e9-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="de5e9-245">Os registros de preparo de cada entidade.</span><span class="sxs-lookup"><span data-stu-id="de5e9-245">The staging records for each entity.</span></span>

<span data-ttu-id="de5e9-246">Podem baixar os dados de preparo em um arquivo para exportação de trabalho, ou pode baixá-los como um pacote para trabalhos de importação e exportação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="de5e9-247">A partir dos detalhes de execução, você também pode abrir este log de execução.</span><span class="sxs-lookup"><span data-stu-id="de5e9-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="de5e9-248">Importações paralelas</span><span class="sxs-lookup"><span data-stu-id="de5e9-248">Parallel imports</span></span>
<span data-ttu-id="de5e9-249">Para acelerar a importação de dados, o processamento paralelo da importação de um arquivo poderá ser habilitado se a entidade oferecer suporte a importações paralelas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="de5e9-250">Para configurar a importação paralela de uma entidade, execute as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="de5e9-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="de5e9-251">Vá para **Administração de sistema \> Locais de trabalho \> Gerenciamento de dados**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="de5e9-252">Na seção **Importar/Exportar**, selecione o bloco **Parâmetros da estrutura** para abrir a página **Parâmetros da estrutura de importação/exportação**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="de5e9-253">Na guia **Configurações da entidade**, selecione **Configurar parâmetros de execução da entidade** para abrir a página **Parâmetros de execução da importação da entidade**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="de5e9-254">Defina os seguintes campos para configurar a importação paralela de uma entidade:</span><span class="sxs-lookup"><span data-stu-id="de5e9-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="de5e9-255">No campo **Entidade**, selecione a entidade legal.</span><span class="sxs-lookup"><span data-stu-id="de5e9-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="de5e9-256">No campo **Contagem de registros do limite de importação**, insira a contagem de registros de limite para a importação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="de5e9-257">Isso determina a contagem de registros a ser processada por um thread.</span><span class="sxs-lookup"><span data-stu-id="de5e9-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="de5e9-258">Se um arquivo tiver 10 mil registros, uma contagem de registros equivalente a 2500 com uma contagem de tarefas igual a 4 indica que cada thread processará 2500 registros.</span><span class="sxs-lookup"><span data-stu-id="de5e9-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="de5e9-259">No campo **Contagem de tarefas de importação**, insira a contagem de tarefas de importação.</span><span class="sxs-lookup"><span data-stu-id="de5e9-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="de5e9-260">Isto não deve ultrapassar o máximo de segmentos de lote alocados para o processamento em lote em **Administração do sistema \> Configuração do servidor**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="job-history-clean-up"></a><span data-ttu-id="de5e9-261">Limpeza do histórico de trabalhos</span><span class="sxs-lookup"><span data-stu-id="de5e9-261">Job history clean up</span></span> 
<span data-ttu-id="de5e9-262">A funcionalidade de limpeza de histórico de trabalho no gerenciamento de dados deve ser usada para agendar uma limpeza periódica do histórico de execução.</span><span class="sxs-lookup"><span data-stu-id="de5e9-262">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="de5e9-263">Esta funcionalidade substitui a funcionalidade de limpeza da tabela de preparo anterior, que agora é obsoleta.</span><span class="sxs-lookup"><span data-stu-id="de5e9-263">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="de5e9-264">As tabelas a seguir serão limpadas pelo processo de limpeza.</span><span class="sxs-lookup"><span data-stu-id="de5e9-264">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="de5e9-265">Todas as tabelas de preparo</span><span class="sxs-lookup"><span data-stu-id="de5e9-265">All staging tables</span></span>

-   <span data-ttu-id="de5e9-266">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="de5e9-266">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="de5e9-267">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="de5e9-267">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="de5e9-268">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="de5e9-268">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="de5e9-269">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="de5e9-269">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="de5e9-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="de5e9-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="de5e9-271">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="de5e9-271">DMFEXECUTION</span></span>

-   <span data-ttu-id="de5e9-272">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="de5e9-272">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="de5e9-273">O recurso **Limpar histórico de execução** deve ser habilitada no gerenciamento de recursos e pode ser acessada em **Gerenciamento de dados \> Limpar histórico de trabalho**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-273">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="de5e9-274">Agendamento de parâmetros</span><span class="sxs-lookup"><span data-stu-id="de5e9-274">Scheduling parameters</span></span>

<span data-ttu-id="de5e9-275">Ao agendar o processo de limpeza, os parâmetros a seguir devem ser especificados para definir os critérios de limpeza.</span><span class="sxs-lookup"><span data-stu-id="de5e9-275">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="de5e9-276">**Número de dias para manter o histórico** – Esta configuração é usada para controlar o valor do histórico de execução a ser preservado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-276">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="de5e9-277">Isso é especificado em número de dias.</span><span class="sxs-lookup"><span data-stu-id="de5e9-277">This is specified in number of days.</span></span> <span data-ttu-id="de5e9-278">Quando o trabalho de limpeza for agendado como um trabalho em lotes recorrente, essa configuração agirá como uma janela em movimento contínuo, sempre deixando o histórico para o número específico de dias intacto, excluindo o resto.</span><span class="sxs-lookup"><span data-stu-id="de5e9-278">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="de5e9-279">O padrão são 7 dias.</span><span class="sxs-lookup"><span data-stu-id="de5e9-279">The default is 7 days.</span></span>

-   <span data-ttu-id="de5e9-280">**Número de horas para executar o trabalho** – Dependendo do valor do histórico a ser limpo, o tempo de execução total para o trabalho de limpeza pode variar de alguns minutos a algumas horas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-280">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="de5e9-281">Esse parâmetro deve ser definido como o número de horas que o trabalho será executado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-281">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="de5e9-282">Após a execução do trabalho de limpeza pelo número especificado de horas, o trabalho será encerrado e continuará a limpeza na próxima execução, com base no plano de recorrência.</span><span class="sxs-lookup"><span data-stu-id="de5e9-282">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="de5e9-283">Pode-se especificar um tempo máximo de execução, definindo um limite máximo no número de horas em que o trabalho deve ser executado usando esta configuração.</span><span class="sxs-lookup"><span data-stu-id="de5e9-283">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="de5e9-284">A lógica de limpeza passa por uma ID de execução de trabalho de cada vez em uma sequência disposta cronologicamente, com o mais antigo primeiro para a limpeza do histórico de execução relacionado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-284">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="de5e9-285">Não serão mais escolhidas novas IDs de execução para limpeza quando a duração de execução restante estiver nos últimos 10% da duração especificada.</span><span class="sxs-lookup"><span data-stu-id="de5e9-285">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="de5e9-286">Em alguns casos, espera-se que o trabalho de limpeza continue além do tempo máximo especificado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-286">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="de5e9-287">Isso dependerá muito do número de registros a serem excluídos para a ID de execução atual que foi iniciada antes de o limite de 10% ser alcançado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-287">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="de5e9-288">A limpeza iniciada deve ser concluída para garantir a integridade dos dados. Isso significa que a limpeza continuará, apesar de exceder o limite especificado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-288">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="de5e9-289">Quando isso for concluído, as novas IDs de execução não serão retiradas e o trabalho de limpeza será concluído.</span><span class="sxs-lookup"><span data-stu-id="de5e9-289">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="de5e9-290">O histórico de execução restante que não foi limpo, devido à falta de tempo suficiente de execução, será escolhido da próxima vez que o trabalho de limpeza for agendado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-290">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="de5e9-291">O valor padrão e mínimo para essa configuração está definido como 2 horas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-291">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="de5e9-292">**Lote recorrente** – O trabalho de limpeza pode ser executado como uma única execução manual ou pode ser agendado para execução recorrente em lotes.</span><span class="sxs-lookup"><span data-stu-id="de5e9-292">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="de5e9-293">O lote pode ser agendado usando a configuração **Executar em segundo plano**, que é a configuração padrão do lote.</span><span class="sxs-lookup"><span data-stu-id="de5e9-293">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="de5e9-294">Se os registros nas tabelas de preparo não forem completamente limpos, verifique se o trabalho de limpeza está programado para ser executado em recorrência.</span><span class="sxs-lookup"><span data-stu-id="de5e9-294">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="de5e9-295">Conforme explicado acima, em qualquer execução de limpeza, o trabalho limpará apenas o maior número possível de IDs de execução dentro das horas máximas fornecidas.</span><span class="sxs-lookup"><span data-stu-id="de5e9-295">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="de5e9-296">Para continuar a limpeza de todos os registros de preparo restantes, o trabalho deve ser agendado para ser executado periodicamente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-296">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="de5e9-297">Limpeza e arquivamento de histórico de trabalho (disponível para visualização na atualização de plataforma 39 ou versão 10.0.15)</span><span class="sxs-lookup"><span data-stu-id="de5e9-297">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="de5e9-298">A funcionalidade de limpeza e arquivamento do histórico de trabalho substitui as versões anteriores da funcionalidade de limpeza.</span><span class="sxs-lookup"><span data-stu-id="de5e9-298">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="de5e9-299">Esta seção explicará esses novos recursos.</span><span class="sxs-lookup"><span data-stu-id="de5e9-299">This section will explain these new capabilities.</span></span>

<span data-ttu-id="de5e9-300">Uma das principais alterações feitas na funcionalidade de limpeza é o uso do trabalho em lotes do sistema para limpar o histórico.</span><span class="sxs-lookup"><span data-stu-id="de5e9-300">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="de5e9-301">O uso do trabalho em lotes do sistema permite que aplicativos do Finance and Operations agendem e executem automaticamente o trabalho em lote de limpeza assim que o sistema estiver pronto.</span><span class="sxs-lookup"><span data-stu-id="de5e9-301">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="de5e9-302">Não é mais necessário agendar o trabalho em lotes manualmente.</span><span class="sxs-lookup"><span data-stu-id="de5e9-302">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="de5e9-303">Neste modo de execução padrão, o trabalho em lotes será executado de hora em hora a partir da meia-noite e manterá o histórico de execução dos 7 dias mais recentes.</span><span class="sxs-lookup"><span data-stu-id="de5e9-303">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="de5e9-304">O histórico removido é arquivado para recuperação futura.</span><span class="sxs-lookup"><span data-stu-id="de5e9-304">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="de5e9-305">Como essa funcionalidade está na versão prévia, o trabalho em lotes do sistema não excluirá nenhum histórico de execução até que seja habilitado por meio da versão piloto DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="de5e9-305">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="de5e9-306">Quando o recurso estiver amplamente disponível em uma versão futura, essa versão piloto não será necessária e o trabalho em lotes do sistema começará a ser limpo e arquivado depois que o sistema estiver pronto, com base no agendamento definido, conforme explicado acima.</span><span class="sxs-lookup"><span data-stu-id="de5e9-306">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="de5e9-307">Em uma versão futura, as versões anteriores da funcionalidade de limpeza serão removidas dos aplicativos Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="de5e9-307">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="de5e9-308">A segunda alteração no processo de limpeza é o arquivamento do histórico de execução removido.</span><span class="sxs-lookup"><span data-stu-id="de5e9-308">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="de5e9-309">O trabalho de limpeza arquivará os registros excluídos no armazenamento de blobs que o DIXF usa para integrações normais.</span><span class="sxs-lookup"><span data-stu-id="de5e9-309">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="de5e9-310">O item arquivado estará no formato de pacote DIXF e ficará disponível por 7 dias no blob durante os quais ele pode ser baixado.</span><span class="sxs-lookup"><span data-stu-id="de5e9-310">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="de5e9-311">A longevidade padrão de 7 dias do item arquivado pode ser alterada para um máximo de 90 dias nos parâmetros.</span><span class="sxs-lookup"><span data-stu-id="de5e9-311">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="de5e9-312">Alterar as configurações padrão</span><span class="sxs-lookup"><span data-stu-id="de5e9-312">Changing the default settings</span></span>
<span data-ttu-id="de5e9-313">No momento, essa funcionalidade está na versão prévia e deve ser explicitamente ativada habilitando a versão piloto DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="de5e9-313">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="de5e9-314">O recurso de limpeza de preparo também deve ser ativado no gerenciamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="de5e9-314">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="de5e9-315">Para alterar a configuração padrão para a longevidade do item arquivado, vá para o espaço de trabalho gerenciamento de dados e selecione **Limpar histórico de trabalho**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-315">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="de5e9-316">Defina **Dias para reter o pacote em blob** como um valor entre 7 e 90 (inclusos).</span><span class="sxs-lookup"><span data-stu-id="de5e9-316">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="de5e9-317">Isso entrará em vigor nos arquivos criados depois que essa alteração tiver sido feita.</span><span class="sxs-lookup"><span data-stu-id="de5e9-317">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="de5e9-318">Baixar o pacote arquivado</span><span class="sxs-lookup"><span data-stu-id="de5e9-318">Downloading the archived package</span></span>
<span data-ttu-id="de5e9-319">No momento, essa funcionalidade está na versão prévia e deve ser explicitamente ativada habilitando a versão piloto DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="de5e9-319">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="de5e9-320">O recurso de limpeza de preparo também deve ser ativado no gerenciamento de recursos.</span><span class="sxs-lookup"><span data-stu-id="de5e9-320">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="de5e9-321">Para baixar o histórico de execução arquivado, vá para o espaço de trabalho gerenciamento de dados e selecione **Limpar histórico de trabalho**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-321">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="de5e9-322">Selecione **Histórico de backup de pacote** para abrir o formulário histórico.</span><span class="sxs-lookup"><span data-stu-id="de5e9-322">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="de5e9-323">Este formulário mostra a lista de todos os pacotes arquivados.</span><span class="sxs-lookup"><span data-stu-id="de5e9-323">This form shows the list of all archived packages.</span></span> <span data-ttu-id="de5e9-324">É possível selecionar e baixar um arquivo morto ao selecionar o **Baixar pacote**.</span><span class="sxs-lookup"><span data-stu-id="de5e9-324">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="de5e9-325">O pacote baixado estará no formato de pacote DIXF e contém os seguintes arquivos:</span><span class="sxs-lookup"><span data-stu-id="de5e9-325">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="de5e9-326">O arquivo da tabela de preparo da entidade</span><span class="sxs-lookup"><span data-stu-id="de5e9-326">The entity staging table file</span></span>
-   <span data-ttu-id="de5e9-327">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="de5e9-327">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="de5e9-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="de5e9-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="de5e9-329">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="de5e9-329">DMFEXECUTION</span></span>
-   <span data-ttu-id="de5e9-330">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="de5e9-330">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="de5e9-331">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="de5e9-331">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="de5e9-332">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="de5e9-332">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="de5e9-333">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="de5e9-333">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
