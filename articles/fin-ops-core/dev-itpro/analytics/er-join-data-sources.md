---
title: Usar as fontes de dados JOIN nos mapeamentos do modelo de ER para obter dados de várias tabelas de aplicativos
description: Este tópico explica como você pode usar fontes de dados do tipo JOIN no relatório eletrônico (ER).
author: NickSelin
ms.date: 04/26/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-03-01
ms.dyn365.ops.version: Release 10.0.1
ms.openlocfilehash: be5646eaf395310c8b34586ef1274a41b5b97029
ms.sourcegitcommit: ab3f5d0da6eb0177bbad720e73c58926d686f168
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/26/2021
ms.locfileid: "5944694"
---
# <a name="use-join-data-sources-to-get-data-from-multiple-application-tables-in-electronic-reporting-er-model-mappings"></a><span data-ttu-id="e2ea7-103">Usar as fontes de dados JOIN para obter dados de várias tabelas de aplicativos nos mapeamentos do modelo de relatório eletrônico (ER)</span><span class="sxs-lookup"><span data-stu-id="e2ea7-103">Use JOIN data sources to get data from multiple application tables in Electronic reporting (ER) model mappings</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="e2ea7-104">Ao configurar mapeamentos ou formatos de modelo de relatório eletrônico (ER), é possível [adicionar](#review) fontes de dados exigidas do tipo **Join**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-104">While configuring Electronic reporting (ER) model mappings or formats, you can [add](#review) required data sources of the **Join** type.</span></span> <span data-ttu-id="e2ea7-105">No momento da criação, uma fonte de dados **Join** é configurada como um conjunto de várias fontes de dados, com cada uma retornando uma lista de registros.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-105">At design time, a **Join** data source is configured as a set of several data sources each of which returns a list of records.</span></span> <span data-ttu-id="e2ea7-106">Em todas as fontes de dados, com exceção da primeira, é necessário definir as condições necessárias para inclusão dos registros das fontes de dados atuais e anteriores.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-106">For every data source except the first one, you need to define necessary conditions to join records of the current and previous data sources.</span></span> <span data-ttu-id="e2ea7-107">Durante a execução, uma fonte de dados configurada do tipo **Join** [retornará](#executeERformat) uma única lista incluída de registros contendo campos dos registros de fontes de dados aninhadas.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-107">At runtime, a configured data source of **Join** type [returns](#executeERformat) a single joined list of records containing fields from the records of nested data sources.</span></span>

<span data-ttu-id="e2ea7-108">Atualmente, há suporte para os seguintes tipos de junções:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-108">The following types of joins are currently supported:</span></span>

- <span data-ttu-id="e2ea7-109">Junção externa (esquerda):</span><span class="sxs-lookup"><span data-stu-id="e2ea7-109">Outer (left) join:</span></span>
    - <span data-ttu-id="e2ea7-110">Inclua todos os registros da primeira fonte de dados (mais à esquerda) e, em seguida, qualquer correspondência de acordo com os registros de condições configurados da segunda fonte de dados (mais à direita).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-110">Join all records of the first (left-most) data source and then any matching in accordance to configured conditions records of the second (right-most) data source.</span></span>
- <span data-ttu-id="e2ea7-111">Junção externa (direita):</span><span class="sxs-lookup"><span data-stu-id="e2ea7-111">Inner (right) join:</span></span>
    - <span data-ttu-id="e2ea7-112">Inclua apenas registros da primeira fonte de dados (mais à esquerda) e apenas registros da segunda fonte de dados (mais à direita) que correspondam entre si de acordo com as condições configuradas.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-112">Join only records of the first (left-most) data source and only records of the second (right-most) data source matching to each other in accordance to configured conditions.</span></span>

<span data-ttu-id="e2ea7-113">Na fonte de dados **Join** configurada, quando todas as fontes de dados são do tipo **Registros de tabela**, a execução da fonte de dados Join pode ser [realizada no nível do banco de dados](#analyze) usando uma única instrução SQL.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-113">In the configured **Join** data source, when all data sources are the **Table records** type, execution of the Join data source can be [performed at the database level](#analyze) using a single SQL statement.</span></span> <span data-ttu-id="e2ea7-114">Essa instrução reduz o número de chamadas de banco de dados, o que melhora o desempenho do mapeamento do modelo.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-114">This statement reduces the number of database calls, which improves model-mapping performance.</span></span> <span data-ttu-id="e2ea7-115">Caso contrário, a execução da fonte de dados **Join** é executada na memória.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-115">Otherwise, execution of **Join data** source is performed in memory.</span></span>

> [!NOTE]
> <span data-ttu-id="e2ea7-116">Ainda não há suporte para o uso da função **VALUEIN** em expressões de ER que especificam condições para inclusão de registros em fontes de dados do tipo Join.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-116">Using the **VALUEIN** function in ER expressions that specify conditions for joining records in data sources of Join type is not supported yet.</span></span> <span data-ttu-id="e2ea7-117">Visite a página [Designer de fórmulas em relatórios eletrônicos](general-electronic-reporting-formula-designer.md) para obter mais detalhes sobre essa função.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-117">Visit the [Formula designer in Electronic reporting](general-electronic-reporting-formula-designer.md) page for more details about this function.</span></span>

<span data-ttu-id="e2ea7-118">Para saber mais sobre este recurso, conclua o exemplo neste tópico.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-118">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="example-use-join-data-sources-in-er-model-mappings"></a><span data-ttu-id="e2ea7-119">Exemplo: use fontes de dados JOIN em mapeamentos do modelo de ER</span><span class="sxs-lookup"><span data-stu-id="e2ea7-119">Example: Use JOIN data sources in ER model mappings</span></span>

<span data-ttu-id="e2ea7-120">As etapas a seguir explicam como o administrador do sistema ou o desenvolvedor de relatórios eletrônicos pode configurar um mapeamento de modelo de relatórios eletrônicos (ER) para obter dados de várias tabelas de aplicativos de uma só vez usando fontes de dados do tipo **Join** para melhorar o desempenho do acesso a dados.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-120">The following steps explain how the System administrator or Electronic reporting developer can configure an Electronic reporting (ER) model mapping to get data from multiple application tables at once by using data sources of the **Join** type to improve data access performance.</span></span> <span data-ttu-id="e2ea7-121">Essas etapas podem ser executadas em qualquer empresa do Dynamics 365 Finance ou Regulatory Configuration Services (RCS).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-121">These steps can be performed for any company of Dynamics 365 Finance or Regulatory Configuration Services (RCS).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="e2ea7-122">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="e2ea7-122">Prerequisites</span></span>

<span data-ttu-id="e2ea7-123">Para concluir os exemplos neste tópico, você deve ter acesso a um dos itens a seguir, dependendo de qual serviço é usado para concluir estas etapas:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-123">To complete the examples in this topic, you must have access to one of the following depending on what service is used to compete these steps:</span></span>

<span data-ttu-id="e2ea7-124">**Acesso ao Finance para uma das seguintes funções:**</span><span class="sxs-lookup"><span data-stu-id="e2ea7-124">**Access to Finance for one of the following roles:**</span></span>

- <span data-ttu-id="e2ea7-125">Desenvolvedor de relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="e2ea7-125">Electronic reporting developer</span></span>
- <span data-ttu-id="e2ea7-126">Consultor funcional de relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="e2ea7-126">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="e2ea7-127">Administrador do sistema</span><span class="sxs-lookup"><span data-stu-id="e2ea7-127">System administrator</span></span>

<span data-ttu-id="e2ea7-128">**Acesso ao RCS para uma das seguintes funções:**</span><span class="sxs-lookup"><span data-stu-id="e2ea7-128">**Access to RCS for one of the following roles:**</span></span>

- <span data-ttu-id="e2ea7-129">Desenvolvedor de relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="e2ea7-129">Electronic reporting developer</span></span>
- <span data-ttu-id="e2ea7-130">Consultor funcional de relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="e2ea7-130">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="e2ea7-131">Administrador do sistema</span><span class="sxs-lookup"><span data-stu-id="e2ea7-131">System administrator</span></span>

<span data-ttu-id="e2ea7-132">Primeiro você também deve concluir as etapas no procedimento [Criar um provedor de configuração e marcá-lo como ativo](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-132">You also must first complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

<span data-ttu-id="e2ea7-133">Previamente, você também deve baixar e salvar os seguintes arquivos de configuração ER de exemplo:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-133">In advance, you must also download and save the following sample ER configuration files:</span></span>

| <span data-ttu-id="e2ea7-134">**Descrição do conteúdo**</span><span class="sxs-lookup"><span data-stu-id="e2ea7-134">**Content description**</span></span>  | <span data-ttu-id="e2ea7-135">**Nome do arquivo**</span><span class="sxs-lookup"><span data-stu-id="e2ea7-135">**File name**</span></span>   |
|--------------------------|-----------------|
| <span data-ttu-id="e2ea7-136">Amostra do arquivo de configuração **Modelo de dados de ER**, usado como fonte de dados para os exemplos.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-136">Sample **ER data model** configuration file, which is used as the data source for the examples.</span></span>| [<span data-ttu-id="e2ea7-137">Modelo para conhecer fontes de dados JOIN.versão.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="e2ea7-137">Model to learn JOIN data sources.version.1.1.xml</span></span>](https://download.microsoft.com/download/5/c/1/5c1d8a57-6ebd-425b-bc5d-c71dde92c6af/ModeltolearnJOINdatasources.version.1.xml) |
| <span data-ttu-id="e2ea7-138">Amostra do arquivo de configuração **Mapeamento do modelo de ER**, que implementa o modelo de dados de ER para os exemplos.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-138">Sample **ER model mapping** configuration file, which implements the ER data model for the examples.</span></span> | [<span data-ttu-id="e2ea7-139">Mapeamento para conhecer fontes de dados JOIN.versão.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="e2ea7-139">Mapping to learn JOIN data sources.version.1.1.xml</span></span>](https://user-images.githubusercontent.com/19827601/115923048-86b10400-a432-11eb-9e57-c37a02effcb4.png)|
| <span data-ttu-id="e2ea7-140">Amostra do arquivo de configuração **Formato de ER**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-140">Sample **ER format** configuration file.</span></span> <span data-ttu-id="e2ea7-141">Este arquivo descreve os dados para preencher o componente de formato de ER para os exemplos.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-141">This file describes the data to populate the ER format component for the examples.</span></span> | [<span data-ttu-id="e2ea7-142">Formato para conhecer fontes de dados JOIN.versão.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="e2ea7-142">Format to learn JOIN data sources.version.1.1.xml</span></span>](https://download.microsoft.com/download/f/f/8/ff8f1b48-14d0-4c73-9145-bcdf8b5265bc/FormattolearnJOINdatasources.version.1.1.xml) |

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="e2ea7-143">Ativar um provedor de configurações</span><span class="sxs-lookup"><span data-stu-id="e2ea7-143">Activate a configurations provider</span></span>

1. <span data-ttu-id="e2ea7-144">Acesse o Finance ou o RCS na primeira sessão do seu navegador da Web.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-144">Access either Finance or RCS in the first session of your web browser.</span></span>
2. <span data-ttu-id="e2ea7-145">Ir para **Administração da organização \> Espaços de trabalho \> Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-145">Go to **Organization administration \> Workspaces \> Electronic reporting**.</span></span>
3. <span data-ttu-id="e2ea7-146">Na página **Configurações de localização**, na seção **Provedores de configuração**, verifique se o provedor de configuração para a empresa de exemplo [Litware, Inc.](http://www.litware.com) está listado e marcado como **Ativo**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-146">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the configuration provider for the [Litware, Inc.](http://www.litware.com) sample company is listed, and that it's marked as **Active**.</span></span> <span data-ttu-id="e2ea7-147">Caso não veja este provedor de configuração, siga as etapas do procedimento [Criar um provedor de configuração e marcá-lo como ativo](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-147">If you don't see this configuration provider, follow the steps in [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

    ![Espaço de trabalho de relatório eletrônico](./media/GER-JoinDS-ActiveProvider.PNG)

### <a name="import-sample-er-configuration-files"></a><span data-ttu-id="e2ea7-149">Importar amostra de arquivos de configuração de ER</span><span class="sxs-lookup"><span data-stu-id="e2ea7-149">Import sample ER configuration files</span></span>

1. <span data-ttu-id="e2ea7-150">Selecione **Configurações de relatórios**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-150">Select **Reporting configurations**.</span></span>
2. <span data-ttu-id="e2ea7-151">Importe o arquivo de configuração Modelo de dados de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-151">Import the ER data model configuration file.</span></span>
    1. <span data-ttu-id="e2ea7-152">Selecione **Taxa de câmbio**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-152">Select **Exchange**.</span></span>
    2. <span data-ttu-id="e2ea7-153">Selecione **Carregar do arquivo XML**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-153">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="e2ea7-154">Selecione **Procurar** para encontrar o arquivo **Modelo para conhecer fontes de dados JOIN.versão.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-154">Select **Browse** to find the **Model to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="e2ea7-155">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-155">Select **OK**.</span></span>
3. <span data-ttu-id="e2ea7-156">Importe o arquivo de configuração Mapeamento de modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-156">Import the ER model-mapping configuration file.</span></span>
    1. <span data-ttu-id="e2ea7-157">Selecione **Taxa de câmbio**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-157">Select **Exchange**.</span></span>
    2. <span data-ttu-id="e2ea7-158">Selecione **Carregar do arquivo XML**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-158">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="e2ea7-159">Selecione **Procurar** para encontrar o arquivo **Mapeamento para conhecer fontes de dados JOIN.versão.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-159">Select **Browse** to find the **Mapping to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="e2ea7-160">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-160">Select **OK**.</span></span>
4. <span data-ttu-id="e2ea7-161">Importe o arquivo de configuração do formato de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-161">Import the ER format configuration file.</span></span>
    1. <span data-ttu-id="e2ea7-162">Selecione **Taxa de câmbio**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-162">Select **Exchange**.</span></span>
    2. <span data-ttu-id="e2ea7-163">Selecione **Carregar do arquivo XML**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-163">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="e2ea7-164">Selecione **Procurar** para encontrar o arquivo **Formato para conhecer fontes de dados JOIN.versão.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-164">Select **Browse** to find the **Format to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="e2ea7-165">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-165">Select **OK**.</span></span>
5. <span data-ttu-id="e2ea7-166">Na árvore de configurações, expanda o item **Modelo para conhecer fontes de dados JOIN**, bem como outros itens de modelo (quando disponíveis).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-166">In the configurations tree, expand the **Model to learn JOIN data sources** item as well as other model items (when available).</span></span>
6. <span data-ttu-id="e2ea7-167">Observe a lista de configurações ER na árvore e os detalhes da versão na FastTab **Versões**. Tais informações serão usadas como fonte de dados no relatório de exemplo.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-167">Observe the list of ER configurations in the tree as well as version details on the **Versions** FastTab – they will be used as the source of data for your sample report.</span></span>

    ![Página de configurações de relatórios eletrônicos](./media/GER-JoinDS-ConfigurationsTree.PNG)

### <a name="turn-on-execution-trace-options"></a><span data-ttu-id="e2ea7-169">Ativar opções de rastreamento de execução</span><span class="sxs-lookup"><span data-stu-id="e2ea7-169">Turn on execution trace options</span></span>

1. <span data-ttu-id="e2ea7-170">Selecione **CONFIGURAÇÕES**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-170">Select **CONFIGURATIONS**.</span></span>
2. <span data-ttu-id="e2ea7-171">Selecione **Parâmetros de usuário**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-171">Select **User parameters**.</span></span>
3. <span data-ttu-id="e2ea7-172">Defina os parâmetros de rastreamento de execução, conforme mostrado na captura de tela abaixo.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-172">Set execution trace parameters as shown on the screenshot below.</span></span>

    ![Página de parâmetros do usuário de relatórios eletrônicos](./media/GER-JoinDS-Parameters.PNG)

    <span data-ttu-id="e2ea7-174">Com esses parâmetros ativados, para cada execução do arquivo de formato de ER importado, o rastreamento de execução será gerado.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-174">With these parameters turned on, for every execution of the imported ER format file, the execution trace will be generated.</span></span> <span data-ttu-id="e2ea7-175">Usando detalhes do rastreamento de execução gerado, é possível analisar a execução do formato de ER e dos componentes de mapeamento do modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-175">Using details of generated execution trace, you can analyze the execution of ER format and ER model-mapping components.</span></span> <span data-ttu-id="e2ea7-176">Visite a página [Rastrear a execução do formato de ER para solucionar problemas de desempenho](trace-execution-er-troubleshoot-perf.md) para obter mais detalhes sobre o recurso de rastreamento de execução do ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-176">Visit the [Trace execution of ER format to troubleshoot performance issues](trace-execution-er-troubleshoot-perf.md) page for more details about ER execution trace feature.</span></span>

### <a name="review-er-model-mapping-part-1"></a><span data-ttu-id="e2ea7-177">Revisar o mapeamento do modelo de ER (parte 1)</span><span class="sxs-lookup"><span data-stu-id="e2ea7-177">Review ER model mapping (part 1)</span></span>

<span data-ttu-id="e2ea7-178">Revise as configurações do componente de mapeamento do modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-178">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="e2ea7-179">O componente está configurado para acessar informações sobre versões de configurações de ER, detalhes de configurações e provedores de configuração sem usar fontes de dados do tipo **Join**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-179">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers without using data sources of the **Join** type.</span></span>

1. <span data-ttu-id="e2ea7-180">Selecione a configuração **Mapeamento para conhecer fontes de dados JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-180">Select **Mapping to learn JOIN data sources** configuration.</span></span>
2. <span data-ttu-id="e2ea7-181">Selecione **Designer** para abrir a lista de mapeamentos.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-181">Select **Designer** to open the list of mappings.</span></span>
3. <span data-ttu-id="e2ea7-182">Selecione **Designer** para revisar os detalhes do mapeamento.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-182">Select **Designer** to review the mapping details.</span></span>
4. <span data-ttu-id="e2ea7-183">Selecione **Mostrar detalhes**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-183">Select **Show details**.</span></span>
5. <span data-ttu-id="e2ea7-184">Na árvore de configurações, expanda os itens do modelo de dados **Set1** e **Set1.Details**:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-184">In the configurations tree, expand the **Set1** and **Set1.Details** data model items:</span></span>

    1. <span data-ttu-id="e2ea7-185">A associação de **Details: Record list = Versions** indica que o item **Set1.Details** está vinculado à fonte de dados **Versões** retornando registros da tabela **ERSolutionVersionTable**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-185">Binding **Details: Record list = Versions** indicates that the **Set1.Details** item is bound to the **Versions** data source returning records of the **ERSolutionVersionTable** table.</span></span> <span data-ttu-id="e2ea7-186">Cada registro desta tabela representa uma única versão de uma configuração de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-186">Each record of this table represents a single version of an ER configuration.</span></span> <span data-ttu-id="e2ea7-187">O conteúdo desta tabela é apresentado na FastTab **Versões** da página **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-187">The content of this table is presented in the **Versions** FastTab on the **Configurations** page.</span></span>
    2. <span data-ttu-id="e2ea7-188">A associação de **ConfigurationVersion: String = @.PublicVersionNumber** significa que o valor da versão pública da versão de cada configuração de ER é retirado do campo **PublicVersionNumber** da tabela **ERSolutionVersionTable** e colocado no item **ConfigurationVersion**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-188">Binding **ConfigurationVersion: String = @.PublicVersionNumber** means that the value of the public version of each ER configuration’s version is taken from the **PublicVersionNumber** field of the **ERSolutionVersionTable** table and placed to the **ConfigurationVersion** item.</span></span>
    3. <span data-ttu-id="e2ea7-189">A associação de **ConfigurationTitle: String = @.'>Relations'.Solution.Name** indica que o nome de uma configuração de ER é obtido do campo **Nome** da tabela **ERSolutionTable** com avaliação por meio da relação várias para um (**'>Relations'**) entre as tabelas **ERSolutionVersionTable** e **ERSolutionTable**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-189">Binding **ConfigurationTitle: String = @.'>Relations'.Solution.Name** indicates that the name of an ER configuration is taken from the **Name** field of the **ERSolutionTable** table assessing by using the many-to-one relation (**'>Relations'**) between the **ERSolutionVersionTable** and **ERSolutionTable** tables.</span></span> <span data-ttu-id="e2ea7-190">Os nomes das configurações de ER da instância atual do aplicativo são apresentados na árvore de configurações na página **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-190">Names of ER configurations of the current application instance are presented in the configurations tree on the **Configurations** page.</span></span>
    4. <span data-ttu-id="e2ea7-191">A associação de **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** significa que o nome do provedor de configuração que possui a configuração atual é obtido do campo **Nome** da tabela **ERVendorTable** com avaliação por meio da relação várias para um entre as tabelas **ERSolutionTable** e **ERVendorTable**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-191">Binding **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** means that the name of the configuration provider that owns the current configuration is taken from the **Name** field of the **ERVendorTable** table assessing by using the many-to-one relation between **ERSolutionTable** and **ERVendorTable** tables.</span></span> <span data-ttu-id="e2ea7-192">Os nomes dos provedores de configuração de ER são apresentados na árvore de configurações na página **Configurações** no cabeçalho da página de cada configuração.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-192">Names of ER configuration providers are presented in the configurations tree on the **Configurations** page on the page header for each configuration.</span></span> <span data-ttu-id="e2ea7-193">A lista inteira de provedores de configuração de ER pode ser encontrada na página da tabela **Administração da organização \> Relatório eletrônico \> Provedor de configuração**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-193">The entire list of ER configuration providers can be found on the **Organization administration \> Electronic reporting \> Configuration provider** table page.</span></span>

    ![Página Designer de mapeamento de modelo ER, lista de itens de modelo de dados associado](./media/GER-JoinDS-Set1Review.PNG)

6. <span data-ttu-id="e2ea7-195">Na árvore de configurações, expanda o item do modelo de dados **Set1.Summary**:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-195">In the configurations tree, expand the **Set1.Summary** data model item:</span></span>

    1. <span data-ttu-id="e2ea7-196">A associação de **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indica que o item **Set1.Summary.VersionsNumber** está vinculado ao campo de agregação **VersionsNumber** da fonte de dados **VersionsSummary** do tipo **GroupBy** que foi configurado para retornar o número de registros da tabela **ERSolutionVersionTable** por meio da fonte de dados **Versões**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-196">Binding **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indicates that the **Set1.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **VersionsSummary** data source of the **GroupBy** type that was configured to return the number of records of the **ERSolutionVersionTable** table via the **Versions** data source.</span></span>

    ![Editar página de parâmetros 'Agrupar por'](./media/GER-JoinDS-Set1GroupByReview.PNG)

7. <span data-ttu-id="e2ea7-198">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-198">Close the page.</span></span>

### <a name="review-er-model-mapping-part-2"></a><a name="review"></a> <span data-ttu-id="e2ea7-199">Revisar o mapeamento do modelo de ER (parte 2)</span><span class="sxs-lookup"><span data-stu-id="e2ea7-199">Review ER model mapping (part 2)</span></span>

<span data-ttu-id="e2ea7-200">Revise as configurações do componente de mapeamento do modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-200">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="e2ea7-201">O componente está configurado para acessar informações sobre versões de configurações de ER, detalhes de configurações e provedores de configuração com o uso de fonte de dados do tipo **Join**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-201">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers with using a data source of the **Join** type.</span></span>

1. <span data-ttu-id="e2ea7-202">Na árvore de configurações, expanda os itens do modelo de dados **Set2** e **Set2.Details**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-202">In the configurations tree, expand the **Set2** and **Set2.Details** data model items.</span></span> <span data-ttu-id="e2ea7-203">A associação de **Details: Record list = Details** indica que o item **Set2.Details** está vinculado à fonte de dados **Detalhes** configurada como a fonte de dados do tipo **Join**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-203">The binding **Details: Record list = Details** indicates that the **Set2.Details** item is bound to the **Details** data source configured as the data source of the **Join** type.</span></span>

    ![Página Designer de mapeamento do modelo ER que mostra itens do modelo de dados Set2:Record expandido](./media/GER-JoinDS-Set2Review.PNG)

    <span data-ttu-id="e2ea7-205">A fonte de dados **Join** pode ser adicionada selecionando a fonte de dados **Funções\Join**:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-205">The **Join** data source can be added by selecting the **Functions\Join** data source:</span></span>

    ![Página Designer de mapeamento do modelo ER, tipo de fonte de dados Join](./media/GER-JoinDS-AddJoinDS.PNG)

2. <span data-ttu-id="e2ea7-207">Selecione a fonte de dados **Detalhes**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-207">Select **Detail** s data source.</span></span>
3. <span data-ttu-id="e2ea7-208">Selecione **Editar** no painel **Fontes de dados**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-208">Select **Edit** in the **Data sources** pane.</span></span>
4. <span data-ttu-id="e2ea7-209">Selecione **Editar junção**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-209">Select **Edit join**.</span></span>
5. <span data-ttu-id="e2ea7-210">Selecione **Mostrar detalhes**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-210">Select **Show details**.</span></span>

    ![Página de parâmetros da fonte de dados JOIN](./media/GER-JoinDS-JoinDSEditor.PNG)

    <span data-ttu-id="e2ea7-212">Esta página é usada para criar a fonte de dados necessária do **tipo Join**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-212">This page is used to design the required data source of the **Join type**.</span></span> <span data-ttu-id="e2ea7-213">No tempo de execução, essa fonte de dados criará uma única lista incluída de registros das fontes de dados na grade **Lista incluída**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-213">At runtime, this data source will create a single joined list of records from the data sources in the **Joined list** grid.</span></span> <span data-ttu-id="e2ea7-214">A junção de registros começará na fonte de dados **ConfigurationProviders** que está na grade como a primeira (para ela, a coluna **Tipo** está em branco).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-214">Join of records will start from the **ConfigurationProviders** data source that is in the grid as a first one (the **Type** column is blank for it).</span></span> <span data-ttu-id="e2ea7-215">Os registros de todas as outras fontes de dados serão incluídos, consequentemente, nos registros da fonte de dados original, com base em sua ordem nessa grade.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-215">Records of every other data source will be joined consequently to records of the parent data source based on its order in this grid.</span></span> <span data-ttu-id="e2ea7-216">Toda fonte de dados de junção deve ser configurada como uma fonte de dados aninhada em uma fonte de dados de destino (a fonte de dados `1Versions` está aninhada em `1Configurations`; a fonte de dados `1Configurations` está aninhada em **ConfigurationProviders**).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-216">Every joining data source must be configured as a data source nested under a target data source (`1Versions` data source is nested under `1Configurations` one; `1Configurations` data source is nested under **ConfigurationProviders** one).</span></span> <span data-ttu-id="e2ea7-217">Cada fonte de dados configurada deve conter as condições para a junção.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-217">Each configured data source must contain the conditions for the join.</span></span> <span data-ttu-id="e2ea7-218">Na fonte de dados do **Join** específico, as seguintes junções são definidas:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-218">In the data source for this particular **Join**, the following joins are defined:</span></span>

    - <span data-ttu-id="e2ea7-219">Cada registro da fonte de dados **ConfigurationProviders** (referido na tabela **ERVendorTable**) é associado apenas a registros de **1Configurations** (referidos na tabela **ERSolutionTable**) com o mesmo valor nos campos **SolutionVendor** e **RecId**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-219">Each record of the **ConfigurationProviders** data source (referred to the **ERVendorTable** table) is joined with only records of the **1Configurations** one (referred to in the **ERSolutionTable** table) having the same value in the **SolutionVendor** and **RecId** fields.</span></span> <span data-ttu-id="e2ea7-220">O tipo **Junção interna** é usado para essa associação, bem como as condições a seguir para registros correspondentes:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-220">The **Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="e2ea7-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span><span class="sxs-lookup"><span data-stu-id="e2ea7-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span></span>

    - <span data-ttu-id="e2ea7-222">Cada registro da fonte de dados **1Configurations** (referida na tabela **ERSolutionTable**) é associado apenas a registros de **1Versions** (referidos na tabela **ERSolutionVersionTable**) com o mesmo valor nos campos **Solution** e **RecId**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-222">Each record of the **1Configurations** data source (referred to the **ERSolutionTable** table) is joined with the only records of the **1Versions** one (referred to the **ERSolutionVersionTable** table) having the same value in the **Solution** and **RecId** fields.</span></span> <span data-ttu-id="e2ea7-223">O tipo **Junção interna** é usado para essa associação, bem como as condições a seguir para registros correspondentes:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-223">**Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="e2ea7-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span><span class="sxs-lookup"><span data-stu-id="e2ea7-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span></span>

    - <span data-ttu-id="e2ea7-225">A opção **Executar** está configurada como **Consulta**, ou seja, essa fonte de dados de junção será executada em tempo de execução no nível do banco de dados como uma chamada SQL direta.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-225">**Execute** option is configured as **Query** meaning that this join data source will be executed at runtime on database level as a direct SQL call.</span></span>

    <span data-ttu-id="e2ea7-226">Para incluir registros de fontes de dados que representam tabelas de aplicativos, é possível especificar condições de junção usando pares de campos diferentes daqueles que descrevem as relações existentes na AOT entre essas tabelas.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-226">For joining records of data sources representing application tables, you can specify join conditions by using pairs of fields other than ones that describe existing in AOT relations between these tables.</span></span> <span data-ttu-id="e2ea7-227">Esse tipo de junção também pode ser configurado para ser executado no nível do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-227">This type of join can be configured to execute at the database level as well.</span></span>

6. <span data-ttu-id="e2ea7-228">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-228">Close the page.</span></span>
7. <span data-ttu-id="e2ea7-229">Selecione **Cancelar**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-229">Select **Cancel**.</span></span>
8. <span data-ttu-id="e2ea7-230">Na árvore de configurações, expanda o item do modelo de dados **Set2.Summary**:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-230">In the configurations tree, expand the **Set2.Summary** data model item:</span></span>

    - <span data-ttu-id="e2ea7-231">A associação de **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indica que o item **Set2.Summary.VersionsNumber** está vinculado ao campo de agregação **VersionsNumber** da fonte de dados **DetailsSummary** do tipo **GroupBy** que foi configurado para retornar o número de registros incluídos da fonte de dados **Detalhes** do tipo **Join**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-231">Binding **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indicates that the **Set2.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **DetailsSummary** data source of the **GroupBy** type that was configured to return the number of joined records of the **Details** data source of the **Join** type.</span></span>
    - <span data-ttu-id="e2ea7-232">A opção de local **Execução** está configurada como **Consulta**, ou seja, essa fonte de dados **GroupBy** será executada em tempo de execução como uma chamada SQL direta no nível do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-232">The **Execution** location option is configured as **Query** meaning that this **GroupBy** data source will be run at runtime as a direct SQL call at the database level.</span></span> <span data-ttu-id="e2ea7-233">Esse comportamento é possível porque a fonte de dados base **Detalhes** do tipo **Join** está configurada como executada no nível do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-233">This behavior is possible because the base data source **Details** of the **Join** type is configured as executed at the database level.</span></span>

    ![Página de parâmetros da fonte de dados GROUPBY](./media/GER-JoinDS-Set2GroupByReview.PNG)

9. <span data-ttu-id="e2ea7-235">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-235">Close the page.</span></span>
10. <span data-ttu-id="e2ea7-236">Selecione **Cancelar**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-236">Select **Cancel**.</span></span>

### <a name="execute-er-format"></a><a name="executeERformat"></a> <span data-ttu-id="e2ea7-237">Executar formato de ER</span><span class="sxs-lookup"><span data-stu-id="e2ea7-237">Execute ER format</span></span>

1. <span data-ttu-id="e2ea7-238">Acesse o Finance ou o RCS na segunda sessão do seu navegador da Web, usando as mesmas credenciais e empresa da primeira sessão.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-238">Access Finance or RCS in the second session of your web browser using same credentials and company as in the first session.</span></span>
2. <span data-ttu-id="e2ea7-239">Vá para **Administração da organização \> Relatório eletrônico \> Configurações**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-239">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
3. <span data-ttu-id="e2ea7-240">Expanda a configuração **Modelo para conhecer fontes de dados JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-240">Expand **Model to learn JOIN data sources** configuration.</span></span>
4. <span data-ttu-id="e2ea7-241">Selecione a configuração **Formato para conhecer fontes de dados JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-241">Select **Format to learn JOIN data sources** configuration.</span></span>
5. <span data-ttu-id="e2ea7-242">Selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-242">Select **Designer**.</span></span>
6. <span data-ttu-id="e2ea7-243">Selecione **Mostrar detalhes**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-243">Select **Show details**.</span></span>
7. <span data-ttu-id="e2ea7-244">Selecione **Mapeamento**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-244">Select **Mapping**.</span></span>
8. <span data-ttu-id="e2ea7-245">Selecione **Expandir/Recolher**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-245">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="e2ea7-246">Esse formato foi criado para preencher um arquivo de texto gerado com uma nova linha para todas as versões de uma configuração de ER (sequência **Versão**).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-246">This format is designed to populate a generated text file with a new line for every version of an ER configuration (**Version** sequence).</span></span> <span data-ttu-id="e2ea7-247">Cada linha gerada conterá o nome de um provedor de configuração que possui a configuração atual, o nome da configuração e a versão da configuração separados por ponto e vírgula.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-247">Each generated line will contain the name of a configuration provider owning the current configuration, the configuration name, and the configuration version separated by semicolon mark.</span></span> <span data-ttu-id="e2ea7-248">A linha final do arquivo gerado conterá o número de versões descobertas das configurações de ER (sequência **Resumo**).</span><span class="sxs-lookup"><span data-stu-id="e2ea7-248">The final line of generated file will contain the number of discovered versions of ER configurations (**Summary** sequence).</span></span>

    ![Página Designer de formato ER, guia Formatar](./media/GER-JoinDS-FormatReview.PNG)

    <span data-ttu-id="e2ea7-250">As fontes de dados **Dados** e **Resumo** são usadas para preencher os detalhes da versão de configuração no arquivo gerado:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-250">The **Data** and **Summary** data sources are used to populate configuration version details to the generated file:</span></span>

    - <span data-ttu-id="e2ea7-251">As informações do modelo de dados **Set1** são usadas quando você escolhe **Não** para a fonte de dados **Seletor** em tempo de execução na página de diálogo do usuário ao executar o formato de ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-251">Information from the **Set1** data model is used when you choose **No** for the **Selector** data source at runtime on the user dialog page when running ER format.</span></span>
    - <span data-ttu-id="e2ea7-252">As informações do modelo de dados **Set2** são usadas quando você escolhe **Sim** para a fonte de dados **Seletor** em tempo de execução na página de diálogo do usuário.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-252">Information from the **Set2** data model is used when you choose **Yes** for the **Selector** data source at runtime on the user dialog page.</span></span>

    ![Página Designer de formato ER, guia Mapeamento](./media/GER-JoinDS-FormatMappingReview.PNG)

9. <span data-ttu-id="e2ea7-254">Selecione **Executar**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-254">Select **Run**.</span></span>
10. <span data-ttu-id="e2ea7-255">Na página de diálogo, selecione **Não** no campo **Usar fontes de dados JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-255">On the dialog page, select **No** in the **Use JOIN data source** field.</span></span>
11. <span data-ttu-id="e2ea7-256">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-256">Select **OK**.</span></span>
12. <span data-ttu-id="e2ea7-257">Revise o arquivo gerado.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-257">Review generated file.</span></span>

    ![Parâmetros de relatório eletrônico geraram arquivo sem usar fonte de dados JOIN](./media/GER-JoinDS-Set1Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><span data-ttu-id="e2ea7-259">Analisar rastreio de execução do formato de ER</span><span class="sxs-lookup"><span data-stu-id="e2ea7-259">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="e2ea7-260">Na primeira sessão do Finance ou RCS, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-260">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="e2ea7-261">Selecione **Rastreamento de desempenho**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-261">Select **Performance trac** e.</span></span>
3. <span data-ttu-id="e2ea7-262">Na grade **Rastreamento de desempenho**, selecione o registro mais superior do rastreamento de execução mais recente de um formato de ER em que foi usado o componente de mapeamento do modelo atual.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-262">In the **Performance trace** grid, select the top-most record of the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="e2ea7-263">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-263">Select **OK**.</span></span>

    <span data-ttu-id="e2ea7-264">As estatísticas de execução informam sobre chamadas duplicadas para tabelas de aplicativos:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-264">Execution statistics informs you about duplicated calls to application tables:</span></span>

    - <span data-ttu-id="e2ea7-265">**ERSolutionTable** foi chamado na mesma proporção de vezes em que houve registros de versão de configuração na tabela **ERSolutionVersionTable**, enquanto o número dessas chamadas pode ser reduzido em vários momentos para melhorar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-265">**ERSolutionTable** has been called as many times as you have configuration version records in the **ERSolutionVersionTable** table, while the number of such calls could be reduced in times for performance improvement.</span></span>
    - <span data-ttu-id="e2ea7-266">**ERVendorTable** foi chamado duas vezes para cada registro de versão de configuração que foi descoberto na tabela **ERSolutionVersionTable**, enquanto o número dessas chamadas também pôde ser reduzido.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-266">**ERVendorTable** has been called twice for every configuration version record that was discovered in the **ERSolutionVersionTable** table, while the number of such calls could be reduced as well.</span></span>

    ![Estatística de execução na página Designer de mapeamento do modelo ER](./media/GER-JoinDS-Set1Run2.PNG)

5. <span data-ttu-id="e2ea7-268">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-268">Close the page.</span></span>

### <a name="execute-er-format"></a><span data-ttu-id="e2ea7-269">Executar formato de ER</span><span class="sxs-lookup"><span data-stu-id="e2ea7-269">Execute ER format</span></span>

1. <span data-ttu-id="e2ea7-270">Alterne para a guia do navegador da Web com a segunda sessão do Finance ou RCS.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-270">Switch to your web browser tab with the second session of Finance or RCS.</span></span>
2. <span data-ttu-id="e2ea7-271">Selecione **Executar**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-271">Select **Run**.</span></span>
3. <span data-ttu-id="e2ea7-272">Na página de diálogo, selecione **Sim** no campo **Usar fontes de dados JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-272">On the dialog page, select **Yes** in the **Use JOIN data source** field.</span></span>
4. <span data-ttu-id="e2ea7-273">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-273">Select **OK**.</span></span>
5. <span data-ttu-id="e2ea7-274">Revise o arquivo gerado.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-274">Review generated file.</span></span>

    ![Parâmetros de relatório eletrônico geraram arquivo usando fonte de dados JOIN](./media/GER-JoinDS-Set2Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><a name="analyze"></a> <span data-ttu-id="e2ea7-276">Analisar rastreio de execução do formato de ER</span><span class="sxs-lookup"><span data-stu-id="e2ea7-276">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="e2ea7-277">Na primeira sessão do Finance ou RCS, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-277">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="e2ea7-278">Selecione **Rastreamento de desempenho**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-278">Select **Performance trace**.</span></span>
3. <span data-ttu-id="e2ea7-279">Na grade **Rastreamento de desempenho**, selecione o registro mais superior representando o rastreamento de execução mais recente de um formato de ER em que foi usado o componente de mapeamento do modelo atual.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-279">In the **Performance trace** grid, select top-most record representing the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="e2ea7-280">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-280">Select **OK**.</span></span>

    <span data-ttu-id="e2ea7-281">As estatísticas o informam sobre o seguinte:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-281">Statistics informs you about the following:</span></span>

    - <span data-ttu-id="e2ea7-282">O banco de dados do aplicativo foi chamado uma vez para obter registros das tabelas **ERVendorTable**, **ERSolutionTable** e **ERSolutionVersionTable** para acessar os campos obrigatórios.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-282">Application database has been called once to get records from **ERVendorTable**, **ERSolutionTable**, and **ERSolutionVersionTable** tables to access required fields.</span></span>

    ![Detalhes de estatística de desempenho na página Designer de mapeamento do modelo ER](./media/GER-JoinDS-Set2Run2.PNG)

    - <span data-ttu-id="e2ea7-284">O banco de dados do aplicativo foi chamado uma vez para calcular o número de versões de configuração usando junções configuradas na fonte de dados **Detalhes**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-284">Application database has been called once to calculate the number of configuration versions by using joins that were configured in the **Details** data source.</span></span>

    ![Página Designer de mapeamento do modelo ER mostrando chamadas de banco de dados de aplicativos](./media/GER-JoinDS-Set2Run3.PNG)

## <a name="limitations"></a><span data-ttu-id="e2ea7-286">Limitações</span><span class="sxs-lookup"><span data-stu-id="e2ea7-286">Limitations</span></span>

<span data-ttu-id="e2ea7-287">Como você pode ver no exemplo deste tópico, a fonte de dados **JOIN** pode ser criada a partir de várias fontes de dados que descrevem os conjuntos individuais dos registros que devem ser incluídos eventualmente.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-287">As you can see from the example in this topic, the **JOIN** data source can be built from several data sources that describe the individual datasets of the records that must eventually be joined.</span></span> <span data-ttu-id="e2ea7-288">Você pode configurar essas fontes de dados usando a função de ER [FILTER](er-functions-list-filter.md) integrada.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-288">You can configure those data sources by using the built-in ER [FILTER](er-functions-list-filter.md) function.</span></span> <span data-ttu-id="e2ea7-289">Ao configurar a fonte de dados de forma que ela seja chamada além da fonte de dados **JOIN**, você pode usar intervalos da empresa como parte da condição para a seleção de dados.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-289">When you configure the data source so that it's called beyond the **JOIN** data source, you can use company ranges as part of the condition for data selection.</span></span> <span data-ttu-id="e2ea7-290">A implementação inicial da fonte de dados **JOIN** não oferece suporte a fontes de dados deste tipo.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-290">The initial implementation of the **JOIN** data source doesn't support data sources of this type.</span></span> <span data-ttu-id="e2ea7-291">Por exemplo, ao chamar uma fonte de dados baseada em [FILTER](er-functions-list-filter.md) no escopo de execução de uma fonte de dados **JOIN**, se a fonte de dados chamada contiver intervalos da empresa como parte da condição para a seleção de dados, ocorrerá uma exceção.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-291">For example, when you call a [FILTER](er-functions-list-filter.md)-based data source within the scope of execution of a **JOIN** data source, if the called data source contains company ranges as part of the condition for data selection, an exception occurs.</span></span>

<span data-ttu-id="e2ea7-292">Na versão 10.0.12 do Microsoft Dynamics 365 Finance (agosto de 2020), você pode usar intervalos da empresa como parte da condição para a seleção de dados em fontes de dados baseadas em [FILTER](er-functions-list-filter.md) que são chamados dentro do escopo de execução de uma fonte de dados **JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-292">In Microsoft Dynamics 365 Finance version 10.0.12 (August 2020), you can use company ranges as part of the condition for data selection in [FILTER](er-functions-list-filter.md)-based data sources that are called within the scope of execution of a **JOIN** data source.</span></span> <span data-ttu-id="e2ea7-293">Devido às limitações do construtor de [consulta](../dev-ref/xpp-library-objects.md#query-object-model) de aplicativos, os intervalos da empresa têm suporte apenas para a primeira fonte de dados de uma fonte de dados **JOIN**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-293">Because of the limitations of the application [query](../dev-ref/xpp-library-objects.md#query-object-model) builder, the company ranges are supported only for the first data source of a **JOIN** data source.</span></span>

### <a name="example"></a><span data-ttu-id="e2ea7-294">Exemplo</span><span class="sxs-lookup"><span data-stu-id="e2ea7-294">Example</span></span>

<span data-ttu-id="e2ea7-295">Por exemplo, você deve fazer uma única chamada para o banco de dados do aplicativo para obter a lista de transações de comércio exterior de várias empresas e os detalhes do item de estoque referido nessas transações.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-295">For example, you must make a single call to the application database to get the list of foreign trade transactions of multiple companies and the details of the inventory item that is referred to in those transactions.</span></span>

<span data-ttu-id="e2ea7-296">Nesse caso, configure os seguintes artefatos no mapeamento do modelo de ER:</span><span class="sxs-lookup"><span data-stu-id="e2ea7-296">In this case, you configure the following artifacts in your ER model mapping:</span></span>

- <span data-ttu-id="e2ea7-297">Fonte de dados raiz **Intrastat** que representa a tabela **Intrastat**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-297">**Intrastat** root data source that represents the **Intrastat** table.</span></span>
- <span data-ttu-id="e2ea7-298">Fonte de dados raiz de **Itens** que representa a tabela **InventTable**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-298">**Items** root data source that represents the **InventTable** table.</span></span>
- <span data-ttu-id="e2ea7-299">Fonte de dados raiz de **Empresas** que retorna a lista de empresas (**DEMF** e **GBSI** neste exemplo) onde as transações devem ser acessadas.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-299">**Companies** root data source that returns the list of companies (**DEMF** and **GBSI** in this example) where transactions must be accessed.</span></span> <span data-ttu-id="e2ea7-300">O código da empresa está disponível no campo **Companies.Code**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-300">The company code is available from the **Companies.Code** field.</span></span>
- <span data-ttu-id="e2ea7-301">Fonte de dados raiz **X1** que tem a expressão `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-301">**X1** root data source that has the expression `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span></span> <span data-ttu-id="e2ea7-302">Como parte da condição para a seleção de dados, essa expressão contém a definição de intervalos da empresa `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-302">As part of the condition for data selection, this expression contains the definition of company ranges `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span></span>
- <span data-ttu-id="e2ea7-303">Fonte de dados **X2** como um item aninhado da fonte de dados **X1**.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-303">**X2** data source as a nested item of the **X1** data source.</span></span> <span data-ttu-id="e2ea7-304">Ela inclui a expressão `FILTER (Items, Items.ItemId = X1.ItemId)`.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-304">It includes the expression `FILTER (Items, Items.ItemId = X1.ItemId)`.</span></span>

<span data-ttu-id="e2ea7-305">Finalmente, você pode configurar uma fonte de dados **JOIN** na qual **X1** é a primeira fonte de dados e **X2** é a segunda fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-305">Finally, you can configure a **JOIN** data source where **X1** is the first data source and **X2** is the second data source.</span></span> <span data-ttu-id="e2ea7-306">Você pode especificar a **Consulta** como a opção **Executar** para forçar o ER a executar essa fonte de dados no nível do banco como uma chamada SQL direta.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-306">You can specify **Query** as the **Execute** option to force ER to run this data source on the database level as a direct SQL call.</span></span>

<span data-ttu-id="e2ea7-307">Quando a fonte de dados configurada é executada enquanto a execução de ER é [rastreada](trace-execution-er-troubleshoot-perf.md), a instrução a seguir é mostrada no designer de mapeamento do modelo er como parte do rastreamento de desempenho ER.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-307">When the configured data source is run while the ER execution is [traced](trace-execution-er-troubleshoot-perf.md), the following statement is shown in the ER model mapping designer as part of the ER performance trace.</span></span>

`SELECT ... FROM INTRASTAT T1 CROSS JOIN INVENTTABLE T2 WHERE ((T1.PARTITION=?) AND (T1.DATAAREAID IN (N'DEMF',N'GBSI') )) AND ((T2.PARTITION=?) AND (T2.ITEMID=T1.ITEMID AND (T2.DATAAREAID = T1.DATAAREAID) AND (T2.PARTITION = T1.PARTITION))) ORDER BY T1.DISPATCHID,T1.SEQNUM`

> [!NOTE]
> <span data-ttu-id="e2ea7-308">Ocorrerá um erro se você executar uma fonte de dados **JOIN** que foi configurada de forma a conter condições de seleção de dados que têm intervalos da empresa para fontes de dados adicionais da fonte de dados **JOIN** executada.</span><span class="sxs-lookup"><span data-stu-id="e2ea7-308">An error occurs if you run a **JOIN** data source that has been configured so that it contains data selection conditions that have company ranges for additional data sources of the executed **JOIN** data source.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e2ea7-309">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="e2ea7-309">Additional resources</span></span>

[<span data-ttu-id="e2ea7-310">Designer de fórmulas no Relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="e2ea7-310">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="e2ea7-311">Rastrear a execução do formato ER para solucionar problemas de desempenho</span><span class="sxs-lookup"><span data-stu-id="e2ea7-311">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
