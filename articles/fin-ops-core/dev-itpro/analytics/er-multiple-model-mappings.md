---
title: Gerenciar vários mapeamentos derivados para uma única raiz de modelo
description: Este tópico explica como gerenciar vários mapeamentos derivados que foram configurados para uma única raiz de modelo.
author: NickSelin
manager: AnnBe
ms.date: 01/04/2021
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ERSolutionTable, ERModelMappingTable
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 3116fe98f499637b3bc7f243ed1b5094853caa7e
ms.sourcegitcommit: 7cfe8931dd454e811a691f5118a4ecae7ba4b478
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/04/2021
ms.locfileid: "4826100"
---
# <a name="manage-several-derived-mappings-for-a-single-model-root"></a><span data-ttu-id="d05f0-103">Gerenciar vários mapeamentos derivados para uma única raiz de modelo</span><span class="sxs-lookup"><span data-stu-id="d05f0-103">Manage several derived mappings for a single model root</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="d05f0-104">Um componente de [modelo](general-electronic-reporting.md) de dados de [relatório eletrônico (ER)](general-electronic-reporting.md#data-model-and-model-mapping-components) é usado em todos os componentes de [formato](general-electronic-reporting.md#FormatComponentOutbound) de ER configurados como a fonte de dados para gerar documentos de saída.</span><span class="sxs-lookup"><span data-stu-id="d05f0-104">An [Electronic reporting (ER)](general-electronic-reporting.md) data [model](general-electronic-reporting.md#data-model-and-model-mapping-components) component is used in every configured ER [format](general-electronic-reporting.md#FormatComponentOutbound) component as the data source to generate outbound documents.</span></span> <span data-ttu-id="d05f0-105">Para descrever um único domínio comercial, configure um componente de modelo de dados que tenha várias definições raiz.</span><span class="sxs-lookup"><span data-stu-id="d05f0-105">To describe a single business domain, configure a data model component that has many root definitions.</span></span> 

<span data-ttu-id="d05f0-106">Toda definição raiz permite que você represente os dados desse domínio da forma mais adequada para fins de relatório específicos.</span><span class="sxs-lookup"><span data-stu-id="d05f0-106">Every root definition lets you represent data of that domain in the way that is best suited to specific reporting purposes.</span></span> <span data-ttu-id="d05f0-107">Para cada definição raiz, você pode configurar um componente de [mapeamento de modelo](general-electronic-reporting.md#data-model-and-model-mapping-components) de ER como a implementação específica do Microsoft Dynamics 365 Finance do seu modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="d05f0-107">For every root definition, you can configure an ER [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) component as the Microsoft Dynamics 365 Finance–specific implementation of your data model.</span></span> <span data-ttu-id="d05f0-108">Dessa forma, você descreverá como o modelo de dados será preenchido no runtime.</span><span class="sxs-lookup"><span data-stu-id="d05f0-108">In this way, you describe how your data model will be filled in at runtime.</span></span>

<span data-ttu-id="d05f0-109">Os componentes de mapeamento do modelo de ER podem residir nas [configurações](general-electronic-reporting.md#Configuration) do modelo de dados de ER e nas configurações de mapeamento do modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="d05f0-109">ER model mapping components can reside in ER data model [configurations](general-electronic-reporting.md#Configuration) and ER model mapping configurations.</span></span> <span data-ttu-id="d05f0-110">Uma única configuração de ER pode conter muitos componentes de mapeamento, cada um deles configurado para uma única definição raiz.</span><span class="sxs-lookup"><span data-stu-id="d05f0-110">A single ER configuration can contain many mapping components, each of which is configured for a single root definition.</span></span> <span data-ttu-id="d05f0-111">E uma única configuração de ER pode conter somente um componente de mapeamento que é configurado para uma única definição raiz.</span><span class="sxs-lookup"><span data-stu-id="d05f0-111">Alternatively, a single ER configuration can contain just one mapping component that is configured for a single root definition.</span></span>

<span data-ttu-id="d05f0-112">Muitos provedores de configuração podem oferecer configurações de mapeamento de modelos de ER para o mesmo modelo de dados de ER.</span><span class="sxs-lookup"><span data-stu-id="d05f0-112">Many configuration providers might offer ER model mapping configurations for the same ER data model.</span></span> <span data-ttu-id="d05f0-113">Essas configurações de mapeamento de modelos podem conter componentes de mapeamento para diferentes definições raiz.</span><span class="sxs-lookup"><span data-stu-id="d05f0-113">Those model mapping configurations might contain mapping components for different root definitions.</span></span> <span data-ttu-id="d05f0-114">Você pode usar um mapeamento de modelo para uma definição raiz oferecida por um [provedor](general-electronic-reporting.md#Provider) e usar um mapeamento de modelo para outra definição raiz oferecida por outro provedor.</span><span class="sxs-lookup"><span data-stu-id="d05f0-114">You might use a model mapping for one root definition that is offered by one [provider](general-electronic-reporting.md#Provider) and use a model mapping for another root definition that is offered by another provider.</span></span>

<span data-ttu-id="d05f0-115">Os procedimentos deste tópico explicam como gerenciar várias configurações de mapeamento de modelos de ER de um modelo de dados de ER quando eles contêm componentes de mapeamento de modelos diferentes configurados para a mesma definição raiz.</span><span class="sxs-lookup"><span data-stu-id="d05f0-115">The procedures in this topic explain how to manage multiple ER model mapping configurations of an ER data model when they contain different model mapping components configured for the same root definition.</span></span> 

<span data-ttu-id="d05f0-116">Para concluir os procedimentos deste tópico, você deve ter a função de Administrador do sistema ou Desenvolvedor de relatório eletrônico.</span><span class="sxs-lookup"><span data-stu-id="d05f0-116">To complete the procedures in this topic, you must be assigned to the System administrator or Electronic reporting developer role.</span></span>

<span data-ttu-id="d05f0-117">Todos os procedimentos a seguir podem ser feitos na empresa USMF.</span><span class="sxs-lookup"><span data-stu-id="d05f0-117">All the following procedures can be done in the USMF company.</span></span> <span data-ttu-id="d05f0-118">Nenhum código é necessário.</span><span class="sxs-lookup"><span data-stu-id="d05f0-118">No coding is required.</span></span>

## <a name="configure-the-er-framework"></a><span data-ttu-id="d05f0-119">Configurar a estrutura de ER</span><span class="sxs-lookup"><span data-stu-id="d05f0-119">Configure the ER framework</span></span>

<span data-ttu-id="d05f0-120">Como usuário na função de Desenvolvedor de relatório eletrônico, [configure o conjunto mínimo](er-quick-start2-customize-report.md#ConfigureFramework) de parâmetros de ER antes de começar a usar a estrutura de ER para gerar documentos comerciais.</span><span class="sxs-lookup"><span data-stu-id="d05f0-120">As a user in the Electronic reporting developer role, [configure the minimal set](er-quick-start2-customize-report.md#ConfigureFramework) of ER parameters before you use the ER framework to generate business documents.</span></span>

## <a name="import-the-standard-er-format-configurations"></a><span data-ttu-id="d05f0-121">Importar as configurações do formato de ER padrão</span><span class="sxs-lookup"><span data-stu-id="d05f0-121">Import the standard ER format configurations</span></span>

<span data-ttu-id="d05f0-122">Para adicionar as configurações de ER padrão à instância atual do Finance, você deve importá-las do repositório de ER configurado para essa instância.</span><span class="sxs-lookup"><span data-stu-id="d05f0-122">To add the standard ER configurations to your current instance of Finance, you must import them from the ER repository that was configured for that instance.</span></span> <span data-ttu-id="d05f0-123">Siga as etapas de [Baixar as configurações de ER do repositório global do serviço de configuração](er-download-configurations-global-repo.md) para importar as seguintes configurações de formato de ER:</span><span class="sxs-lookup"><span data-stu-id="d05f0-123">Follow the steps in [Download ER configurations from the Global repository of Configuration service](er-download-configurations-global-repo.md) to import the following ER format configurations:</span></span>

- <span data-ttu-id="d05f0-124">**Fatura de texto livre (Excel)**, version 220.106</span><span class="sxs-lookup"><span data-stu-id="d05f0-124">**Free text invoice (Excel)**, version 220.106</span></span>
- <span data-ttu-id="d05f0-125">**Fatura do projeto (Excel)**, version 226.27</span><span class="sxs-lookup"><span data-stu-id="d05f0-125">**Project invoice (Excel)**, version 226.27</span></span>

## <a name="review-the-imported-er-configurations"></a><span data-ttu-id="d05f0-126">Examinar as configurações de ER importadas</span><span class="sxs-lookup"><span data-stu-id="d05f0-126">Review the imported ER configurations</span></span>

1. <span data-ttu-id="d05f0-127">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-127">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="d05f0-128">Na página **Configurações de localização**, na seção **Configurações**, selecione o título **Configurações de relatórios**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-128">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="d05f0-129">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-129">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**.</span></span>

    ![Analisar as configurações importadas na página Configurações](./media/er-multiple-model-mappings-image1.png)

4. <span data-ttu-id="d05f0-131">Analise o formato **Fatura de texto livre (Excel)**:</span><span class="sxs-lookup"><span data-stu-id="d05f0-131">Review the **Free text invoice (Excel)** format:</span></span>

    1. <span data-ttu-id="d05f0-132">Na árvore de configuração no painel esquerdo, selecione **Fatura de texto livre (Excel)**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-132">In the configuration tree in the left pane, select **Free text invoice (Excel)**.</span></span>
    2. <span data-ttu-id="d05f0-133">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-133">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="d05f0-134">Na página **Designer de formato**, na guia **Mapeamento**, na lista de fontes de dados, selecione **Modelo**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-134">On the **Format designer** page, on the **Mapping** tab, in the data sources list, select **Model**.</span></span>
    4. <span data-ttu-id="d05f0-135">Selecione **Exibir**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-135">Select **View**.</span></span>
    
       <span data-ttu-id="d05f0-136">O formato de ER atual é configurado para usar a definição raiz **InvoiceCustomer** do **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-136">Thecurrent ER format is configured to use the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="d05f0-137">Quando esse formato é executado e a fonte de dados **Modelo** é chamada, o mapeamento do modelo configurado para a definição raiz **InvoiceCustomer** é usado para acessar os dados do aplicativo e preencher o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="d05f0-137">When this format is run, and the **Model** data source is called, the model mapping that is configured for the **InvoiceCustomer** root definition is used to access application data and fill in the data model.</span></span>

        ![Revisar a fonte de dados do modelo na página Designer de formato](./media/er-multiple-model-mappings-image2.png)

    6. <span data-ttu-id="d05f0-139">Feche a página **Designer de formato**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-139">Close the **Format designer** page.</span></span>

5. <span data-ttu-id="d05f0-140">Revise o conteúdo da configuração **Mapeamento de modelo de fatura**:</span><span class="sxs-lookup"><span data-stu-id="d05f0-140">Review the content of the **Invoice model mapping** configuration:</span></span>

    1. <span data-ttu-id="d05f0-141">Na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-141">In the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
    2. <span data-ttu-id="d05f0-142">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-142">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="d05f0-143">Na página **Modelo para mapeamento de fonte de dados**, observe que a configuração de mapeamento do modelo de ER atual contém vários componentes de mapeamento de modelos:</span><span class="sxs-lookup"><span data-stu-id="d05f0-143">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains several model mapping components:</span></span>

        + <span data-ttu-id="d05f0-144">O mapeamento de modelo **Fatura de cliente** é configurado para a definição raiz **InvoiceCustomer** do **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-144">The **Customer Invoice** model mapping is configured for the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="d05f0-145">Portanto, quando o formato de ER **Fatura de texto livre (Excel)** é executado, o mapeamento de modelo **Fatura de cliente** dessa configuração de ER pode ser escolhido para acessar dados de aplicativos e preencher o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="d05f0-145">Therefore, when the **Free text invoice (Excel)** ER format is run, the **Customer Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>
        + <span data-ttu-id="d05f0-146">O mapeamento de modelo **Fatura de projeto** é configurado para a definição raiz **InvoiceProject** do **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-146">The **Project Invoice** model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="d05f0-147">Portanto, quando o formato de ER **Fatura de projeto (Excel)** é executado, o mapeamento de modelo **Fatura de projeto** dessa configuração de ER pode ser escolhido para acessar dados de aplicativos e preencher o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="d05f0-147">Therefore, when the **Project invoice (Excel)** ER format is run, the **Project Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>

        ![Mapeamento de modelo de fatura na página Mapeamento de modelo para fonte de dados](./media/er-multiple-model-mappings-image3.png)

    4. <span data-ttu-id="d05f0-149">Feche a página **Modelo para mapeamento de fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-149">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="d05f0-150">Na guia rápida **Versões**, selecione **Excluir** para excluir todas as versões da configuração de ER posteriores à versão 240.175.</span><span class="sxs-lookup"><span data-stu-id="d05f0-150">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 240.175.</span></span>

6. <span data-ttu-id="d05f0-151">Revise o conteúdo da configuração do **Mapeamento de modelo de fatura (RDP)**:</span><span class="sxs-lookup"><span data-stu-id="d05f0-151">Review the content of the **Project invoice model mapping (RDP)** configuration:</span></span>

    1. <span data-ttu-id="d05f0-152">Na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura de projeto (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-152">In the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
    2. <span data-ttu-id="d05f0-153">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-153">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="d05f0-154">Na página **Mapear o mapeamento de fonte de dados**, observe que a configuração de mapeamento do modelo de ER atual contém o mapeamento de modelo **nvoiceProject** e que esse mapeamento de modelo está configurado para a definição raiz **InvoiceProject** do **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-154">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains the **InvoiceProject** model mapping, and that this model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="d05f0-155">Quando o formato de ER **Fatura de projeto (Excel)** é executado, selecione o mapeamento de modelo **InvoiceProject** dessa configuração de ER para acessar dados de aplicativos e preencher o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="d05f0-155">When the **Project invoice (Excel)** ER format is run, select the **InvoiceProject** model mapping of this ER configuration to access application data and fill in the data model.</span></span>

        ![Mapeamento de modelo de fatura de projeto na página Mapeamento de modelo para fonte de dados](./media/er-multiple-model-mappings-image4.png)

    4. <span data-ttu-id="d05f0-157">Feche a página **Modelo para mapeamento de fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-157">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="d05f0-158">Na guia rápida **Versões**, selecione **Excluir** para excluir todas as versões da configuração de ER posteriores à versão 226.35.</span><span class="sxs-lookup"><span data-stu-id="d05f0-158">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 226.35.</span></span>

## <a name="customize-the-imported-er-configurations"></a><span data-ttu-id="d05f0-159">Personalizar as configurações de ER importadas</span><span class="sxs-lookup"><span data-stu-id="d05f0-159">Customize the imported ER configurations</span></span>

<span data-ttu-id="d05f0-160">Esta seção explica como [personalizar](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) os mapeamentos de modelo fornecidos pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="d05f0-160">This section explains how to [customize](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) the model mappings that are provided by Microsoft.</span></span> <span data-ttu-id="d05f0-161">Por exemplo, a personalização pode ser necessária para implementar a lógica personalizada ou adicionar associações ausentes.</span><span class="sxs-lookup"><span data-stu-id="d05f0-161">For example, customization might be required to implement your custom logic or add missing bindings.</span></span>

### <a name="customize-the-invoice-model-mapping-configuration"></a><span data-ttu-id="d05f0-162">Personalizar a configuração do mapeamento de modelo de fatura</span><span class="sxs-lookup"><span data-stu-id="d05f0-162">Customize the Invoice model mapping configuration</span></span>

1. <span data-ttu-id="d05f0-163">Na página **Configurações**, na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-163">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
2. <span data-ttu-id="d05f0-164">No Painel de Ações, selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-164">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="d05f0-165">Na caixa de diálogo suspensa **Criar configuração**, no campo **Novo**, selecione **Derivar do Nome: mapeamento de modelo de fatura, Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-165">In the **Create configuration** drop-down dialog box, in the **New** field, select **Derive from Name: Invoice model mapping, Microsoft**.</span></span>
4. <span data-ttu-id="d05f0-166">No campo **Nome**, insira **Mapeamento de modelo de fatura Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-166">In the **Name** field, enter **Invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="d05f0-167">Selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-167">Select **Create configuration**.</span></span>
6. <span data-ttu-id="d05f0-168">[Marque](er-quick-start2-customize-report.md#MarkFormatRunnable) a versão de [rascunho](general-electronic-reporting.md#component-versioning) do mapeamento derivado como disponível para uso no runtime:</span><span class="sxs-lookup"><span data-stu-id="d05f0-168">[Mark](er-quick-start2-customize-report.md#MarkFormatRunnable) the [draft](general-electronic-reporting.md#component-versioning) version of the derived mapping as available for use at runtime:</span></span>

    1. <span data-ttu-id="d05f0-169">No Painel de Ação, na guia **Configurações**, no grupo **Configurações avançadas**, selecione **Parâmetros do usuário**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-169">On the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
    2. <span data-ttu-id="d05f0-170">Na caixa de diálogo **Parâmetros de usuário**, defina a opção **Executar configurações** como **Sim** e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-170">In the **User parameters** dialog box, set the **Run settings** option to **Yes**, and then select **OK**.</span></span>
    3. <span data-ttu-id="d05f0-171">Selecione **Editar** para tornar a página editável, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="d05f0-171">Select **Edit** to make the page editable, as required.</span></span>
    4. <span data-ttu-id="d05f0-172">Para a configuração **Mapeamento de modelo de fatura Litware** selecionada na árvore de configuração, defina a opção **Executar rascunho** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-172">For the **Invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>

7. <span data-ttu-id="d05f0-173">No Painel de Ação, selecione **Designer** para revisar os mapeamentos de modelo dessa configuração.</span><span class="sxs-lookup"><span data-stu-id="d05f0-173">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Analisar os mapeamentos de modelo de fatura de projeto na página Mapeamento de modelo para fonte de dados](./media/er-multiple-model-mappings-image5.png)

    > [!TIP]
    > <span data-ttu-id="d05f0-175">Agora, você pode abrir qualquer um dos componentes de mapeamento do modelo de ER da configuração de ER no designer para configurar a lógica personalizada.</span><span class="sxs-lookup"><span data-stu-id="d05f0-175">You can now open any of the ER model mapping components of this ER configuration in the designer to configure your custom logic.</span></span> <span data-ttu-id="d05f0-176">Para obter mais informações, consulte [Personalizar a configuração de mapeamento de modelo](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span><span class="sxs-lookup"><span data-stu-id="d05f0-176">For more information, see [Customize the model mapping configuration](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span></span>

8. <span data-ttu-id="d05f0-177">Feche a página **Modelo para mapeamento de fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-177">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="d05f0-178">Agora, você tem as configurações **Mapeamento de modelo de fatura** e **Mapeamento de modelo de fatura para Litware**, cada uma com um mapeamento de modelo configurado para a definição raiz **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-178">You now have **Invoice model mapping** and **Invoice model mapping Litware** configurations, each of which has a model mapping that is configured for the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="d05f0-179">Atribua explicitamente um dos mapeamentos de modelo como o mapeamento de modelo padrão usado por qualquer um dos formatos de ER, como o formato **Fatura de texto livre (Excel)** que contém uma fonte de dados de modelo que tem a definição raiz **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-179">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats, such as the **Free text invoice (Excel)** format that contains a model data source that has the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="d05f0-180">Caso contrário, quando você executar, editar ou validar um dos formatos de ER, a seguinte exceção será lançada para notificar que nenhum mapeamento de modelo padrão foi explicitamente atribuído:</span><span class="sxs-lookup"><span data-stu-id="d05f0-180">Otherwise, when you run, edit, or validate one of the ER formats, the following exception is thrown to notify you that no default model mapping has been explicitly assigned:</span></span>
 
> <span data-ttu-id="d05f0-181">Existe mais de um mapeamento de modelo para o "\<model name\> (\<root descriptor\>)" modelo de dados nas configurações \<configuration names separated by commas\>.</span><span class="sxs-lookup"><span data-stu-id="d05f0-181">More than one model mapping exists for the '\<model name\> (\<root descriptor\>)' data model in the configurations \<configuration names separated by commas\>.</span></span> <span data-ttu-id="d05f0-182">Defina uma das configurações como padrão.</span><span class="sxs-lookup"><span data-stu-id="d05f0-182">Set one of the configurations as default.</span></span>

![Abrir o formato para edição na página Configurações](./media/er-multiple-model-mappings-image6.gif)

### <a name="customize-the-project-invoice-model-mapping-rdp-configuration"></a><span data-ttu-id="d05f0-184">Personalizar a configuração do mapeamento de modelo de fatura (RDP)</span><span class="sxs-lookup"><span data-stu-id="d05f0-184">Customize the Project invoice model mapping (RDP) configuration</span></span>

1. <span data-ttu-id="d05f0-185">Na página **Configurações**, na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura de projeto (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-185">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
2. <span data-ttu-id="d05f0-186">No Painel de Ações, selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-186">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="d05f0-187">Na caixa de diálogo **Criar configuração**, no campo **Novo**, selecione **Derivar do Nome: mapeamento de modelo de fatura de projeto (RDP), Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-187">In the **Create configuration** dialog box, in the **New** field, select **Derive from Name: Project invoice model mapping (RDP), Microsoft**.</span></span>
4. <span data-ttu-id="d05f0-188">No campo **Nome**, insira **Mapeamento de modelo de fatura de projeto Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-188">In the **Name** field, enter **Project invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="d05f0-189">Selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-189">Select **Create configuration**.</span></span>
6. <span data-ttu-id="d05f0-190">Para a configuração **Mapeamento de modelo de fatura de projeto Litware** selecionada na árvore de configuração, defina a opção **Executar rascunho** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-190">For the **Project invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>
7. <span data-ttu-id="d05f0-191">No Painel de Ação, selecione **Designer** para revisar os mapeamentos de modelo dessa configuração.</span><span class="sxs-lookup"><span data-stu-id="d05f0-191">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Analisar os mapeamentos de modelo de fatura de projeto personalizado na página Mapeamento de modelo para fonte de dados](./media/er-multiple-model-mappings-image7.png)

8. <span data-ttu-id="d05f0-193">Feche a página **Modelo para mapeamento de fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-193">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="d05f0-194">Agora, temos as configurações **Mapeamento de modelo de fatura**, **Mapeamento de modelos de nota fiscal de projeto (RDP)** e **Mapeamento de modelo de fatura de projeto Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-194">You now have **Invoice model mapping**, **Project invoice model mapping (RDP)**, and **Project invoice model mapping Litware** configurations.</span></span> <span data-ttu-id="d05f0-195">Cada uma dessas configurações tem um mapeamento de modelo configurado para a definição raiz **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-195">Each of these configurations has a model mapping configured for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="d05f0-196">Atribua explicitamente um dos mapeamentos de modelo como o mapeamento de modelo padrão usado por qualquer um dos formatos de ER.</span><span class="sxs-lookup"><span data-stu-id="d05f0-196">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats.</span></span> <span data-ttu-id="d05f0-197">Por exemplo, use o formato **Fatura de projeto (Excel)** que contém uma fonte de dados de modelo que tem a definição raiz **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-197">For example, use the **Project invoice (Excel)** format that contains a model data source that has the **InvoiceProject** root definition.</span></span> <span data-ttu-id="d05f0-198">Caso contrário, quando você executar ou editar um dos formatos de ER, uma exceção será lançada para notificar que nenhum mapeamento de modelo padrão foi explicitamente atribuído.</span><span class="sxs-lookup"><span data-stu-id="d05f0-198">Otherwise, when you run or edit one of the ER formats, an exception is thrown to notify you that no default model mapping has been explicitly assigned.</span></span>

## <a name="select-the-derived-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="d05f0-199">Selecione a configuração derivada Mapeamento de modelo de fatura Litware como a configuração que contém mapeamentos de modelo padrão</span><span class="sxs-lookup"><span data-stu-id="d05f0-199">Select the derived Invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="d05f0-200">Na página **Configurações**, na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-200">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="d05f0-201">Defina a opção **Padrão do mapeamento de modelo** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-201">Set the **Default for model mapping** option to **Yes**.</span></span>

    ![Configurar o mapeamento do modelo como o mapeamento de modelo padrão na página Configurações](./media/er-multiple-model-mappings-image8.png)

    <span data-ttu-id="d05f0-203">Por causa dessa configuração, o mapeamento de modelo **Cópia da fatura de cliente** é usado quando você executa a **Fatura de texto livre (Excel)** ou quando você a edita ou valida.</span><span class="sxs-lookup"><span data-stu-id="d05f0-203">Because of this setting, the **Customer Invoice Copy** model mapping is used when you run the **Free text invoice (Excel)**, or when you edit or validate it.</span></span> <span data-ttu-id="d05f0-204">O mapeamento de modelo **Fatura de cliente** da configuração **Mapeamento de modelo de fatura** é ignorada.</span><span class="sxs-lookup"><span data-stu-id="d05f0-204">The **Customer invoice** model mapping from the **Invoice model mapping** configuration is ignored.</span></span>

    <span data-ttu-id="d05f0-205">Agora você pode abrir o formato **Fatura de texto livre (Excel)** para analisar no Designer de formato.</span><span class="sxs-lookup"><span data-stu-id="d05f0-205">You can now open the **Free text invoice (Excel)** format for review in the format designer.</span></span>

## <a name="select-the-derived-project-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="d05f0-206">Selecione a configuração derivada Mapeamento de modelo de fatura de projeto Litware como a configuração que contém mapeamentos de modelo padrão</span><span class="sxs-lookup"><span data-stu-id="d05f0-206">Select the derived Project invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="d05f0-207">Na página **Configurações**, na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura de projeto Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-207">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="d05f0-208">Defina a opção **Padrão do mapeamento de modelo** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-208">Set the **Default for model mapping** option to **Yes**.</span></span>

    <span data-ttu-id="d05f0-209">Nesse caso, diferentemente do caso descrito para a configuração de **Mapeamento de modelo de fatura Litware** na seção anterior, não é possível iniciar o uso do mapeamento de modelo **Cópia de InvoiceProject** da configuração **Mapeamento de modelo de fatura Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-209">In this case, unlike the case that is described for the **Invoice model mapping Litware** configuration in the previous section, you can't start to use the **InvoiceProject Copy** model mapping from the **Project invoice model mapping Litware** configuration.</span></span> <span data-ttu-id="d05f0-210">Duas configurações que contêm um mapeamento de modelo para a definição raiz **InvoiceProject** estão marcadas como a configuração padrão no momento.</span><span class="sxs-lookup"><span data-stu-id="d05f0-210">Two configurations that contain a model mapping for the **InvoiceProject** root definition are currently marked as the default configuration.</span></span> <span data-ttu-id="d05f0-211">Portanto, elas têm a mesma prioridade de uso.</span><span class="sxs-lookup"><span data-stu-id="d05f0-211">Therefore, they have equal priority for use.</span></span> <span data-ttu-id="d05f0-212">Para resolver esse problema, conclua as etapas restantes deste procedimento.</span><span class="sxs-lookup"><span data-stu-id="d05f0-212">To resolve this issue, complete the remaining steps of this procedure.</span></span>

3. <span data-ttu-id="d05f0-213">Na árvore de configuração no painel esquerdo, selecione **Mapeamento de modelo de fatura Litware**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-213">In the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
4. <span data-ttu-id="d05f0-214">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-214">On the Action Pane, select **Designer**.</span></span>
5. <span data-ttu-id="d05f0-215">Na página **Mapeamento de modelo para fonte de dados**, selecione **Editar** para tornar a página editável, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="d05f0-215">On the **Model to datasource mapping** page, select **Edit** to make the page editable, as required.</span></span>
6. <span data-ttu-id="d05f0-216">Selecione o mapeamento de modelo **Cópia da fatura de projeto** e marque a caixa de seleção **É excluído** para ele.</span><span class="sxs-lookup"><span data-stu-id="d05f0-216">Select the **Project Invoice Copy** model mapping, and then select the **Is deleted** check box for it.</span></span>

    ![Configurar o mapeamento do modelo como excluído virtualmente na página Mapeamento de modelo para fonte de dados](./media/er-multiple-model-mappings-image9.png)

    <span data-ttu-id="d05f0-218">Por causa dessa configuração, a configuração **Mapeamento de modelo de fatura Litware** é tratada como se não tivesse nenhum mapeamento de modelo para a definição raiz **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-218">Because of this setting, the **Invoice model mapping Litware** configuration is treated as though it has no model mapping for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="d05f0-219">O mapeamento de modelo **Cópia de InvoiceProject** é emitido por padrão.</span><span class="sxs-lookup"><span data-stu-id="d05f0-219">The **InvoiceProject Copy** model mapping issued by default.</span></span> <span data-ttu-id="d05f0-220">A configuração **Mapeamento de modelo de fatura de projeto Litware**, que contém este mapeamento de modelo, é marcada como a configuração padrão.</span><span class="sxs-lookup"><span data-stu-id="d05f0-220">The configuration, **Project invoice model mapping Litware**, which contains this model mapping, is marked as the default configuration.</span></span> <span data-ttu-id="d05f0-221">Como ela está marcada como padrão, ela tem uma prioridade maior do que o mapeamento de modelo **InvoiceProject** da configuração **Mapeamento de modelo de fatura de projeto (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-221">Because it is marked as default, it has a higher priority than the **InvoiceProject** model mapping from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="d05f0-222">Outras considerações</span><span class="sxs-lookup"><span data-stu-id="d05f0-222">Other considerations</span></span>

<span data-ttu-id="d05f0-223">O mapeamento de modelo **Cópia de InvoiceProject** da configuração **Mapeamento de modelo de fatura de projeto Litware** foi criado para usar a fonte de dados **ReportDataProvider**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-223">The **InvoiceProject Copy** model mapping of the **Project invoice model mapping Litware** configuration is designed to use the **ReportDataProvider** data source.</span></span> <span data-ttu-id="d05f0-224">A fonte de dados faz parte do tipo de *Objeto* que se refere à classe de aplicativo **PsaProjInvoiceDP**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-224">The data source is part of the *Object* type that refers to the **PsaProjInvoiceDP** application class.</span></span> <span data-ttu-id="d05f0-225">Essa classe é implementada como o provedor de dados do relatório do SQL Server Reporting Services (SSRS) da fatura de projeto da estrutura de gerenciamento de impressão.</span><span class="sxs-lookup"><span data-stu-id="d05f0-225">This class is implemented as the data provider for the project invoice SQL Server Reporting Services (SSRS) report of the Print management framework.</span></span> <span data-ttu-id="d05f0-226">Selecione esta fonte de dados como o [ponto de integração de ER](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents).</span><span class="sxs-lookup"><span data-stu-id="d05f0-226">Select this data source as the ER [integration point](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents).</span></span> <span data-ttu-id="d05f0-227">A implementação atual de ER para relatórios de gerenciamento de impressão leva essa configuração em conta.</span><span class="sxs-lookup"><span data-stu-id="d05f0-227">The current ER implementation for Print management reports takes this setting into account.</span></span> <span data-ttu-id="d05f0-228">Para obter mais detalhes, revise o código-fonte da classe de aplicativo **ERPrintMgmtDataProviderReport**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-228">For more details, review the source code of the **ERPrintMgmtDataProviderReport** application class.</span></span> <span data-ttu-id="d05f0-229">No tempo de execução, a atribuição da fonte de dados **ReportDataProvider** como ponto de integração de mapeamento de modelo força o Finance a tratar esse componente de mapeamento com uma prioridade maior do que o componente de mapeamento **InvoiceProject** da configuração **Mapeamento de modelo de fatura de projeto (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="d05f0-229">At runtime, the assignment of the **ReportDataProvider** data source as the model mapping integration point forces Finance to treat this mapping component with a higher priority than the **InvoiceProject** mapping component from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="see-also"></a><span data-ttu-id="d05f0-230">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d05f0-230">See also</span></span>

- [<span data-ttu-id="d05f0-231">Gerenciar o mapeamento do modelo ER em configurações ER separadas</span><span class="sxs-lookup"><span data-stu-id="d05f0-231">Manage ER model mapping in separate ER configurations</span></span>](./tasks/er-manage-model-mapping-configurations-july-2017.md)
- [<span data-ttu-id="d05f0-232">Configurar mapeamentos do modelo ER dependente do contexto do país/região</span><span class="sxs-lookup"><span data-stu-id="d05f0-232">Configure country context dependent ER model mappings</span></span>](er-country-dependent-model-mapping.md)
- [<span data-ttu-id="d05f0-233">Alteração na API da estrutura de Relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="d05f0-233">Electronic reporting framework API changes</span></span>](er-apis-app10-0-11.md)
