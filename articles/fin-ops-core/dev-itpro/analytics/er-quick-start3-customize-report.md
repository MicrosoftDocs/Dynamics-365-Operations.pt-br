---
title: Personalizar configurações do relatório eletrônico para gerar um documento eletrônico
description: Este tópico explica como personalizar as configurações do relatório eletrônico (ER) fornecido pela Microsoft usadas para gerar um documento eletrônico personalizado.
author: NickSelin
ms.date: 10/21/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERParameters, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, EROperationDesigner, ERVendorTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 46b232da404fe2106ce4b5455ea4d682a08aaa53
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5743620"
---
# <a name="customize-electronic-reporting-configurations-to-generate-an-electronic-document"></a><span data-ttu-id="0abc7-103">Personalizar configurações do relatório eletrônico para gerar um documento eletrônico</span><span class="sxs-lookup"><span data-stu-id="0abc7-103">Customize Electronic reporting configurations to generate an electronic document</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="0abc7-104">A [estrutura do relatório eletrônico (ER)](general-electronic-reporting.md) permite carregar as [configurações](general-electronic-reporting.md#Configuration) do ER que a Microsoft fornece na instância do Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="0abc7-104">The [Electronic reporting (ER) framework](general-electronic-reporting.md) lets you upload the ER [configurations](general-electronic-reporting.md#Configuration) that Microsoft provides into your Microsoft Dynamics 365 Finance instance.</span></span> <span data-ttu-id="0abc7-105">Dessa forma, as configurações fornecidas pela Microsoft podem servir como a solução de ER usada para gerar faturas eletrônicas de clientes.</span><span class="sxs-lookup"><span data-stu-id="0abc7-105">In this way, the Microsoft-provided configurations can serve as the ER solution that is used to generate electronic customer invoices (e-invoices).</span></span> <span data-ttu-id="0abc7-106">É possível usar essa solução de ER para configurar a sua solução de ER para acessar os campos do banco de dados personalizado e gerar faturas eletrônicas de acordo com suas necessidades específicas, sem precisar editar o código-fonte.</span><span class="sxs-lookup"><span data-stu-id="0abc7-106">You can use this ER solution to configure your custom ER solution to access your custom database fields and generate e-invoices that are compliant with your specific requirements, without having to edit the source code.</span></span>

## <a name="overview"></a><span data-ttu-id="0abc7-107">Visão Geral</span><span class="sxs-lookup"><span data-stu-id="0abc7-107">Overview</span></span>

<span data-ttu-id="0abc7-108">No exemplo deste tópico, é necessário especificar um código de identificação de imposto federal como um novo atributo personalizado de cada cliente que você faturar eletronicamente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-108">For the example in this topic, you must specify a federal tax identification code as a new custom attribute of every customer that you electronically invoice.</span></span> <span data-ttu-id="0abc7-109">Portanto, é necessário personalizar a estrutura da fatura usada atualmente, adicionando um novo item que deve ser preenchido com o código de imposto em cada fatura eletrônica gerada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-109">Therefore, you must customize the structure of the invoice that is currently used, by adding a new item that must be filled with the tax code in every e-invoice that is generated.</span></span>

<span data-ttu-id="0abc7-110">Os procedimentos descritos neste tópico explicam como um usuário que tem a função de Administrador do Sistema, Desenvolvedor de Relatórios Eletrônicos ou de Consultor Funcional de Relatório Eletrônico pode executar as seguintes tarefas na instância do Finance:</span><span class="sxs-lookup"><span data-stu-id="0abc7-110">The procedures in this topic explain how a user in the System Administrator, Electronic Reporting Developer, or Electronic Reporting Functional Consultant role can perform the following tasks in your Finance instance:</span></span>

- <span data-ttu-id="0abc7-111">[Configurar o conjunto mínimo de parâmetros de ER necessários para iniciar o uso da estrutura de ER](#ConfigureER).</span><span class="sxs-lookup"><span data-stu-id="0abc7-111">[Configure the minimal set of ER parameters that is required to start to use the ER framework](#ConfigureER).</span></span>
- <span data-ttu-id="0abc7-112">[Importar as versões iniciais das configurações de ER padrão fornecidas para gerar faturas eletrônicas](#ImportERConfigurations1).</span><span class="sxs-lookup"><span data-stu-id="0abc7-112">[Import the initial versions of the standard ER configurations that are provided to generate e-invoices](#ImportERConfigurations1).</span></span>
- <span data-ttu-id="0abc7-113">[Configurar os parâmetros de Contas a receber para iniciar o uso de configurações de ER padrão](#ConfigureAR1).</span><span class="sxs-lookup"><span data-stu-id="0abc7-113">[Configure the Accounts receivable parameters to start to use the standard ER configurations](#ConfigureAR1).</span></span>
- <span data-ttu-id="0abc7-114">[Configurar os parâmetros da entidade legal para faturar clientes](#ConfigureLE).</span><span class="sxs-lookup"><span data-stu-id="0abc7-114">[Configure the legal entity parameters to invoice customers](#ConfigureLE).</span></span>
- <span data-ttu-id="0abc7-115">[Preparar um registro de cliente para faturamento eletrônico](#ConfigureCustomer1).</span><span class="sxs-lookup"><span data-stu-id="0abc7-115">[Prepare a customer record for electronic invoicing](#ConfigureCustomer1).</span></span>
- <span data-ttu-id="0abc7-116">[Adicionar, lançar e enviar uma fatura de cliente usando as configurações de ER padrão](#ProcessInvoice1).</span><span class="sxs-lookup"><span data-stu-id="0abc7-116">[Add, post, and send a customer invoice by using the standard ER configurations](#ProcessInvoice1).</span></span>
- <span data-ttu-id="0abc7-117">[Adicionar um campo de banco de dados personalizado para gerenciar um código de identificação de imposto federal para clientes](#AddCustomField).</span><span class="sxs-lookup"><span data-stu-id="0abc7-117">[Add a custom database field to manage a federal tax identification code for customers](#AddCustomField).</span></span>
- <span data-ttu-id="0abc7-118">[Atualizar os metadados de ER para habilitar alterações no banco de dados para o designer de mapeamento de modelo de ER](#RefreshERMetadata).</span><span class="sxs-lookup"><span data-stu-id="0abc7-118">[Refresh the ER metadata to enable database changes for the ER model mapping designer](#RefreshERMetadata).</span></span>
- <span data-ttu-id="0abc7-119">[Criar configurações de ER personalizadas para gerar faturas eletrônicas que contenham o novo código de imposto](#DesignCustomERConfigurations).</span><span class="sxs-lookup"><span data-stu-id="0abc7-119">[Design the custom ER configurations to generate e-invoices that contain the new tax code](#DesignCustomERConfigurations).</span></span>
- <span data-ttu-id="0abc7-120">[Configurar os parâmetros de Contas a receber para iniciar o uso de configurações de ER personalizadas](#ConfigureAR2).</span><span class="sxs-lookup"><span data-stu-id="0abc7-120">[Configure the Accounts receivable parameters to start to use the custom ER configurations](#ConfigureAR2).</span></span>
- <span data-ttu-id="0abc7-121">[Atualizar um registro de cliente para faturamento eletrônico](#ConfigureCustomer2).</span><span class="sxs-lookup"><span data-stu-id="0abc7-121">[Update a customer record for electronic invoicing](#ConfigureCustomer2).</span></span>
- <span data-ttu-id="0abc7-122">[Adicionar, lançar e enviar uma fatura de cliente usando as configurações de ER personalizadas](#ProcessInvoice2).</span><span class="sxs-lookup"><span data-stu-id="0abc7-122">[Add, post, and send a customer invoice by using the custom ER configurations](#ProcessInvoice2).</span></span>
- <span data-ttu-id="0abc7-123">[Importar novas as versões das configurações padrão de ER fornecidas para gerar faturas eletrônicas](#ImportERConfigurations2).</span><span class="sxs-lookup"><span data-stu-id="0abc7-123">[Import the new versions of the standard ER configurations that are provided to generate e-invoices](#ImportERConfigurations2).</span></span>
- <span data-ttu-id="0abc7-124">[Adotar as alterações das novas versões das configurações de ER padrão nas configurações de ER personalizadas](#RebaseCustomERConfigurations).</span><span class="sxs-lookup"><span data-stu-id="0abc7-124">[Adopt the changes to the new versions of the standard ER configurations in your custom ER configurations](#RebaseCustomERConfigurations).</span></span>
- <span data-ttu-id="0abc7-125">[Adicionar, lançar e enviar uma fatura de cliente usando as novas versões das configurações de ER personalizadas](#ProcessInvoice3).</span><span class="sxs-lookup"><span data-stu-id="0abc7-125">[Add, post, and send a customer invoice by using the new versions of the custom ER configurations](#ProcessInvoice3).</span></span>

<span data-ttu-id="0abc7-126">Todos esses procedimentos podem ser concluídos na empresa **DEMF**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-126">All these procedures can be completed in the **DEMF** company.</span></span>

## <a name="configure-the-er-framework"></a><a name="ConfigureER"></a><span data-ttu-id="0abc7-127">Configurar a estrutura de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-127">Configure the ER framework</span></span>

<span data-ttu-id="0abc7-128">Como usuário na função de Consultor Funcional de Relatório Eletrônico ou Desenvolvedor de Relatório Eletrônico, é necessário configurar o conjunto mínimo de parâmetros de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-128">As a user in the Electronic Reporting Functional Consultant or Electronic Reporting Developer role, you must configure the minimal set of ER parameters.</span></span> <span data-ttu-id="0abc7-129">Em seguida, você pode começar a usar a estrutura de ER para criar versões personalizadas das configurações padrão da solução ER usada para gerar faturas eletrônicas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-129">You can then start to use the ER framework to design custom versions of the standard configurations of the ER solution that is used to generate e-invoices.</span></span>

### <a name="configure-er-parameters"></a><span data-ttu-id="0abc7-130">Configurar parâmetros de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-130">Configure ER parameters</span></span>

1. <span data-ttu-id="0abc7-131">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-131">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-132">Na página **Configurações de localização**, na seção **Links relacionados**, selecione **Parâmetros de relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-132">On the **Localization configurations** page, in the **Related links** section, select **Electronic reporting parameters**.</span></span>
3. <span data-ttu-id="0abc7-133">Na página **Parâmetros de relatório eletrônico**, na guia **Geral**, defina a opção **Habilitar modo de design** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-133">On the **Electronic reporting parameters** page, on the **General** tab, set the **Enable design mode** option to **Yes**.</span></span>
4. <span data-ttu-id="0abc7-134">Na guia **Anexos**, no campo **Configurações**, selecione **Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-134">On the **Attachments** tab, in the **Configurations** field, select **File**.</span></span>
5. <span data-ttu-id="0abc7-135">Nos campos **Arquivo de trabalho**, **Temporário**, **Linha de base** e **Outros**, selecione o tipo **Arquivo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-135">In the **Job archive**, **Temporary**, **Baseline**, and **Others** fields, select the **File** type.</span></span>

<span data-ttu-id="0abc7-136">Para obter mais informações sobre parâmetros de ER, consulte [Configurar a estrutura de ER](electronic-reporting-er-configure-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="0abc7-136">For more information about ER parameters, see [Configure the ER framework](electronic-reporting-er-configure-parameters.md).</span></span>

### <a name="activate-an-er-configuration-provider"></a><span data-ttu-id="0abc7-137">Ativar um provedor de configuração de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-137">Activate an ER configuration provider</span></span>

<span data-ttu-id="0abc7-138">Toda configuração de ER adicionada é marcada como pertencente a um provedor de configuração de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-138">Every ER configuration that is added is marked as owned by an ER configuration provider.</span></span> <span data-ttu-id="0abc7-139">O provedor de configuração de ER ativado no espaço de trabalho **Relatório eletrônico** é usado para essa finalidade.</span><span class="sxs-lookup"><span data-stu-id="0abc7-139">The ER configuration provider that is activated in the **Electronic reporting** workspace is used for this purpose.</span></span> <span data-ttu-id="0abc7-140">Por isso você deve ativar um provedor de configuração de ER no espaço de trabalho **Relatório eletrônico** antes de começar a adicionar ou editar configurações de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-140">Therefore, you must activate an ER configuration provider in the **Electronic reporting** workspace before you start to add or edit ER configurations.</span></span>

> [!NOTE]
> <span data-ttu-id="0abc7-141">Somente o proprietário de uma configuração de ER pode editá-la.</span><span class="sxs-lookup"><span data-stu-id="0abc7-141">Only the owner of an ER configuration can edit it.</span></span> <span data-ttu-id="0abc7-142">Assim, para que uma configuração de ER possa ser editada, o provedor de configuração de ER apropriado deve estar ativado no espaço de trabalho **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-142">Therefore, before an ER configuration can be edited, the appropriate ER configuration provider must be activated in the **Electronic reporting** workspace.</span></span>

#### <a name="review-the-list-of-er-configuration-providers"></a><span data-ttu-id="0abc7-143">Examinar a lista de provedores de configuração de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-143">Review the list of ER configuration providers</span></span>

1. <span data-ttu-id="0abc7-144">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-144">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-145">Na página **Configurações de localização**, na seção **Links relacionados**, selecione **Provedores de configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-145">On the **Localization configurations** page, in the **Related links** section, select **Configuration providers**.</span></span>
3. <span data-ttu-id="0abc7-146">Na página **Tabela de provedores de configuração**, cada registro de provedor tem um nome e uma URL exclusivos.</span><span class="sxs-lookup"><span data-stu-id="0abc7-146">On the **Configuration provider table** page, each provider record has a unique name and URL.</span></span> <span data-ttu-id="0abc7-147">Examine o conteúdo dessa página.</span><span class="sxs-lookup"><span data-stu-id="0abc7-147">Review the contents of this page.</span></span> <span data-ttu-id="0abc7-148">Se já existir um registro para **Litware, Ltda.** (`https://www.litware.com`), ignore o próximo procedimento, [Adicionar um novo provedor de configuração de ER](#AddProvider).</span><span class="sxs-lookup"><span data-stu-id="0abc7-148">If a record for **Litware, Inc.** (`https://www.litware.com`) already exists, skip the next procedure, [Add a new ER configuration provider](#AddProvider).</span></span>

#### <a name="add-a-new-er-configuration-provider"></a><a id="AddProvider"></a><span data-ttu-id="0abc7-149">Adicionar um novo provedor de configuração de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-149">Add a new ER configuration provider</span></span>

1. <span data-ttu-id="0abc7-150">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-150">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-151">Na página **Configurações de localização**, na seção **Links relacionados**, selecione **Provedores de configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-151">On the **Localization configurations** page, in the **Related links** section, select **Configuration providers**.</span></span>
3. <span data-ttu-id="0abc7-152">Na página **Provedores de configuração**, selecione **Novo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-152">On the **Configuration providers** page, select **New**.</span></span>
4. <span data-ttu-id="0abc7-153">No campo **Nome**, insira **Litware, Ltda.**</span><span class="sxs-lookup"><span data-stu-id="0abc7-153">In the **Name** field, enter **Litware, Inc.**</span></span>
5. <span data-ttu-id="0abc7-154">No campo **Endereço na Internet**, insira `https://www.litware.com`.</span><span class="sxs-lookup"><span data-stu-id="0abc7-154">In the **Internet address** field, enter `https://www.litware.com`.</span></span>
6. <span data-ttu-id="0abc7-155">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-155">Select **Save**.</span></span>

#### <a name="activate-an-er-configuration-provider"></a><span data-ttu-id="0abc7-156">Ativar um provedor de configuração de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-156">Activate an ER configuration provider</span></span>

1. <span data-ttu-id="0abc7-157">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-157">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-158">Na página **Configurações de localização**, na seção **Provedores de configuração**, selecione o bloco **Litware, Ltda.** e, depois, **Definir como ativo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-158">On the **Localization configurations** page, in the **Configuration providers** section, select the **Litware, Inc.** tile, and then select **Set active**.</span></span>

<span data-ttu-id="0abc7-159">Para obter mais informações sobre provedores de configuração de ER, consulte [Criar provedores de configuração e marcá-los como ativos](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="0abc7-159">For more information about ER configuration providers, see [Create configuration providers and mark them as active](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span></span>

## <a name="import-the-initial-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations1"></a><span data-ttu-id="0abc7-160">Importar as versões iniciais das configurações de ER padrão</span><span class="sxs-lookup"><span data-stu-id="0abc7-160">Import the initial versions of standard ER configurations</span></span>

<span data-ttu-id="0abc7-161">Para adicionar as configurações de ER padrão à instância atual do Finance, você deve importá-las do [repositório](general-electronic-reporting.md#Repository) de ER configurado para essa instância.</span><span class="sxs-lookup"><span data-stu-id="0abc7-161">To add the standard ER configurations to your current Finance instance, you must import them from the ER [repository](general-electronic-reporting.md#Repository) that was configured for that instance.</span></span>

1. <span data-ttu-id="0abc7-162">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-162">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-163">Na página **Configurações de localização**, na seção **Provedores de configuração**, selecione o bloco **Microsoft** e, depois, selecione **Repositórios** para ver a lista de repositórios do provedor Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0abc7-163">On the **Localization configurations** page, in the **Configuration providers** section, select the **Microsoft** tile, and then select **Repositories** to view the list of repositories for the Microsoft provider.</span></span>
3. <span data-ttu-id="0abc7-164">Na página **Repositórios de configuração**, selecione o repositório do tipo **Global** e, depois, selecione **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-164">On the **Configuration repositories** page, select the repository of the **Global** type, and then select **Open**.</span></span> <span data-ttu-id="0abc7-165">Se você precisar de autorização para se conectar ao Regulatory Configuration Service, siga as instruções de autorização.</span><span class="sxs-lookup"><span data-stu-id="0abc7-165">If you're prompted for authorization to connect to Regulatory Configuration Service, follow the authorization instructions.</span></span>
4. <span data-ttu-id="0abc7-166">Na página **Repositório de configuração**, na árvore de configuração no painel esquerdo, selecione a configuração de formato **Fatura de Venda Peppol**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-166">On the **Configuration repository** page, in the configuration tree in the left pane, select the **Peppol Sales Invoice** format configuration.</span></span>
5. <span data-ttu-id="0abc7-167">Na Guia Rápida **Versões**, selecione a versão **11.2.2**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-167">On the **Versions** FastTab, select version **11.2.2**.</span></span>
6. <span data-ttu-id="0abc7-168">Selecione **Importar** para baixar a versão selecionada do repositório Global.</span><span class="sxs-lookup"><span data-stu-id="0abc7-168">Select **Import** to download the selected version from the Global repository.</span></span>

![Página do repositório de configuração](./media/er-quick-start3-import-solution1.png)

> [!TIP]
> <span data-ttu-id="0abc7-170">Se você tiver problemas para acessar o [repositório global](er-download-configurations-global-repo.md), poderá [baixar configurações](download-electronic-reporting-configuration-lcs.md) do Microsoft Dynamics Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="0abc7-170">If you have trouble accessing the [Global repository](er-download-configurations-global-repo.md), you can [download configurations](download-electronic-reporting-configuration-lcs.md) from Microsoft Dynamics Lifecycle Services (LCS) instead.</span></span>

### <a name="review-the-imported-er-configurations"></a><span data-ttu-id="0abc7-171">Examinar as configurações de ER importadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-171">Review the imported ER configurations</span></span>

1. <span data-ttu-id="0abc7-172">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-172">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-173">Na página **Configurações de localização**, na seção **Configurações**, selecione o título **Configurações de relatórios**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-173">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="0abc7-174">Na página **Configurações**, expanda a FastTab **Componentes de configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-174">On the **Configurations** page, expand the **Configuration components** FastTab.</span></span>
4. <span data-ttu-id="0abc7-175">Na árvore de configuração no painel esquerdo, expanda **Modelo de fatura** e depois **Fatura de Venda UBL**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-175">In the configuration tree in the left pane, expand **Invoice model**, and then expand **UBL Sales invoice**.</span></span>

<span data-ttu-id="0abc7-176">Observe que além do formato de ER selecionado da **Fatura de Venda Peppol**, outras configurações de ER necessárias foram importadas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-176">Notice that, in addition to the selected **Peppol Sales Invoice** ER format, other required ER configurations were imported.</span></span> <span data-ttu-id="0abc7-177">Como novas versões de configurações de ER são publicadas constantemente no repositório Global e LCS para manter as correspondentes soluções em conformidade com novos requisitos, as versões mais recentes da configuração necessária do [modelo de dados](general-electronic-reporting.md#data-model-and-model-mapping-components) e as configurações do [mapeamento de modelos](general-electronic-reporting.md#data-model-and-model-mapping-components) foram importadas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-177">Because new versions of ER configurations are constantly published to the Global repository and LCS to keep the corresponding solutions compliant with new requirements, the latest versions of the required [data model](general-electronic-reporting.md#data-model-and-model-mapping-components) configuration and its [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) configurations were imported.</span></span>

![Página Configurações](./media/er-quick-start3-imported-solution1a.png)

<span data-ttu-id="0abc7-179">Para simular o estado em que as configurações de ER na atual instância do Finance estariam se você importasse a versão **11.2.2** do formato de ER da **Fatura de Venda Peppol** no passado (por exemplo, 7 de agosto de 2019), siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-179">To simulate the state that ER configurations in the current Finance instance  would be in if you imported version **11.2.2** of the **Peppol Sales Invoice** ER format in the past (for example, on August 7, 2019), follow these steps.</span></span>

- <span data-ttu-id="0abc7-180">No Painel de Ações, selecione **Excluir** para excluir todas as configurações de ER publicadas após 7 de agosto de 2019.</span><span class="sxs-lookup"><span data-stu-id="0abc7-180">On the Action Pane, select **Delete** to delete all ER configurations that were published after August 7, 2019.</span></span> <span data-ttu-id="0abc7-181">As únicas configurações de **Modelo de fatura**, **Mapeamento de modelo de fatura** (inicialmente chamado de **Mapeamento de modelo de fatura de cliente**), **Fatura de Venda UBL** e **Fatura de Venda Peppol** devem ser mantidas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-181">The only **Invoice model**, **Invoice model mapping** (initially named **Customer invoice model mapping**), **UBL Sales invoice** and **Peppol Sales Invoice** configurations must be left.</span></span>
- <span data-ttu-id="0abc7-182">Para as demais configurações de ER, na FastTab **Versões**, selecione **Excluir** para excluir todas as versões de configurações de ER publicadas após 7 de agosto de 2019.</span><span class="sxs-lookup"><span data-stu-id="0abc7-182">For the remained ER configurations, on the **Versions** FastTab, select **Delete** to delete all versions of ER configurations that were published after August 7, 2019.</span></span>

<span data-ttu-id="0abc7-183">Em seguida, verifique se as seguintes configurações estão disponíveis na árvore de configuração:</span><span class="sxs-lookup"><span data-stu-id="0abc7-183">Then verify that the following configurations are available in the configuration tree:</span></span>

- <span data-ttu-id="0abc7-184">Configuração do modelo de dados de ER do **Modelo de fatura** (inicialmente chamado de **Modelo de fatura de cliente**):</span><span class="sxs-lookup"><span data-stu-id="0abc7-184">**Invoice model** ER data model configuration (initially named **Customer invoice model**):</span></span>

    - <span data-ttu-id="0abc7-185">A versão 11 contém a versão 10 do componente de ER do [modelo de dados](general-electronic-reporting.md#data-model-and-model-mapping-components) que representa a estrutura de dados do domínio corporativo de faturamento.</span><span class="sxs-lookup"><span data-stu-id="0abc7-185">Version 11 contains version 10 of the [data model](general-electronic-reporting.md#data-model-and-model-mapping-components) ER component that represents the data structure of the invoicing business domain.</span></span> <span data-ttu-id="0abc7-186">Essa configuração de ER foi importada como um ancestral do formato de ER da **Fatura de Venda Peppol** selecionada para importação.</span><span class="sxs-lookup"><span data-stu-id="0abc7-186">This ER configuration has been imported as an ancestor of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>
    - <span data-ttu-id="0abc7-187">A versão 50 contém a versão 31 do componente de ER do modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="0abc7-187">Version 50 contains version 31 of the data model ER component.</span></span> <span data-ttu-id="0abc7-188">Esta configuração de ER foi importada como ancestral da versão de 7 de agosto de 2019 da configuração do mapeamento de modelo de ER do **Mapeamento de modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-188">This ER configuration has been imported as an ancestor of the August 7, 2019, version of the **Invoice model mapping** ER model mapping configuration.</span></span>

    ![Configuração do modelo de dados de ER do modelo de fatura na página Configurações](./media/er-quick-start3-imported-solution1b1.png)

    > [!TIP]
    > <span data-ttu-id="0abc7-190">Caso não veja a versão 50 deste modelo de dados, abra o repositório Global e importe a versão 50.19 da configuração de ER do **Mapeamento de modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-190">If you don't see version 50 of this data model, open the Global repository, and import version 50.19 of the **Invoice model mapping** ER configuration.</span></span>

- <span data-ttu-id="0abc7-191">Configuração do mapeamento de modelo de ER do **Mapeamento de modelo de fatura** (inicialmente chamado de **Mapeamento de modelo de fatura de cliente**):</span><span class="sxs-lookup"><span data-stu-id="0abc7-191">**Invoice model mapping** ER model mapping configuration (initially named **Customer invoice model mapping**):</span></span>

    - <span data-ttu-id="0abc7-192">A versão 50.19 foi importada como a implementação mais recente da versão 50 da configuração do modelo de dados de ER do **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-192">Version 50.19 has been imported as the latest implementation of version 50 of the **Invoice model** ER data model configuration.</span></span> <span data-ttu-id="0abc7-193">Ela contém dois componentes de ER de [mapeamento de modelo](general-electronic-reporting.md#data-model-and-model-mapping-components) que descrevem como o modelo de dados é preenchido com os dados de aplicativos no runtime.</span><span class="sxs-lookup"><span data-stu-id="0abc7-193">It contains two [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) ER components that describe how the data model is filled in with application data at runtime.</span></span>

    ![Configuração do mapeamento de modelo de ER do mapeamento de modelo de fatura na página Configurações](./media/er-quick-start3-imported-solution1b2.png)

    > [!TIP]
    > <span data-ttu-id="0abc7-195">Caso não veja a versão 50.19 deste mapeamento de modelo, abra o repositório Global e importe a versão 50.19 da configuração de ER do **Mapeamento de modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-195">If you don't see version 50.19 of this model mapping, open the Global repository, and import version 50.19 of the **Invoice model mapping** ER configuration.</span></span>

- <span data-ttu-id="0abc7-196">Configuração de formato de ER de **Fatura de venda UBL**:</span><span class="sxs-lookup"><span data-stu-id="0abc7-196">**UBL Sales invoice** ER format configuration:</span></span>

    - <span data-ttu-id="0abc7-197">A versão 11.2 contém os componentes de ER [formato](general-electronic-reporting.md#FormatComponentOutbound) e mapeamento de formato.</span><span class="sxs-lookup"><span data-stu-id="0abc7-197">Version 11.2 contains the [format](general-electronic-reporting.md#FormatComponentOutbound) and format mapping ER components.</span></span> <span data-ttu-id="0abc7-198">O componente de formato especifica o layout do relatório.</span><span class="sxs-lookup"><span data-stu-id="0abc7-198">The format component specifies the report layout.</span></span> <span data-ttu-id="0abc7-199">O componente mapeamento de formato contém a fonte de dados do modelo e especifica como essa fonte de dados é usada para preencher o layout do relatório no runtime.</span><span class="sxs-lookup"><span data-stu-id="0abc7-199">The format mapping component contains the model data source and specifies how this data source is used to fill in the report layout at runtime.</span></span> <span data-ttu-id="0abc7-200">Este formato de ER foi configurado para gerar faturas eletrônicas no formato Universal Business Language (UBL).</span><span class="sxs-lookup"><span data-stu-id="0abc7-200">This ER format was configured to generate e-invoices in Universal Business Language (UBL) format.</span></span> <span data-ttu-id="0abc7-201">Ele foi importado como pai do formato de ER **Fatura de Venda Peppol** selecionado para importação.</span><span class="sxs-lookup"><span data-stu-id="0abc7-201">It has been imported as a parent of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>

- <span data-ttu-id="0abc7-202">Configuração de formato de ER de **Fatura de Venda Peppol**:</span><span class="sxs-lookup"><span data-stu-id="0abc7-202">**Peppol Sales Invoice** ER format configuration:</span></span>

    - <span data-ttu-id="0abc7-203">A versão 11.2.2 contém os componentes de ER do formato e de mapeamento de formato que foram configurados para gerar faturas eletrônicas no formato Pan-European Public Procurement OnLine (PEPPOL).</span><span class="sxs-lookup"><span data-stu-id="0abc7-203">Version 11.2.2 contains the format and format mapping ER components that were configured to generate e-invoices in Pan-European Public Procurement OnLine (PEPPOL) format.</span></span>

    ![Configuração de formato de ER da fatura de venda Peppol na página Configurações](./media/er-quick-start3-imported-solution1b3.png)

## <a name="configure-the-accounts-receivable-parameters"></a><a name="ConfigureAR1"></a><span data-ttu-id="0abc7-205">Configurar os Parâmetros de contas a receber</span><span class="sxs-lookup"><span data-stu-id="0abc7-205">Configure the Accounts receivable parameters</span></span>

1. <span data-ttu-id="0abc7-206">Vá para **Contas a receber** \> **Configuração** \> **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-206">Go to **Accounts receivable** \> **Setup** \> **Accounts receivable parameters**.</span></span>
2. <span data-ttu-id="0abc7-207">Na guia **Documentos eletrônicos**, na FastTab **Relatório eletrônico**, no campo **Vendas e fatura de texto livre**, selecione **Fatura de Venda Peppol**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-207">On the **Electronic documents** tab, on the **Electronic reporting** FastTab, in the **Sales and Free text invoice** field, select **Peppol Sales Invoice**.</span></span>
3. <span data-ttu-id="0abc7-208">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-208">Select **Save**.</span></span>

![Guia de documentos eletrônicos na página Parâmetros de contas a receber](./media/er-quick-start3-configure-ar1.png)

## <a name="configure-the-legal-entity-parameters"></a><a name="ConfigureLE"></a><span data-ttu-id="0abc7-210">Configurar os parâmetros da entidade legal</span><span class="sxs-lookup"><span data-stu-id="0abc7-210">Configure the legal entity parameters</span></span>

1. <span data-ttu-id="0abc7-211">Vá para **Administração da organização** \> **Organizações** \> **Entidades legais**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-211">Go to **Organization administration** \> **Organizations** \> **Legal entities**.</span></span>
2. <span data-ttu-id="0abc7-212">Para a empresa **DEMF** selecionada, na FastTab **Informações de conta bancária**, no campo **Número do banco**, insira **1234**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-212">For the selected **DEMF** company, on the **Bank account information** FastTab, in the **Routing number** field, enter **1234**.</span></span>
3. <span data-ttu-id="0abc7-213">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-213">Select **Save**.</span></span>
4. <span data-ttu-id="0abc7-214">Feche a página **Entidades legais**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-214">Close the **Legal entities** page.</span></span>

## <a name="prepare-a-customer-record"></a><a name="ConfigureCustomer1"></a><span data-ttu-id="0abc7-215">Preparar um registro de cliente</span><span class="sxs-lookup"><span data-stu-id="0abc7-215">Prepare a customer record</span></span>

1. <span data-ttu-id="0abc7-216">Vá para **Contas a receber** \> **Clientes** \> **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-216">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="0abc7-217">Na página **Todos os clientes**, selecione o link de conta de cliente **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-217">On the **All customers** page, select the **DE-014** customer account link.</span></span>

### <a name="add-a-customer-contact"></a><span data-ttu-id="0abc7-218">Adicionar um contato do cliente</span><span class="sxs-lookup"><span data-stu-id="0abc7-218">Add a customer contact</span></span>

1. <span data-ttu-id="0abc7-219">Vá para **Contas a receber** \> **Clientes** \> **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-219">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="0abc7-220">No Painel de Ações, na guia **Cliente**, no grupo **Contas**, selecione **Contatos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-220">On the Action Pane, on the **Customer** tab, in the **Accounts** group, select **Contacts**.</span></span>
3. <span data-ttu-id="0abc7-221">Selecione **Adicionar contatos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-221">Select **Add contacts**.</span></span>
4. <span data-ttu-id="0abc7-222">Na página **Contatos**, no campo **Nome**, abra a pesquisa, selecione **Adam Carter** e depois **Selecionar** para fechar a pesquisa.</span><span class="sxs-lookup"><span data-stu-id="0abc7-222">On the **Contacts** page, in the **First name** field, open the lookup, select **Adam Carter**, and then select **Select** to close the lookup.</span></span>
5. <span data-ttu-id="0abc7-223">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-223">Select **Save**.</span></span>
6. <span data-ttu-id="0abc7-224">Feche a página **Contatos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-224">Close the **Contacts** page.</span></span>

### <a name="define-a-primary-contact"></a><span data-ttu-id="0abc7-225">Definir um contato principal</span><span class="sxs-lookup"><span data-stu-id="0abc7-225">Define a primary contact</span></span>

1. <span data-ttu-id="0abc7-226">Vá para **Contas a receber** \> **Clientes** \> **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-226">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="0abc7-227">Na FastTab **Dados demográficos de vendas**, no campo **Contato principal**, selecione **Adam Carter**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-227">On the **Sales demographics** FastTab, in the **Primary contact** field, select **Adam Carter**.</span></span>

### <a name="set-the-e-invoicing-option"></a><span data-ttu-id="0abc7-228">Definir a opção de faturamento eletrônico</span><span class="sxs-lookup"><span data-stu-id="0abc7-228">Set the e-invoicing option</span></span>

1. <span data-ttu-id="0abc7-229">Vá para **Contas a receber** \> **Clientes** \> **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-229">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="0abc7-230">Na FastTab **Fatura e entrega**, defina a opção **Fatura eletrônica** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-230">On the **Invoice and delivery** FastTab, set the **eInvoice** option to **Yes**.</span></span>
3. <span data-ttu-id="0abc7-231">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-231">Select **Save**.</span></span>
4. <span data-ttu-id="0abc7-232">Feche a página **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-232">Close the **All customers** page.</span></span>

## <a name="process-a-customer-invoice-by-using-the-standard-er-configurations"></a><a name="ProcessInvoice1"></a><span data-ttu-id="0abc7-233">Processar uma fatura de cliente usando as configurações de ER padrão</span><span class="sxs-lookup"><span data-stu-id="0abc7-233">Process a customer invoice by using the standard ER configurations</span></span>

<span data-ttu-id="0abc7-234">Agora você pode usar as configurações de ER padrão importadas para enviar eletronicamente uma fatura de texto livre para um cliente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-234">You can now use the standard ER configurations that you imported to electronically send a free text invoice to a customer.</span></span>

### <a name="add-a-new-invoice"></a><span data-ttu-id="0abc7-235">Adicionar uma nova fatura</span><span class="sxs-lookup"><span data-stu-id="0abc7-235">Add a new invoice</span></span>

1. <span data-ttu-id="0abc7-236">Acesse **Contas a receber** \> **Faturas** \> **Todas as faturas de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-236">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="0abc7-237">Na página **Fatura de texto livre**, selecione **Novo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-237">On the **Free text invoice** page, select **New**.</span></span>
3. <span data-ttu-id="0abc7-238">Na FastTab **Cabeçalho de fatura de texto livre**, no campo **Conta de cliente**, selecione **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-238">On the **Free text invoice header** FastTab, in the **Customer account** field, select **DE-014**.</span></span>
4. <span data-ttu-id="0abc7-239">Na FastTab **Linhas da fatura**, uma linha da fatura será adicionada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-239">On the **Invoice lines** FastTab, an invoice line is automatically added.</span></span> <span data-ttu-id="0abc7-240">Nessa linha, defina os seguintes campos:</span><span class="sxs-lookup"><span data-stu-id="0abc7-240">On this line, set the following fields:</span></span>

    - <span data-ttu-id="0abc7-241">No campo **Descrição**, insira **Notebook**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-241">In the **Description** field, enter **Notebook**.</span></span>
    - <span data-ttu-id="0abc7-242">No campo **Conta principal**, selecione **401100**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-242">In the **Main account** field, select **401100**.</span></span>
    - <span data-ttu-id="0abc7-243">No campo **Preço unitário**, insira **1000**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-243">In the **Unit price** field, enter **1000**.</span></span>

5. <span data-ttu-id="0abc7-244">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-244">Select **Save**.</span></span>

![Página de fatura de texto livre](./media/er-quick-start3-add-invoice.png)

<span data-ttu-id="0abc7-246">Para obter mais informações, consulte [Criar uma fatura de texto livre](../../../finance/accounts-receivable/create-free-text-invoice-new.md).</span><span class="sxs-lookup"><span data-stu-id="0abc7-246">For more information, see [Create a free text invoice](../../../finance/accounts-receivable/create-free-text-invoice-new.md).</span></span>

### <a name="post-a-new-invoice"></a><span data-ttu-id="0abc7-247">Lançar uma nova fatura</span><span class="sxs-lookup"><span data-stu-id="0abc7-247">Post a new invoice</span></span>

1. <span data-ttu-id="0abc7-248">Acesse **Contas a receber** \> **Faturas** \> **Todas as faturas de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-248">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="0abc7-249">Na página **Fatura de texto livre**, no Painel de Ações, selecione **Lançar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-249">On the **Free text invoice** page, on the Action Pane, select **Post**.</span></span>
3. <span data-ttu-id="0abc7-250">Na caixa de diálogo **Lançar fatura de texto livre**, selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-250">In the **Post free text invoice** dialog box, select **OK**.</span></span>

![Página de detalhes da fatura de texto livre](./media/er-quick-start3-post-invoice.png)

### <a name="send-a-posted-invoice"></a><span data-ttu-id="0abc7-252">Enviar uma fatura lançada</span><span class="sxs-lookup"><span data-stu-id="0abc7-252">Send a posted invoice</span></span>

1. <span data-ttu-id="0abc7-253">Acesse **Contas a receber** \> **Faturas** \> **Todas as faturas de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-253">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="0abc7-254">Na página **Fatura de texto livre**, no Painel de Ações, no grupo **Documento**, selecione **Enviar** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-254">On the **Free text invoice** page, on the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>

    ![Visualização da fatura original](./media/er-quick-start3-send-invoice.png)

3. <span data-ttu-id="0abc7-256">Feche a página **Fatura de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-256">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="0abc7-257">Analisar uma fatura eletrônica gerada</span><span class="sxs-lookup"><span data-stu-id="0abc7-257">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="0abc7-258">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Trabalhos de relatórios eletrônicos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-258">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="0abc7-259">Na página **Trabalhos de relatórios eletrônicos**, selecione o registro inicial que contém a descrição da tarefa **Enviar XML da fatura eletrônica**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-259">On the **Electronic reporting jobs** page, select the initial record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="0abc7-260">Selecione **Mostrar arquivos** para acessar a lista de arquivos gerados.</span><span class="sxs-lookup"><span data-stu-id="0abc7-260">Select **Show files** to access the list of generated files.</span></span>

    ![Página de trabalhos de relatório eletrônico](./media/er-quick-start3-jobs-list.png)

4. <span data-ttu-id="0abc7-262">Selecione **Abrir** para baixar o arquivo XML da fatura eletrônica gerada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-262">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="0abc7-263">Analise o arquivo XML da fatura eletrônica.</span><span class="sxs-lookup"><span data-stu-id="0abc7-263">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="0abc7-264">Observe que o esquema de impostos do cliente é atualmente representado pelos atributos XML **schemeID** e **schemeAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-264">Notice that the customer tax schema is currently represented by the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="0abc7-265">Observe também que o elemento XML **cbc:CustomizationID** atualmente contém o seguinte texto: `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`.</span><span class="sxs-lookup"><span data-stu-id="0abc7-265">Also notice that the **cbc:CustomizationID** XML element currently contains the following text: `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`.</span></span>

    ![Visualização do arquivo XML da fatura eletrônica gerada](./media/er-quick-start3-e-invoice1.png)

## <a name="add-a-custom-database-field"></a><a name="AddCustomField"></a><span data-ttu-id="0abc7-267">Adicionar campo de banco de dados personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-267">Add a custom database field</span></span>

<span data-ttu-id="0abc7-268">É possível usar o recurso [Campo personalizado](../../fin-ops/get-started/user-defined-fields.md) para fazer a seguinte personalização na atual instância do Finance:</span><span class="sxs-lookup"><span data-stu-id="0abc7-268">You can use the [Custom field](../../fin-ops/get-started/user-defined-fields.md) feature to do the following customization in the current Finance instance:</span></span>

- <span data-ttu-id="0abc7-269">Personalize a estrutura do banco de dados adicionando um novo campo de banco de dados personalizado que armazene um código de identificação de imposto federal para cada cliente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-269">Customize the database structure by adding a new custom database field that stores a federal tax identification code for every customer.</span></span>
- <span data-ttu-id="0abc7-270">Personalize a página **Cliente** adicionando um novo campo de entrada de dados que possa ser usado para inserir um valor de código de imposto no novo campo de banco de dados personalizado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-270">Customize the **Customer** page by adding a new data entry field that can be used to enter a tax code value in the new custom database field.</span></span>

<span data-ttu-id="0abc7-271">Siga estas etapas para personalizar.</span><span class="sxs-lookup"><span data-stu-id="0abc7-271">Follow these steps to do the customization.</span></span>

1. <span data-ttu-id="0abc7-272">Vá para **Contas a receber** \> **Clientes** \> **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-272">Go to **Accounts receivables** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="0abc7-273">Na página **Todos os clientes**, selecione o link de conta de cliente **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-273">On the **All customers** page, select the **DE-014** customer account link.</span></span>
3. <span data-ttu-id="0abc7-274">Na FastTab **Geral**, clique com o botão direito em qualquer área em branco no campo **Idioma** e selecione **Personalizar: UpperGroup**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-274">On the **General** FastTab, right-click in any blank area under the **Language** field, and then select **Personalize: UpperGroup**.</span></span>

    <span data-ttu-id="0abc7-275">O conteúdo da FastTab **Geral** é destacado e um menu **Personalizar** é exibido.</span><span class="sxs-lookup"><span data-stu-id="0abc7-275">The contents of the **General** FastTab are highlighted, and a **Personalize** menu appears.</span></span>

4. <span data-ttu-id="0abc7-276">No menu **Personalizar**, selecione **Adicionar um campo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-276">On the **Personalize** menu, select **Add a field**.</span></span>
5. <span data-ttu-id="0abc7-277">Na caixa de diálogo **Adicionar colunas**, selecione **Criar campo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-277">In the **Add columns** dialog box, select **Create new field**.</span></span>
6. <span data-ttu-id="0abc7-278">Na caixa de diálogo **Criar campo**, no campo **Nome da tabela**, selecione **Clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-278">In the **Create new field** dialog box, in the **Table name** field, select **Customers**.</span></span>
7. <span data-ttu-id="0abc7-279">No campo **Prefixo do nome**, insira **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-279">In the **Name prefix** field, enter **FederalTaxID**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0abc7-280">O nome inteiro do campo foi definido automaticamente como **FederalTaxID\_Custom**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-280">The whole field name has been automatically defined as **FederalTaxID\_Custom**.</span></span>

8. <span data-ttu-id="0abc7-281">No campo **Rótulo**, insira **ID de Imposto Federal**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-281">In the **Label** field, enter **Federal Tax ID**.</span></span>
9. <span data-ttu-id="0abc7-282">No campo **Tipo**, selecione **Texto**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-282">In the **Type** field, select **Text**.</span></span>
10. <span data-ttu-id="0abc7-283">No campo **Comprimento**, insira **20**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-283">In the **Length** field, enter **20**.</span></span>
11. <span data-ttu-id="0abc7-284">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-284">Select **Save**.</span></span>
12. <span data-ttu-id="0abc7-285">Na caixa de mensagem exibida, selecione **Sim** para confirmar que deseja criar uma nova entrada do campo **FederalTaxID** para a tabela **Clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-285">In the message box that appears, select **Yes** to confirm that you want to create a new **FederalTaxID** field entry for the **Customers** table.</span></span>
13. <span data-ttu-id="0abc7-286">Selecione **Inserir** para <a name="insert_custom_field"></a>adicionar o campo **FederalTaxID\_Custom** à página atual.</span><span class="sxs-lookup"><span data-stu-id="0abc7-286">Select **Insert** to <a name="insert_custom_field"></a>add the **FederalTaxID\_Custom** field to the current page.</span></span>

    ![Página Todos os clientes](./media/er-quick-start3-create-new-field.gif)

14. <span data-ttu-id="0abc7-288">Feche a página **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-288">Close the **All customers** page.</span></span>

## <a name="refresh-the-er-metadata"></a><a name="RefreshERMetadata"></a><span data-ttu-id="0abc7-289">Atualizar os metadados de ER</span><span class="sxs-lookup"><span data-stu-id="0abc7-289">Refresh the ER metadata</span></span>

<span data-ttu-id="0abc7-290">É necessário atualizar os metadados de ER para tornar o campo personalizado adicionado [visível](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) no designer de mapeamento de modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-290">You must refresh the ER metadata to make the custom field that you added [visible](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) in the ER model mapping designer.</span></span>

1. <span data-ttu-id="0abc7-291">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Recriar referências de tabela**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-291">Go to **Organization administration** \> **Electronic reporting** \> **Rebuild table references**.</span></span>
2. <span data-ttu-id="0abc7-292">Na caixa de diálogo **Atualizar modelo de dados**, selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-292">In the **Update data model** dialog box, select **OK**.</span></span>

## <a name="design-the-custom-er-configurations"></a><a name="DesignCustomERConfigurations"></a><span data-ttu-id="0abc7-293">Criar configurações de ER personalizadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-293">Design the custom ER configurations</span></span>

<span data-ttu-id="0abc7-294">É possível usar as configurações de ER fornecidas pela Microsoft para criar suas configurações de ER personalizadas para gerar faturas eletrônicas que contenham o novo código de imposto.</span><span class="sxs-lookup"><span data-stu-id="0abc7-294">You can use the Microsoft-provided ER configurations to design your custom ER configurations so that they generate e-invoices that contain the new tax code.</span></span>

### <a name="customize-the-data-model-configuration"></a><span data-ttu-id="0abc7-295">Personalizar a configuração do modelo de dados</span><span class="sxs-lookup"><span data-stu-id="0abc7-295">Customize the data model configuration</span></span>

<span data-ttu-id="0abc7-296">Como usuário na função de Consultor Funcional de Relatório Eletrônico, é possível criar seu modelo de dados de ER personalizado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-296">As a user in the Electronic Reporting Functional Consultant role, you can design your custom ER data model.</span></span>

#### <a name="add-a-custom-data-model-configuration"></a><span data-ttu-id="0abc7-297">Adicionar uma configuração de modelo de dados personalizada</span><span class="sxs-lookup"><span data-stu-id="0abc7-297">Add a custom data model configuration</span></span>

1. <span data-ttu-id="0abc7-298">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-298">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-299">Na página **Configurações**, na árvore de configuração no painel esquerdo, selecione **Modelo de fatura personalizado**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-299">On the **Configurations** page, in the configuration tree in the left pane, select **Customer invoice model**.</span></span>
3. <span data-ttu-id="0abc7-300">No Painel de Ações, selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-300">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="0abc7-301">Na caixa de diálogo suspensa, no campo **Novo**, selecione **Derivar do Nome: Modelo de fatura de cliente, Microsoft** para indicar que a nova configuração do modelo de dados de ER personalizada deve ser baseada na configuração do modelo de dados de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-301">In the drop-down dialog box, in the **New** field, select **Derive from Name: Customer invoice model, Microsoft** to indicate that your new custom ER data model configuration should be based on the ER data model configuration.</span></span>
5. <span data-ttu-id="0abc7-302">No campo **Nome**, insira **Modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-302">In the **Name** field, enter **Invoice model (Litware)**.</span></span>
6. <span data-ttu-id="0abc7-303">Selecione **Criar configuração** para adicionar a nova configuração de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-303">Select **Create configuration** to add the new ER configuration.</span></span>

<span data-ttu-id="0abc7-304">Agora é possível usar o designer de modelo de dados de ER para editar a versão 50.1 da configuração de ER do **Modelo de fatura (Litware)** no [status](general-electronic-reporting.md#component-versioning) de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-304">You can now use the ER data model designer to edit version 50.1 of the **Invoice model (Litware)** ER configuration in **Draft** [status](general-electronic-reporting.md#component-versioning).</span></span>

![Versão 50.1 da configuração do ER na página Configurações](./media/er-quick-start3-added-custom-model.png)

#### <a name="configure-a-custom-data-model"></a><span data-ttu-id="0abc7-306">Configurar um modelo de dados personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-306">Configure a custom data model</span></span>

<span data-ttu-id="0abc7-307">É necessário modificar o modelo de dados personalizado adicionando um novo campo para fornecer o valor de um código de identificação de imposto federal.</span><span class="sxs-lookup"><span data-stu-id="0abc7-307">You must modify your custom data model by adding a new field to provide the value of a federal tax identification code.</span></span> <span data-ttu-id="0abc7-308">Esse código faz parte dos dados do cliente para todos os formatos de ER que usarão esse modelo de dados como fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="0abc7-308">This code is part of the customer data for every ER format that will use this data model as a data source.</span></span>

1. <span data-ttu-id="0abc7-309">Na página **Configurações**, na árvore de configuração no painel esquerdo, selecione **Modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-309">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model (Litware)**.</span></span>
2. <span data-ttu-id="0abc7-310">Na FastTab **Versões**, selecione a versão **50.1** da configuração do modelo de dados de ER selecionado no status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-310">On the **Versions** FastTab, select version **50.1** of the selected ER data model configuration in **Draft** status.</span></span>
3. <span data-ttu-id="0abc7-311">No Painel de Ações, selecione **Designer** para a versão de configuração selecionada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-311">On the Action Pane, select **Designer** for the selected configuration version.</span></span>
4. <span data-ttu-id="0abc7-312">Na página **Designer do modelo de dados**, na árvore do modelo de dados, selecione **Informações do cliente (Cliente)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-312">On the **Data model designer** page, in the data model tree, select **Customer information (Customer)**.</span></span>
5. <span data-ttu-id="0abc7-313">Selecione **Novo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-313">Select **New**.</span></span>
6. <span data-ttu-id="0abc7-314">Na caixa suspensa, no campo **Novo nó como um**, aceite o valor padrão, **Filho de um nó ativo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-314">In the drop-down dialog box, in the **New node as a** field, accept the default value, **Child of an active node**.</span></span>
7. <span data-ttu-id="0abc7-315">No campo **Nome**, insira **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-315">In the **Name** field, enter **FederalTaxID\_Litware**.</span></span>
8. <span data-ttu-id="0abc7-316">No campo **Tipo de item**, aceite o valor padrão, **String**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-316">In the **Item type** field, accept the default value, **String**.</span></span>
9. <span data-ttu-id="0abc7-317">Selecione **Adicionar** e, depois, **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-317">Select **Add**, and then select **Save**.</span></span>

    ![Página do designer de modelo de dados](./media/er-quick-start3-add-data-model-field.png)

    > [!NOTE]
    > <span data-ttu-id="0abc7-319">Os campos **Rótulo** e **Descrição** descrevem a finalidade do novo campo.</span><span class="sxs-lookup"><span data-stu-id="0abc7-319">The **Label** and **Description** fields describe the purpose of the new field.</span></span> <span data-ttu-id="0abc7-320">É possível preencher esses campos em vários idiomas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-320">You can fill in these fields in multiple languages.</span></span> <span data-ttu-id="0abc7-321">Para obter mais informações, consulte [Criar relatórios de vários idiomas no Relatório eletrônico](er-design-multilingual-reports.md).</span><span class="sxs-lookup"><span data-stu-id="0abc7-321">For more information, see [Design multilingual reports in Electronic reporting](er-design-multilingual-reports.md).</span></span>

10. <span data-ttu-id="0abc7-322">Feche a página **Designer de modelo de dados**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-322">Close the **Data model designer** page.</span></span>

#### <a name="complete-a-custom-data-model-configuration"></a><span data-ttu-id="0abc7-323">Concluir uma configuração de modelo de dados personalizada</span><span class="sxs-lookup"><span data-stu-id="0abc7-323">Complete a custom data model configuration</span></span>

<span data-ttu-id="0abc7-324">É necessário [concluir](general-electronic-reporting.md#component-versioning) seu trabalho com a versão 50.1 da sua configuração de modelo de dados de ER personalizada a fim de disponibilizá-lo para que outras configurações de ER personalizadas possam ser adicionadas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-324">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 50.1 of your custom ER data model configuration to make it available so that other custom ER configurations can be added.</span></span>

1. <span data-ttu-id="0abc7-325">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-325">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-326">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura** e selecione **Modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-326">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**, and select **Invoice model (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-327">Na FastTab **Versões**, selecione **Alterar status** \> **Concluído** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-327">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="0abc7-328">O status da versão 50.1 muda de **Rascunho** para **Concluído** e a versão se torna somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0abc7-328">The status of version 50.1 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="0abc7-329">Uma nova versão editável, 50.2, foi adicionada e tem o status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-329">A new editable version, 50.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="0abc7-330">Você pode usar essa versão para fazer outras alterações na configuração do modelo de dados de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-330">You can use this version to make further changes in your custom ER data model configuration.</span></span>

![Versão 50.1 concluída na página Configurações](./media/er-quick-start3-completed-custom-model1.png)

### <a name="customize-the-model-mapping-configuration"></a><span data-ttu-id="0abc7-332">Personalizar a configuração do mapeamento de modelo</span><span class="sxs-lookup"><span data-stu-id="0abc7-332">Customize the model mapping configuration</span></span>

<span data-ttu-id="0abc7-333">Como usuário na função de Desenvolvedor de Relatório Eletrônico, é possível criar seu mapeamento de modelo de ER personalizado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-333">As a user in the Electronic Reporting Developer role, you can design your custom ER model mapping.</span></span>

#### <a name="add-a-custom-model-mapping-configuration"></a><span data-ttu-id="0abc7-334">Adicionar uma configuração de mapeamento de modelo personalizada</span><span class="sxs-lookup"><span data-stu-id="0abc7-334">Add a custom model mapping configuration</span></span>

1. <span data-ttu-id="0abc7-335">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-335">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-336">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura de cliente** e selecione **Modelo de fatura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-336">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model**, and select **Customer invoice model mapping**.</span></span>
3. <span data-ttu-id="0abc7-337">No Painel de Ações, selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-337">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="0abc7-338">Na caixa de diálogo suspensa, no campo **Novo**, selecione **Derivar do Nome: Mapeamento de modelo de fatura de cliente, Microsoft** para indicar que a nova configuração de mapeamento de modelo de ER personalizada deve ser baseada na configuração de mapeamento de modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-338">In the drop-down dialog box, in the **New** field, select **Derive from Name: Customer invoice model mapping, Microsoft** to indicate that your new custom ER model mapping configuration should be based on the ER model mapping configuration.</span></span>
5. <span data-ttu-id="0abc7-339">No campo **Nome**, insira **Mapeamento de modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-339">In the **Name** field, enter **Invoice model mapping (Litware)**.</span></span>
6. <span data-ttu-id="0abc7-340">No campo **Modelo de destino**, selecione **Modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-340">In the **Target model** field, select **Invoice model (Litware)**.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="0abc7-341">Essa etapa é muito importante.</span><span class="sxs-lookup"><span data-stu-id="0abc7-341">This step is very important.</span></span> <span data-ttu-id="0abc7-342">Se você a omitir, não será possível usar o modelo de dados personalizado no mapeamento do modelo configurado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-342">If you omit it, you won't be able to use your custom data model in the configured model mapping.</span></span>

7. <span data-ttu-id="0abc7-343">Selecione **Criar configuração** para adicionar a nova configuração de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-343">Select **Create configuration** to add the new ER configuration.</span></span>

![Adicionar uma configuração do mapeamento de modelo de ER personalizado na página Configurações](./media/er-quick-start3-adding-custom-mapping.png)

#### <a name="configure-a-custom-model-mapping"></a><span data-ttu-id="0abc7-345">Configurar um mapeamento do modelo personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-345">Configure a custom model mapping</span></span>

<span data-ttu-id="0abc7-346">É necessário modificar o mapeamento de modelo personalizado e especificar como o campo **FederalTaxID\_Litware** do modelo de dados personalizado deve ser preenchido com os dados de aplicativos no runtime.</span><span class="sxs-lookup"><span data-stu-id="0abc7-346">You must modify your custom model mapping and specify how the custom **FederalTaxID\_Litware** field of the custom data model should be filled in with application data at runtime.</span></span>

1. <span data-ttu-id="0abc7-347">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-347">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-348">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura de cliente** \> **Mapeamento de modelo de fatura de cliente** e selecione **Mapeamento de modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-348">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **Customer invoice model mapping**, and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-349">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-349">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="0abc7-350">Na página **Modelo para mapeamento de fonte de dados**, selecione o mapeamento da **Fatura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-350">On the **Model to datasource mapping** page, select the **Customer invoice** mapping.</span></span>

    ![Página Modelo para mapeamento de fonte de dados](./media/er-quick-start3-select-customer-mapping.png)

5. <span data-ttu-id="0abc7-352">Selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-352">Select **Designer**.</span></span>
6. <span data-ttu-id="0abc7-353">Na página **Designer de mapeamento de modelo**, no painel **Fontes de dados**, expanda a fonte de dados **CustInvoiceJour** que representa a tabela de aplicativos **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-353">On the **Model mapping designer** page, in the **Data sources** pane, expand the **CustInvoiceJour** data source that represents the **CustInvoiceJour** application table.</span></span>
7. <span data-ttu-id="0abc7-354">Em **CustInvoiceJour**, expanda **Relações** para revisar a lista de relações do tipo muitos para um (N:1) para a tabela **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-354">Under **CustInvoiceJour**, expand **Relations** to review the list of relations of the many-to-one (N:1) type for the **CustInvoiceJour** table.</span></span>
8. <span data-ttu-id="0abc7-355">Em **CustInvoiceJour** \> **Relações**, expanda **Clientes (CustTable)** para acessar os campos e as relações da tabela **Clientes (CustTable)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-355">Under **CustInvoiceJour** \> **Relations**, expand **Customers (CustTable)** to access the fields and relations of the **Customers (CustTable)** table.</span></span>
9. <span data-ttu-id="0abc7-356">Selecione o campo da fonte de dados **FederalTaxID\_Custom** implementado [anteriormente](#insert_custom_field).</span><span class="sxs-lookup"><span data-stu-id="0abc7-356">Select the **FederalTaxID\_Custom** data source field that you implemented [earlier](#insert_custom_field).</span></span>
10. <span data-ttu-id="0abc7-357">No painel **Modelo de dados**, expanda **Informações do cliente (Cliente)** e selecione o campo do modelo de dados **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-357">In the **Data model** pane, expand **Customer information (Customer)**, and select the **FederalTaxID\_Litware** data model field.</span></span>
11. <span data-ttu-id="0abc7-358">Selecione **Associar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-358">Select **Bind**.</span></span>

    ![Página do designer de mapeamento de modelo](./media/er-quick-start3-customize-model-mapping.gif)

12. <span data-ttu-id="0abc7-360">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-360">Select **Save**.</span></span>
13. <span data-ttu-id="0abc7-361">Feche a página **Designer de mapeamento de modelo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-361">Close the **Model mapping designer** page.</span></span>
14. <span data-ttu-id="0abc7-362">Feche a página **Modelo para mapeamento de fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-362">Close the **Model to datasource mapping** page.</span></span>

#### <a name="complete-a-custom-model-mapping-configuration"></a><span data-ttu-id="0abc7-363">Conclua uma configuração do mapeamento de modelo personalizada</span><span class="sxs-lookup"><span data-stu-id="0abc7-363">Complete a custom model mapping configuration</span></span>

<span data-ttu-id="0abc7-364">É necessário [concluir](general-electronic-reporting.md#component-versioning) o trabalho com a versão 50.19.1 da configuração do mapeamento de modelo de ER personalizada para disponibilizá-lo para uso.</span><span class="sxs-lookup"><span data-stu-id="0abc7-364">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 50.19.1 of your custom ER model mapping configuration to make it available for use.</span></span>

1. <span data-ttu-id="0abc7-365">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-365">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-366">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura de cliente** \> **Mapeamento de modelo de fatura de cliente** e selecione **Mapeamento de modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-366">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **Customer invoice model mapping**, and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-367">Na FastTab **Versões**, selecione **Alterar status** \> **Concluído** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-367">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="0abc7-368">O status da versão 50.19.1 muda de **Rascunho** para **Concluído** e a versão se torna somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0abc7-368">The status of version 50.19.1 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="0abc7-369">Uma nova versão editável, 50.19.2, foi adicionada e tem o status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-369">A new editable version, 50.19.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="0abc7-370">Você pode usar essa versão para fazer outras alterações na configuração do mapeamento de modelo de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-370">You can use this version to make further changes in your custom ER model mapping configuration.</span></span>

![Versão 50.19.1 concluída na página Configurações](./media/er-quick-start3-completed-custom-mapping1.png)

> [!NOTE]
> <span data-ttu-id="0abc7-372">A configuração compatível do [ciclo de vida](general-electronic-reporting-manage-configuration-lifecycle.md) não inclui o ciclo de vida de alterações no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="0abc7-372">The supported configuration [lifecycle](general-electronic-reporting-manage-configuration-lifecycle.md) doesn't cover the lifecycle of database changes.</span></span> <span data-ttu-id="0abc7-373">Se você exportar a versão 50.19.1 da configuração do **Mapeamento de modelo de fatura (Litware)** da instância atual do Finance e tentar importá-la para outra instância que não contenha o campo personalizado **FederalTaxID\_Custom** na tabela **CustTable**, ocorrerá uma exceção.</span><span class="sxs-lookup"><span data-stu-id="0abc7-373">If you export version 50.19.1 of the **Invoice model mapping (Litware)** configuration from the current Finance instance and try to import it into another instance that doesn't contain the custom **FederalTaxID\_Custom** field in the **CustTable** table, an exception will occur.</span></span> <span data-ttu-id="0abc7-374">A exceção informará que a configuração de ER importada não é compatível com os metadados da instância de destino do Finance.</span><span class="sxs-lookup"><span data-stu-id="0abc7-374">The exception will state that the imported ER configuration isn't compatible with the metadata of the target Finance instance.</span></span>

### <a name="customize-the-format-configuration"></a><span data-ttu-id="0abc7-375">Personalizar a configuração de formato</span><span class="sxs-lookup"><span data-stu-id="0abc7-375">Customize the format configuration</span></span>

<span data-ttu-id="0abc7-376">Como usuário na função de Consultor Funcional de Relatório Eletrônico, é possível criar seu formato de ER personalizado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-376">As a user in the Electronic Reporting Functional Consultant role, you can design your custom ER format.</span></span>

#### <a name="add-a-custom-format-configuration"></a><span data-ttu-id="0abc7-377">Adicionar uma configuração de formato personalizada</span><span class="sxs-lookup"><span data-stu-id="0abc7-377">Add a custom format configuration</span></span>

1. <span data-ttu-id="0abc7-378">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-378">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-379">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura de cliente** \> **Fatura de Venda UBL** e selecione **Modelo de fatura Peppol**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-379">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice**, and select **Peppol Sales Invoice**.</span></span>
3. <span data-ttu-id="0abc7-380">No Painel de Ações, selecione **Criar configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-380">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="0abc7-381">Na caixa de diálogo suspensa, no campo **Novo**, selecione **Derivar do Nome: Fatura de Venda Peppol, Microsoft** para indicar que a nova configuração de formato de ER personalizada deve ser baseada na configuração de formato de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-381">In the drop-down dialog box, in the **New** field, select **Derive from Name: Peppol Sales Invoice, Microsoft** to indicate that your custom ER format configuration should be based on the ER format configuration.</span></span>
5. <span data-ttu-id="0abc7-382">No campo **Nome**, insira **Fatura de Venda Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-382">In the **Name** field, enter **Peppol Sales Invoice (Litware)**.</span></span>
6. <span data-ttu-id="0abc7-383">No campo **Modelo de dados**, selecione **Modelo de fatura (Litware)** para usar o modelo de dados personalizado e componentes de mapeamento de modelo.</span><span class="sxs-lookup"><span data-stu-id="0abc7-383">In the **Data model** field, select **Invoice model (Litware)** to use your custom data model and model mapping components.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0abc7-384">Essa etapa é muito importante.</span><span class="sxs-lookup"><span data-stu-id="0abc7-384">This step is very important.</span></span> <span data-ttu-id="0abc7-385">Se você a omitir, não será possível usar o modelo de dados personalizado no formato configurado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-385">If you omit it, you won't be able to use your custom data model in the configured format.</span></span>

7. <span data-ttu-id="0abc7-386">No campo **Modelo de dados**, selecione a definição raiz **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-386">In the **Data model** field, select the **InvoiceCustomer** root definition.</span></span>
8. <span data-ttu-id="0abc7-387">Selecione **Criar configuração** para adicionar a nova configuração de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-387">Select **Create configuration** to add the new ER configuration.</span></span>

![Adicionar uma configuração de formato personalizada na página Configurações](./media/er-quick-start3-adding-custom-format.png)

<span data-ttu-id="0abc7-389">Agora é possível usar o designer de Operações de ER para editar a versão 11.2.2.1 da configuração de ER da **Fatura de Venda Peppol** no [status](general-electronic-reporting.md#component-versioning) de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-389">You can now use the ER Operations designer to edit version 11.2.2.1 of the **Peppol Sales Invoice (Litware)** ER configuration in **Draft** [status](general-electronic-reporting.md#component-versioning).</span></span>

![Versão 11.2.2.1 da configuração do ER na página Configurações](./media/er-quick-start3-added-custom-format.png)

#### <a name="configure-a-custom-format"></a><span data-ttu-id="0abc7-391">Configurar um formato personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-391">Configure a custom format</span></span>

<span data-ttu-id="0abc7-392">É necessário modificar o formato personalizado adicionando um novo elemento de formato para preencher o valor de um código de identificação de imposto federal de um cliente faturado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-392">You must modify your custom format by adding a new format element to fill in the value of an invoiced customer's federal tax identification code.</span></span>

1. <span data-ttu-id="0abc7-393">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-393">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-394">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura de cliente** \> **Fatura de Venda UBL** \> **Fatura de Venda Peppol** e selecione **Fatura de Venda Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-394">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice**, and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-395">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-395">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="0abc7-396">Na árvore de formato, expanda **XMLHeader** \> **Fatura** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** e selecione **cbc:ID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-396">In the format tree, expand **XMLHeader** \> **Invoice** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme**, and select **cbc:ID**.</span></span>
5. <span data-ttu-id="0abc7-397">Selecione **Adicionar** e depois **XML** \> **Atributo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-397">Select **Add**, and then select **XML** \> **Attribute**.</span></span>
6. <span data-ttu-id="0abc7-398">Na caixa de diálogo **Propriedade do componente**, no campo **Nome**, insira **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-398">In the **Component property** dialog box, in the **Name** field, enter **FederalTaxID**.</span></span>
7. <span data-ttu-id="0abc7-399">Selecione **OK** para adicionar um novo elemento de formato para criar um novo atributo XML **FederalTaxID** em um arquivo XML gerado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-399">Select **OK** to add a new format element to create a new **FederalTaxID** XML attribute in a generated XML file.</span></span>
8. <span data-ttu-id="0abc7-400">Na árvore de formato, em **XMLHeader** \> **Fatura** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID**, selecione **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-400">In the format tree, under **XMLHeader** \> **Invoice** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID**, select **FederalTaxID**.</span></span>
9. <span data-ttu-id="0abc7-401">Selecione **Mover para cima**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-401">Select **Move up**.</span></span>

![Novo elemento de formato na página Designer de formato](./media/er-quick-start3-customized-format.png)

#### <a name="configure-a-custom-format-mapping"></a><span data-ttu-id="0abc7-403">Configurar um mapeamento de formato personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-403">Configure a custom format mapping</span></span>

1. <span data-ttu-id="0abc7-404">Na página **Designer de formato**, na guia **Mapeamento**, expanda a fonte de dados **Fatura** do tipo **Modelo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-404">On the **Format designer** page, on the **Mapping** tab, expand the **Invoice** data source of the **Model** type.</span></span>
2. <span data-ttu-id="0abc7-405">Em **Fatura**, expanda **Informações do cliente (Cliente)** e selecione **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-405">Under **Invoice**, expand **Customer information (Customer)**, and select **FederalTaxID\_Litware**.</span></span>
3. <span data-ttu-id="0abc7-406">Selecione **Associar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-406">Select **Bind**.</span></span>

    ![Página do designer de formatos](./media/er-quick-start3-customized-format-mapping.png)

4. <span data-ttu-id="0abc7-408">Selecione a fonte de dados **Fatura** do tipo **Modelo** e, em seguida,**Editar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-408">Select the **Invoice** data source of the **Model** type, and then select **Edit**.</span></span>
5. <span data-ttu-id="0abc7-409">No campo **Versão**, selecione a versão **1** do modelo de dados personalizado e depois selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-409">In the **Version** field, select version **1** of your custom data model, and then select **OK**.</span></span>
6. <span data-ttu-id="0abc7-410">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-410">Select **Save**.</span></span>
7. <span data-ttu-id="0abc7-411">Feche a página **Designer de formato**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-411">Close the **Format designer** page.</span></span>

#### <a name="complete-a-custom-format-configuration"></a><span data-ttu-id="0abc7-412">Concluir uma configuração de formato personalizada</span><span class="sxs-lookup"><span data-stu-id="0abc7-412">Complete a custom format configuration</span></span>

<span data-ttu-id="0abc7-413">É necessário [concluir](general-electronic-reporting.md#component-versioning) o trabalho com a versão 11.2.2.1 da configuração de formato de ER personalizada para disponibilizá-lo para uso.</span><span class="sxs-lookup"><span data-stu-id="0abc7-413">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 11.2.2.1 of your custom ER format configuration to make it available for use.</span></span>

1. <span data-ttu-id="0abc7-414">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-414">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-415">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura de cliente** \> **Fatura de Venda UBL** \> **Fatura de Venda Peppol** e selecione **Fatura de Venda Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-415">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice**, and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-416">Na FastTab **Versões**, selecione **Alterar status** \> **Concluído** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-416">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="0abc7-417">O status da versão 11.2.2.1 muda de **Rascunho** para **Concluído** e a versão se torna somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0abc7-417">The status of version 11.2.2.1 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="0abc7-418">Uma nova versão editável, 11.2.2.2, foi adicionada e tem o status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-418">A new editable version, 11.2.2.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="0abc7-419">Você pode usar essa versão para fazer outras alterações na configuração de formato de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-419">You can use this version to make further changes in your custom ER format configuration.</span></span>

![Versão 11.2.2.1 concluída na página Configurações](./media/er-quick-start3-completed-custom-format1.png)

## <a name="configure-the-accounts-receivable-parameters-to-start-to-use-custom-er-configurations"></a><a name="ConfigureAR2"></a><span data-ttu-id="0abc7-421">Configurar os parâmetros de Contas a receber para iniciar o uso de configurações de ER personalizadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-421">Configure the Accounts receivable parameters to start to use custom ER configurations</span></span>

1. <span data-ttu-id="0abc7-422">Vá para **Contas a receber** \> **Configuração** \> **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-422">Go to **Accounts receivable** \> **Setup** \> **Accounts receivable parameters**.</span></span>
2. <span data-ttu-id="0abc7-423">Na guia **Documentos eletrônicos**, na FastTab **Relatório eletrônico**, no campo **Vendas e fatura de texto livre**, selecione **Fatura de Venda Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-423">On the **Electronic documents** tab, on the **Electronic reporting** FastTab, in the **Sales and Free text invoice** field, select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-424">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-424">Select **Save**.</span></span>

![Página Parâmetros de contas a receber, guia Documentos eletrônicos, FastTab Relatório eletrônico](./media/er-quick-start3-configure-ar2.png)

## <a name="update-a-customer-record-by-adding-a-federal-tax-identification-code"></a><a name="ConfigureCustomer2"></a><span data-ttu-id="0abc7-426">Atualizar registro de cliente adicionando um código de identificação de imposto federal</span><span class="sxs-lookup"><span data-stu-id="0abc7-426">Update a customer record by adding a federal tax identification code</span></span>

1. <span data-ttu-id="0abc7-427">Vá para **Contas a receber** \> **Clientes** \> **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-427">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="0abc7-428">Na página **Todos os clientes**, selecione o link de conta de cliente **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-428">On the **All customers** page, select the **DE-014** customer account link.</span></span>
3. <span data-ttu-id="0abc7-429">Na FastTab **Geral**, no campo **ID de Imposto Federal**, insira **LITWARE-6789**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-429">On the **General** FastTab, in the **Federal Tax ID** field, enter **LITWARE-6789**.</span></span>
4. <span data-ttu-id="0abc7-430">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-430">Select **Save**.</span></span>

    ![Página de detalhes de cliente DE-014](./media/er-quick-start3-added-tax-id-value.png)

5. <span data-ttu-id="0abc7-432">Feche a página **Todos os clientes**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-432">Close the **All customers** page.</span></span>

## <a name="process-a-customer-invoice-by-using-custom-er-configurations"></a><a name="ProcessInvoice2"></a><span data-ttu-id="0abc7-433">Processar uma fatura de cliente usando as configurações de ER personalizadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-433">Process a customer invoice by using custom ER configurations</span></span>

### <a name="select-and-send-a-posted-invoice"></a><span data-ttu-id="0abc7-434">Selecionar e enviar uma fatura lançada</span><span class="sxs-lookup"><span data-stu-id="0abc7-434">Select and send a posted invoice</span></span>

1. <span data-ttu-id="0abc7-435">Acesse **Contas a receber** \> **Faturas** \> **Todas as faturas de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-435">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="0abc7-436">Na página **Fatura de texto livre**, selecione a fatura adicionada e lançada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-436">On the **Free text invoice** page, select the invoice that you previously added and posted.</span></span>
3. <span data-ttu-id="0abc7-437">No Painel de Ações, no grupo **Documento**, selecione **Enviar** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-437">On the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>
4. <span data-ttu-id="0abc7-438">Feche a página **Fatura de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-438">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="0abc7-439">Analisar uma fatura eletrônica gerada</span><span class="sxs-lookup"><span data-stu-id="0abc7-439">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="0abc7-440">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Trabalhos de relatórios eletrônicos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-440">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="0abc7-441">Na página **Trabalhos de relatórios eletrônicos**, selecione o registro mais recente que contém a descrição da tarefa **Enviar XML da fatura eletrônica**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-441">On the **Electronic reporting jobs** page, select the latest record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="0abc7-442">Selecione **Mostrar arquivos** para acessar a lista de arquivos gerados.</span><span class="sxs-lookup"><span data-stu-id="0abc7-442">Select **Show files** to access the list of generated files.</span></span>
4. <span data-ttu-id="0abc7-443">Selecione **Abrir** para baixar o arquivo XML da fatura eletrônica gerada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-443">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="0abc7-444">Analise o arquivo XML da fatura eletrônica.</span><span class="sxs-lookup"><span data-stu-id="0abc7-444">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="0abc7-445">Observe que, de acordo com a sua personalização, o esquema de imposto do cliente inclui o atributo XML personalizado **FederalTaxID**, além dos atributos XML **schemeID** e **schemeAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-445">Notice that, in accordance with your customization, the customer tax schema includes the custom **FederalTaxID** XML attribute in addition to the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="0abc7-446">O valor desse novo atributo XML é especificado pela ID de imposto federal **LITWARE-6789** inserida para um cliente faturado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-446">The value of this new XML attribute is specified by the **LITWARE-6789** federal tax ID that was entered for an invoiced customer.</span></span>

    ![Visualização do arquivo XML da fatura eletrônica gerada com suas personalizações](./media/er-quick-start3-e-invoice2.png)

## <a name="import-the-latest-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations2"></a><span data-ttu-id="0abc7-448">Importar as versões mais recentes das configurações de ER padrão</span><span class="sxs-lookup"><span data-stu-id="0abc7-448">Import the latest versions of standard ER configurations</span></span>

<span data-ttu-id="0abc7-449">Para manter o conjunto de configurações de ER padrão na instância do Finance [atualizado](general-electronic-reporting-manage-configuration-lifecycle.md), é necessário importar novas versões sempre que elas forem disponibilizadas no [repositório](general-electronic-reporting.md#Repository) de ER configurado para essa instância.</span><span class="sxs-lookup"><span data-stu-id="0abc7-449">To keep the set of standard ER configurations in your Finance instance [up to date](general-electronic-reporting-manage-configuration-lifecycle.md), you must import new versions of them whenever they become available in the ER [repository](general-electronic-reporting.md#Repository) that was configured for that instance.</span></span>

1. <span data-ttu-id="0abc7-450">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-450">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-451">Na página **Configurações de localização**, na seção **Provedores de configuração**, selecione o bloco **Microsoft** e, depois, selecione **Repositórios** para ver a lista de repositórios do provedor Microsoft.</span><span class="sxs-lookup"><span data-stu-id="0abc7-451">On the **Localization configurations** page, in the **Configuration providers** section, select the **Microsoft** tile, and then select **Repositories** to view the list of repositories for the Microsoft provider.</span></span>
3. <span data-ttu-id="0abc7-452">Na página **Repositórios de configuração**, selecione o repositório do tipo **Global** e, depois, selecione **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-452">On the **Configuration repositories** page, select the repository of the **Global** type, and then select **Open**.</span></span> <span data-ttu-id="0abc7-453">Se você precisar de autorização para se conectar ao Regulatory Configuration Service, siga as instruções de autorização.</span><span class="sxs-lookup"><span data-stu-id="0abc7-453">If you're prompted for authorization to connect to Regulatory Configuration Service, follow the authorization instructions.</span></span>
4. <span data-ttu-id="0abc7-454">Na página **Repositório de configuração**, na árvore de configuração no painel esquerdo, selecione a configuração de formato **Fatura de Venda Peppol**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-454">On the **Configuration repository** page, in the configuration tree in the left pane, select the **Peppol Sales Invoice** format configuration.</span></span>
5. <span data-ttu-id="0abc7-455">Na FastTab **Versões**, selecione a versão **32.6.7** da configuração de formato de ER selecionada que foi lançada para oferecer suporte a faturas eletrônicas de clientes no formato PEPPOL BIS 3.</span><span class="sxs-lookup"><span data-stu-id="0abc7-455">On the **Versions** FastTab, select version **32.6.7** of the selected ER format configuration that has been released to support customer electronic invoices in PEPPOL BIS 3 format.</span></span> <span data-ttu-id="0abc7-456">Para obter mais informações, consulte [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic).</span><span class="sxs-lookup"><span data-stu-id="0abc7-456">For more information, see [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic).</span></span>
6. <span data-ttu-id="0abc7-457">Selecione **Importar** para baixar a versão selecionada do repositório global para a instância atual do Finance.</span><span class="sxs-lookup"><span data-stu-id="0abc7-457">Select **Import** to download the selected version from the Global repository to the current Finance instance.</span></span>

![Versão 32.6.7 selecionada na página Repositório de configuração](./media/er-quick-start3-import-solution2.png)

<span data-ttu-id="0abc7-459">Para obter mais informações sobre como esse processo pode ser automatizado, consulte [Importar versões atualizadas de configurações de ER](er-download-updated-versions-global-repo.md).</span><span class="sxs-lookup"><span data-stu-id="0abc7-459">For information about how this process can be automated, see [Import updated versions of ER configurations](er-download-updated-versions-global-repo.md).</span></span>

### <a name="review-the-imported-er-configurations"></a><span data-ttu-id="0abc7-460">Examinar as configurações de ER importadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-460">Review the imported ER configurations</span></span>

1. <span data-ttu-id="0abc7-461">Vá para **Administração da organização** \> **Espaços de trabalho** \> **Relatório eletrônico**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-461">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="0abc7-462">Na página **Configurações de localização**, na seção **Configurações**, selecione o título **Configurações de relatórios**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-462">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="0abc7-463">Expanda a FastTab **Componentes de configuração**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-463">Expand the **Configuration components** FastTab.</span></span>
4. <span data-ttu-id="0abc7-464">Na árvore de configuração no painel esquerdo, expanda **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-464">In the configuration tree in the left pane, expand **Invoice model**.</span></span> <span data-ttu-id="0abc7-465">Observe que o nome de **Modelo de fatura de cliente** foi alterado para **Modelo de fatura** em uma das configurações importadas de modelo de dados de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-465">Notice that the name of **Customer invoice model** has been changed to **Invoice model** in one of the imported ER data model configurations.</span></span>
5. <span data-ttu-id="0abc7-466">Na árvore de configuração no painel esquerdo, expanda **Mapeamento de modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-466">In the configuration tree in the left pane, expand **Invoice model mapping**.</span></span> <span data-ttu-id="0abc7-467">Observe que o nome de **Mapeamento de modelo de fatura de cliente** foi alterado para **Mapeamento de modelo de fatura** em uma das configurações importadas de mapeamento de modelo de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-467">Notice that the name of **Customer invoice model mapping** has been changed to **Invoice model mapping** in one of the imported ER model mapping configurations.</span></span>
6. <span data-ttu-id="0abc7-468">Expanda **Fatura de Venda UBL** \> **Fatura de Venda Peppol**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-468">Expand **UBL Sales invoice** \> **Peppol Sales Invoice**.</span></span>

<span data-ttu-id="0abc7-469">Observe que, além do formato de ER **Fatura de Venda Peppol** selecionado, as versões mais recentes de outras configurações de ER necessárias foram importadas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-469">Notice that, in addition to the selected **Peppol Sales Invoice** ER format, the latest versions of other required ER configurations were imported.</span></span> <span data-ttu-id="0abc7-470">Como novas versões de configurações de ER são publicadas constantemente no repositório Global e LCS para manter as correspondentes soluções de ER em conformidade com novos requisitos, as versões mais recentes da configuração necessária do modelo de dados e as configurações do mapeamento de modelos foram importadas.</span><span class="sxs-lookup"><span data-stu-id="0abc7-470">Because new versions of ER configurations are constantly published to the Global repository and LCS to keep the corresponding ER solutions compliant with new requirements, the latest versions of the required data model configuration and its model mapping configurations were imported.</span></span>

<span data-ttu-id="0abc7-471">Verifique se as seguintes configurações de ER estarão futuramente disponíveis na árvore de configuração:</span><span class="sxs-lookup"><span data-stu-id="0abc7-471">Make sure that the following ER configurations are eventually available in the configuration tree:</span></span>

- <span data-ttu-id="0abc7-472">Configuração de modelo de dados de ER do **Modelo de fatura**:</span><span class="sxs-lookup"><span data-stu-id="0abc7-472">**Invoice model** ER data model configuration:</span></span>

    - <span data-ttu-id="0abc7-473">A versão 206 (ou posterior) contém a versão 24 (ou posterior) do componente de ER do modelo de dados que representa a estrutura de dados do domínio corporativo de faturamento.</span><span class="sxs-lookup"><span data-stu-id="0abc7-473">Version 206 (or later) contains version 24 (or later) of the data model ER component that represents the data structure of the invoicing business domain.</span></span> <span data-ttu-id="0abc7-474">Esta configuração de ER foi importada como ancestral da configuração mais recente disponível do mapeamento do modelo de ER do **Mapeamento do modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-474">This ER configuration has been imported as an ancestor of the latest available **Invoice model mapping** ER model mapping configuration.</span></span>

    ![Versão 206 na página Configurações](./media/er-quick-start3-imported-solution2b1.png)

- <span data-ttu-id="0abc7-476">Configuração de mapeamento de modelo de ER do **Mapeamento de modelo de fatura**:</span><span class="sxs-lookup"><span data-stu-id="0abc7-476">**Invoice model mapping** ER model mapping configuration:</span></span>

    - <span data-ttu-id="0abc7-477">A versão 206.132 (ou posterior) foi importada como a implementação mais recente da versão 206 da configuração do modelo de dados de ER do **Modelo de fatura**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-477">Version 206.132 (or later) has been imported as the latest implementation of version 206 of the **Invoice model** ER data model configuration.</span></span> <span data-ttu-id="0abc7-478">Ela contém vários componentes de ER de mapeamento de modelo que descrevem como o modelo de dados é preenchido com os dados do aplicativo no runtime.</span><span class="sxs-lookup"><span data-stu-id="0abc7-478">It contains several model mapping ER components that describe how the data model is filled in with application data at runtime.</span></span>

    ![Versão 206.132 na página Configurações](./media/er-quick-start3-imported-solution2b2.png)

- <span data-ttu-id="0abc7-480">Configuração de formato de ER de **Fatura de venda UBL**:</span><span class="sxs-lookup"><span data-stu-id="0abc7-480">**UBL Sales invoice** ER format configuration:</span></span>

    - <span data-ttu-id="0abc7-481">A versão 32.6 contém os componentes de ER formato e mapeamento de formato.</span><span class="sxs-lookup"><span data-stu-id="0abc7-481">Version 32.6 contains the format and format mapping ER components.</span></span> <span data-ttu-id="0abc7-482">O componente de formato especifica o layout do relatório.</span><span class="sxs-lookup"><span data-stu-id="0abc7-482">The format component specifies the report layout.</span></span> <span data-ttu-id="0abc7-483">O componente mapeamento de formato contém a fonte de dados do modelo e especifica como essa fonte de dados é usada para preencher o layout do relatório no runtime.</span><span class="sxs-lookup"><span data-stu-id="0abc7-483">The format mapping component contains the model data source and specifies how this data source is used to fill in the report layout at runtime.</span></span> <span data-ttu-id="0abc7-484">Este formato de ER foi configurado para gerar faturas eletrônicas no formato UBL.</span><span class="sxs-lookup"><span data-stu-id="0abc7-484">This ER format was configured to generate e-invoices in UBL format.</span></span> <span data-ttu-id="0abc7-485">Ele foi importado como pai do formato de ER **Fatura de Venda Peppol** selecionado para importação.</span><span class="sxs-lookup"><span data-stu-id="0abc7-485">It has been imported as a parent of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>

- <span data-ttu-id="0abc7-486">Configuração de formato de ER de **Fatura de Venda Peppol**:</span><span class="sxs-lookup"><span data-stu-id="0abc7-486">**Peppol Sales Invoice** ER format configuration:</span></span>

    - <span data-ttu-id="0abc7-487">A versão 32.6.7 contém os componentes de ER do formato e de mapeamento de formato que foram configurados para gerar faturas eletrônicas no formato PEPPOL.</span><span class="sxs-lookup"><span data-stu-id="0abc7-487">Version 32.6.7 contains the format and format mapping ER components that were configured to generate e-invoices in PEPPOL format.</span></span>

    ![Versão 32.6.7 na página Configurações](./media/er-quick-start3-imported-solution2b3.png)

## <a name="adopt-the-changes-to-the-new-standard-er-configurations-in-your-custom-er-configurations"></a><a name="RebaseCustomERConfigurations"></a><span data-ttu-id="0abc7-489">Adotar as alterações das novas versões das configurações de ER padrão nas configurações de ER personalizadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-489">Adopt the changes to the new standard ER configurations in your custom ER configurations</span></span>

### <a name="adopt-your-custom-er-data-model"></a><span data-ttu-id="0abc7-490">Adotar seu modelo de dados de ER personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-490">Adopt your custom ER data model</span></span>

1. <span data-ttu-id="0abc7-491">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-491">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-492">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura** e selecione **Modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-492">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**, and select **Invoice model (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-493">Na FastTab **Versões**, para a versão de rascunho **50.2** da configuração de modelo de dados escolhida, selecione **Trocar base**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-493">On the **Versions** FastTab, for draft version **50.2** of the selected data model configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="0abc7-494">No campo **Versão de destino**, confirme a seleção da versão **206** da configuração do modelo de dados base de ER e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-494">In the **Target version** field, confirm the selection of version **206** of the base ER data model configuration, and then select **OK**.</span></span>

    <span data-ttu-id="0abc7-495">A versão de rascunho da configuração do modelo de dados de ER personalizado é renumerada de **50.2** para **206.2** indicando que agora contém a personalização que foi mesclada com as alterações na versão anterior (206) da configuração do modelo de dados base de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-495">The draft version of your custom ER data model configuration is renumbered from **50.2** to **206.2** to indicate that it now contains your customization that was merged with the changes in the latest version (206) of the base ER data model configuration.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0abc7-496">A ação de troca de base é reversível.</span><span class="sxs-lookup"><span data-stu-id="0abc7-496">The rebase action is reversible.</span></span> <span data-ttu-id="0abc7-497">Para cancelar essa troca de base, selecione a versão **50.1** do **Modelo de fatura (Litware)** na FastTab **Versões** e selecione **Obter esta versão**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-497">To cancel this rebase, select version **50.1** of the **Invoice model (Litware)** model on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="0abc7-498">A versão 206.2 será renumerada para **50.2**, e o conteúdo da versão de rascunho 50.2 será compatível com o conteúdo da versão 50.1.</span><span class="sxs-lookup"><span data-stu-id="0abc7-498">Version 206.2 will be renumbered back to **50.2**, and the content of draft version 50.2 will match the content of version 50.1.</span></span>

5. <span data-ttu-id="0abc7-499">Na FastTab **Versões**, selecione **Alterar status** \> **Concluído** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-499">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="0abc7-500">O status da versão 206.2 muda de **Rascunho** para **Concluído** e a versão se torna somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0abc7-500">The status of version 206.2 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="0abc7-501">Uma nova versão editável, 206.3, foi adicionada e tem o status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-501">A new editable version, 206.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="0abc7-502">Você pode usar essa versão para fazer outras alterações na configuração do modelo de dados de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-502">You can use this version to make further changes in your custom ER data model configuration.</span></span>

![Versão 206.2 concluída na página Configurações](./media/er-quick-start3-completed-custom-model2.png)

### <a name="adopt-your-custom-er-model-mapping"></a><span data-ttu-id="0abc7-504">Adotar seu mapeamento de modelo de ER personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-504">Adopt your custom ER model mapping</span></span>

1. <span data-ttu-id="0abc7-505">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-505">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-506">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura** \> **Mapeamento de modelo de fatura** e selecione **Mapeamento de modelo de fatura (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-506">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** \> **Invoice model mapping**, and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-507">Na FastTab **Versões**, para a versão de rascunho **50.19.2** da configuração do mapeamento de modelo escolhido, selecione **Trocar base**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-507">On the **Versions** FastTab, for draft version **50.19.2** of the selected model mapping configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="0abc7-508">No campo **Versão de destino**, confirme a seleção da versão **206.132** da configuração do mapeamento de modelo de dados base de ER e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-508">In the **Target version** field, confirm the selection of version **206.132** of the base ER model mapping configuration, and then select **OK**.</span></span>

    <span data-ttu-id="0abc7-509">A versão de rascunho da configuração do mapeamento de modelo de ER personalizado é renumerada de **50.19.2** para **206.132.2** indicando que agora contém a personalização que foi mesclada com as alterações na versão anterior (206.132) da configuração do mapeamento de modelo base de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-509">The draft version of your custom ER model mapping configuration is renumbered from **50.19.2** to **206.132.2** to indicate that it now contains your customization that was merged with the changes in the latest version (206.132) of the base ER model mapping configuration.</span></span>

    <span data-ttu-id="0abc7-510">Observe que alguns conflitos de troca de base foram descobertos.</span><span class="sxs-lookup"><span data-stu-id="0abc7-510">Notice that some rebase conflicts were discovered.</span></span> <span data-ttu-id="0abc7-511">Agora você deve resolver esses conflitos manualmente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-511">You must now manually resolve those conflicts.</span></span>

    ![Mensagem de conflito de troca de base na página Configurações](./media/er-quick-start3-rebase-conflicts-model-mapping1.png)

5. <span data-ttu-id="0abc7-513">No Painel de Ações, selecione **Designer** e, na lista de mapeamentos, selecione **Fatura de cliente**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-513">On the Action Pane, select **Designer**, and then, in the list of mappings, select **Customer Invoice**.</span></span>
6. <span data-ttu-id="0abc7-514">Para cada conflito de troca de base, selecione **Reter valor próprio**, pois é necessário manter o número da versão do seu modelo de dados personalizado para cada componente mencionado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-514">For each rebase conflict, select **Retain own value**, because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>

    ![Conflitos de troca de base na página Designer de mapeamento de modelo](./media/er-quick-start3-rebase-conflicts-model-mapping2.png)

7. <span data-ttu-id="0abc7-516">Selecione **Salvar** e feche a página **Designer de mapeamento de modelo**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-516">Select **Save**, and then close the **Model mapping designer** page.</span></span>
8. <span data-ttu-id="0abc7-517">Na lista de mapeamentos, selecione **Fatura do Projeto**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-517">In the list of mappings, select **Project Invoice**.</span></span>
9. <span data-ttu-id="0abc7-518">Para cada conflito de troca de base, selecione **Reter valor próprio**, pois é necessário manter o número da versão do seu modelo de dados personalizado para cada componente mencionado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-518">For each rebase conflict, select **Retain own value**, because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>
10. <span data-ttu-id="0abc7-519">Selecione **Salvar** e feche a página **Designer de mapeamentos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-519">Select **Save**, and then close the **Model mappings** page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0abc7-520">A ação de troca de base é reversível.</span><span class="sxs-lookup"><span data-stu-id="0abc7-520">The rebase action is reversible.</span></span> <span data-ttu-id="0abc7-521">Para cancelar essa troca de base, selecione a versão **50.19.1** do **Mapeamento de modelo de fatura (Litware)** na FastTab **Versões** e selecione **Obter esta versão**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-521">To cancel this rebase, select version **50.19.1** of the **Invoice model mapping (Litware)** model mapping on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="0abc7-522">A versão 206.132.2 será renumerada para **50.19.2**, e o conteúdo da versão de rascunho 50.19.2 será compatível com o conteúdo da versão 50.19.1.</span><span class="sxs-lookup"><span data-stu-id="0abc7-522">Version 206.132.2 will be renumbered back to **50.19.2**, and the content of draft version 50.19.2 will match the content of version 50.19.1.</span></span>

11. <span data-ttu-id="0abc7-523">Na FastTab **Versões**, selecione **Alterar status** \> **Concluído** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-523">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="0abc7-524">O status da versão 206.132.2 muda de **Rascunho** para **Concluído** e a versão se torna somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0abc7-524">The status of version 206.132.2 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="0abc7-525">Uma nova versão editável, 206.132.3, foi adicionada e tem o status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-525">A new editable version, 206.132.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="0abc7-526">Você pode usar essa versão para fazer outras alterações na configuração do mapeamento de modelo de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-526">You can use this version to make further changes in your custom ER model mapping configuration.</span></span>

![Versão 206.132.2 concluída na página Configurações](./media/er-quick-start3-completed-custom-mapping2.png)

### <a name="adopt-your-custom-er-format"></a><span data-ttu-id="0abc7-528">Adotar seu formato de ER personalizado</span><span class="sxs-lookup"><span data-stu-id="0abc7-528">Adopt your custom ER format</span></span>

1. <span data-ttu-id="0abc7-529">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-529">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="0abc7-530">Na página **Configurações**, na árvore de configuração no painel esquerdo, expanda **Modelo de fatura** \> **Fatura de Venda UBL** \> **Fatura de Venda Peppol** e selecione **Fatura de Venda Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-530">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice**, and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="0abc7-531">Na FastTab **Versões**, para a versão de rascunho **11.2.2.2** da configuração de formato escolhida, selecione **Trocar base**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-531">On the **Versions** FastTab, for draft version **11.2.2.2** of the selected format configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="0abc7-532">No campo da versão **Destino**, confirme a seleção da versão **32.6.7** da configuração de formato base de ER e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-532">In the **Target** version field, confirm the selection of version **32.6.7** of the base ER format configuration, and then select **OK**.</span></span>

    <span data-ttu-id="0abc7-533">A versão de rascunho da configuração de formato de ER personalizada é renumerada de **11.2.2.2** para **32.6.7.2** indicando que agora contém a personalização que foi mesclada com as alterações na versão anterior (32.6.7) da configuração de formato base de ER.</span><span class="sxs-lookup"><span data-stu-id="0abc7-533">The draft version of your custom ER format configuration is renumbered from **11.2.2.2** to **32.6.7.2** to indicate that it now contains your customization that was merged with the changes in the latest version (32.6.7) of the base ER format configuration.</span></span>

    <span data-ttu-id="0abc7-534">Observe que alguns conflitos de troca de base foram descobertos.</span><span class="sxs-lookup"><span data-stu-id="0abc7-534">Notice that some rebase conflicts were discovered.</span></span> <span data-ttu-id="0abc7-535">Agora você deve resolver esses conflitos manualmente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-535">You must now manually resolve those conflicts.</span></span>

5. <span data-ttu-id="0abc7-536">No Painel de Ação, selecione **Designer**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-536">On the Action Pane, select **Designer**.</span></span>
6. <span data-ttu-id="0abc7-537">Para cada conflito de troca de base, selecione **Reter valor próprio**, pois é necessário manter o número da versão do seu modelo de dados personalizado para cada componente mencionado.</span><span class="sxs-lookup"><span data-stu-id="0abc7-537">For each rebase conflict, select **Retain own value**, because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>
7. <span data-ttu-id="0abc7-538">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-538">Select **Save**.</span></span>
8. <span data-ttu-id="0abc7-539">Na guia **Mapeamento**, selecione a fonte de dados **Fatura** do tipo **Modelo** e, em seguida, **Editar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-539">On the **Mapping** tab, select the **Invoice** data source of the **Model** type, and then select **Edit**.</span></span>
9. <span data-ttu-id="0abc7-540">No campo **Versão**, selecione a versão **2** do modelo de dados personalizado e depois selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-540">In the **Version** field, select version **2** of your custom data model, and then select **OK**.</span></span>
10. <span data-ttu-id="0abc7-541">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-541">Select **Save**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0abc7-542">A ação de troca de base é reversível.</span><span class="sxs-lookup"><span data-stu-id="0abc7-542">The rebase action is reversible.</span></span> <span data-ttu-id="0abc7-543">Para cancelar essa troca de base, selecione a versão **11.2.2.1** do formato de **Fatura de Venda Peppol (Litware)** na FastTab **Versões** e selecione **Obter esta versão**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-543">To cancel this rebase, select version **11.2.2.1** of the **Peppol Sales Invoice (Litware)** format on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="0abc7-544">A versão 32.6.7.2 será renumerada para **11.2.2.2**, e o conteúdo da versão de rascunho 11.2.2.2 será compatível com o conteúdo da versão 11.2.2.1.</span><span class="sxs-lookup"><span data-stu-id="0abc7-544">Version 32.6.7.2 will be renumbered back to **11.2.2.2**, and the content of draft version 11.2.2.2 will match the content of version 11.2.2.1.</span></span>

11. <span data-ttu-id="0abc7-545">Feche a página **Designer de formato**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-545">Close the **Format designer** page.</span></span>
12. <span data-ttu-id="0abc7-546">Na FastTab **Versões**, selecione **Alterar status** \> **Concluído** e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-546">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="0abc7-547">O status da versão 32.6.7.2 muda de **Rascunho** para **Concluído** e a versão se torna somente leitura.</span><span class="sxs-lookup"><span data-stu-id="0abc7-547">The status of version 32.6.7.2 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="0abc7-548">Uma nova versão editável, 32.6.7.3, foi adicionada e tem o status de **Rascunho**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-548">A new editable version, 32.6.7.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="0abc7-549">Você pode usar essa versão para fazer outras alterações na configuração de formato de ER personalizada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-549">You can use this version to make further changes in your custom ER format configuration.</span></span>

![Versão 32.6.7.2 concluída na página Configurações](./media/er-quick-start3-completed-custom-format2.png)

## <a name="process-a-customer-invoice-by-using-new-versions-of-the-custom-er-configurations"></a><a name="ProcessInvoice3"></a><span data-ttu-id="0abc7-551">Processar uma fatura de cliente usando as novas versões das configurações de ER personalizadas</span><span class="sxs-lookup"><span data-stu-id="0abc7-551">Process a customer invoice by using new versions of the custom ER configurations</span></span>

### <a name="select-and-send-a-posted-invoice"></a><span data-ttu-id="0abc7-552">Selecionar e enviar uma fatura lançada</span><span class="sxs-lookup"><span data-stu-id="0abc7-552">Select and send a posted invoice</span></span>

1. <span data-ttu-id="0abc7-553">Acesse **Contas a receber** \> **Faturas** \> **Todas as faturas de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-553">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="0abc7-554">Na página **Fatura de texto livre**, selecione a fatura adicionada e lançada anteriormente.</span><span class="sxs-lookup"><span data-stu-id="0abc7-554">On the **Free text invoice** page, select the invoice that you previously added and posted.</span></span>
3. <span data-ttu-id="0abc7-555">No Painel de Ações, no grupo **Documento**, selecione **Enviar** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-555">On the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="0abc7-556">Como agora você tem duas versões da configuração de formato de ER da **Fatura de Venda Peppol (Litware)** e nenhuma delas tem um valor de [data de vigência](general-electronic-reporting.md#component-date-effectivity), a versão mais recente será usada para gerar uma fatura eletrônica.</span><span class="sxs-lookup"><span data-stu-id="0abc7-556">Because you now have two versions of the **Peppol Sales Invoice (Litware)** ER format configuration, and neither version has an [effective date](general-electronic-reporting.md#component-date-effectivity) value, the latest version is used to generate an e-invoice.</span></span>

4. <span data-ttu-id="0abc7-557">Feche a página **Fatura de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-557">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="0abc7-558">Analisar uma fatura eletrônica gerada</span><span class="sxs-lookup"><span data-stu-id="0abc7-558">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="0abc7-559">Vá para **Administração da organização** \> **Relatório eletrônico** \> **Trabalhos de relatórios eletrônicos**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-559">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="0abc7-560">Na página **Trabalhos de relatórios eletrônicos**, selecione o registro mais recente que contém a descrição da tarefa **Enviar XML da fatura eletrônica**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-560">On the **Electronic reporting jobs** page, select the most recent record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="0abc7-561">Selecione **Mostrar arquivos** para acessar a lista de arquivos gerados.</span><span class="sxs-lookup"><span data-stu-id="0abc7-561">Select **Show files** to access the list of generated files.</span></span>
4. <span data-ttu-id="0abc7-562">Selecione **Abrir** para baixar o arquivo XML da fatura eletrônica gerada.</span><span class="sxs-lookup"><span data-stu-id="0abc7-562">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="0abc7-563">Analise o arquivo XML da fatura eletrônica.</span><span class="sxs-lookup"><span data-stu-id="0abc7-563">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="0abc7-564">Observe que, de acordo com a sua personalização, o esquema de imposto do cliente ainda contém o atributo XML personalizado **FederalTaxID**, além dos atributos XML **schemeID** e **schemeAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="0abc7-564">Notice that, in accordance with your customization, the customer tax schema still contains the custom **FederalTaxID** XML attribute in addition to the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="0abc7-565">Além disso, como as alterações na nova versão do formato base da **Fatura de Venda UBL** foram mescladas com a sua personalização, o texto do elemento XML **cbc:CustomizationID** foi alterado de `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` para `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`.</span><span class="sxs-lookup"><span data-stu-id="0abc7-565">Additionally, because the changes in the new version of the base **UBL Sales invoice** format were merged with your customization, the text of the **cbc:CustomizationID** XML element has been changed from `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` to `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`.</span></span>

    ![Visualização do arquivo XML da fatura eletrônica gerada com as personalizações](./media/er-quick-start3-e-invoice3.png)

## <a name="additional-resources"></a><span data-ttu-id="0abc7-567">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="0abc7-567">Additional resources</span></span>

- [<span data-ttu-id="0abc7-568">Visão geral do Relatório Eletrônico</span><span class="sxs-lookup"><span data-stu-id="0abc7-568">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="0abc7-569">Baixar configurações de ER do Lifecycle Services</span><span class="sxs-lookup"><span data-stu-id="0abc7-569">Download ER configurations from Lifecycle Services</span></span>](download-electronic-reporting-configuration-lcs.md)
- [<span data-ttu-id="0abc7-570">Baixar configurações de ER do repositório global de serviço de configuração</span><span class="sxs-lookup"><span data-stu-id="0abc7-570">Download ER configurations from Global repository of Configuration service</span></span>](er-download-configurations-global-repo.md)
- [<span data-ttu-id="0abc7-571">Criar uma fatura de texto livre</span><span class="sxs-lookup"><span data-stu-id="0abc7-571">Create a free text invoice</span></span>](https://docs.microsoft.com/dynamics365/finance/accounts-receivable/create-free-text-invoice-new)
- [<span data-ttu-id="0abc7-572">Criar e trabalhar com campos personalizados</span><span class="sxs-lookup"><span data-stu-id="0abc7-572">Create and work with custom fields</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/user-defined-fields)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]