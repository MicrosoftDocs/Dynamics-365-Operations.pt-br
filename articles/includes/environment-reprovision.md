<span data-ttu-id="f8a46-101">Ao copiar um banco de dados entre ambientes, você precisará executar a ferramenta de reprovisionamento de ambiente para que o banco de dados copiado fique totalmente funcional, para garantir que todos os componentes do Retail estejam atualizados.</span><span class="sxs-lookup"><span data-stu-id="f8a46-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f8a46-102">Recomendamos que você execute esse procedimento mesmo que não esteja usando vários componentes do Retail, porque a funcionalidade do Retail é incluída em todos os ambientes.</span><span class="sxs-lookup"><span data-stu-id="f8a46-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="f8a46-103">Antes de prosseguir, você deve verificar se os seguintes pré-requisitos são atendidos:</span><span class="sxs-lookup"><span data-stu-id="f8a46-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="f8a46-104">Se você estiver fazendo upgrade para a versão de julho de 2017 (também conhecida como 7.2) 7.2.11792.56024, aplique os hotfixes X++ de aplicativo a seguir no ambiente de destino antes de executar o upgrade de dados no ambiente.</span><span class="sxs-lookup"><span data-stu-id="f8a46-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="f8a46-105">Isso evitará que vários erros ocorram durante o upgrade de dados:</span><span class="sxs-lookup"><span data-stu-id="f8a46-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="f8a46-106">KB 4036156 - upgrade secundário de versão do Retail - "A sequência de números da grade não está definida".</span><span class="sxs-lookup"><span data-stu-id="f8a46-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="f8a46-107">Este pacote de correção também inclui o KB 4035399 e KB 4035751.</span><span class="sxs-lookup"><span data-stu-id="f8a46-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="f8a46-108">Você deve possuir, pelo menos, o Platform Update 9 para usar este pacote.</span><span class="sxs-lookup"><span data-stu-id="f8a46-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="f8a46-109">Se você não tem certeza, instale os binários mais recentes.</span><span class="sxs-lookup"><span data-stu-id="f8a46-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="f8a46-110">Se você estiver atualizando do Microsoft Dynamics AX 2012, instale estas correções X++ de aplicativo no ambiente de destino antes de executar o upgrade de dados:</span><span class="sxs-lookup"><span data-stu-id="f8a46-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="f8a46-111">KB 4033183 - O upgrade não varejo do Dynamics AX 2012 R2 ou Dynamics AX 2012 R3 Pre-CU8 falha e exibe a mensagem "Objeto não encontrado para dbo.RETAILTILLLAYOUTZONE.</span><span class="sxs-lookup"><span data-stu-id="f8a46-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="f8a46-112">KB 4040692 - O upgrade do Dynamics AX 2012 R3 para o Microsoft Dynamics 365 for Operations 7.2 falha no índice duplicado RetailSalesLine no SalesLineIdx.</span><span class="sxs-lookup"><span data-stu-id="f8a46-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="f8a46-113">KB 4035490 - Problema de desempenho com o script de upgrade do campo GeneralJournalAccountEntry MainAccount.</span><span class="sxs-lookup"><span data-stu-id="f8a46-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="f8a46-114">Siga estas etapas para executar a ferramenta de reprovisionamento de ambiente.</span><span class="sxs-lookup"><span data-stu-id="f8a46-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="f8a46-115">Na biblioteca de ativos compartilhados, selecione **Pacote de software implantável**.</span><span class="sxs-lookup"><span data-stu-id="f8a46-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="f8a46-116">Baixe a ferramenta de reprovisionamento de ambiente.</span><span class="sxs-lookup"><span data-stu-id="f8a46-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="f8a46-117">Na biblioteca de ativos do seu projeto, selecione **Pacote de software implantável**.</span><span class="sxs-lookup"><span data-stu-id="f8a46-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="f8a46-118">Selecione **Novo** para criar um novo pacote.</span><span class="sxs-lookup"><span data-stu-id="f8a46-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="f8a46-119">Digite um nome e uma descrição para o pacote.</span><span class="sxs-lookup"><span data-stu-id="f8a46-119">Enter a name and description for the package.</span></span> <span data-ttu-id="f8a46-120">Você pode usar **Ferramenta de reprovisionamento de ambiente** como o nome do pacote.</span><span class="sxs-lookup"><span data-stu-id="f8a46-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="f8a46-121">Carregue o pacote baixado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f8a46-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="f8a46-122">Na página **Detalhes de ambiente** do ambiente de destino, selecione **Manter** > **Aplicar atualizações**.</span><span class="sxs-lookup"><span data-stu-id="f8a46-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="f8a46-123">Selecione a ferramenta de reprovisionamento de ambiente carregada anteriormente e selecione **Aplicar** para aplicar o pacote.</span><span class="sxs-lookup"><span data-stu-id="f8a46-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="f8a46-124">Monitore o progresso da implantação do pacote.</span><span class="sxs-lookup"><span data-stu-id="f8a46-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="f8a46-125">Para obter mais informações sobre como aplicar um pacote implantável, consulte [Aplicar um pacote implantável](../deployment/create-apply-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="f8a46-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="f8a46-126">Para obter mais informações sobre como aplicar um pacote implantável manualmente, consulte [Instalar um pacote implantável](../deployment/install-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="f8a46-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
