---
title: Configurar um locatário B2C do Commerce
description: Este tópico descreve como configurar os locatários business-to-consumer (B2C) do Azure Active Directory (Azure AD) para a autenticação do site de usuário no Dynamics 365 Commerce.
author: BrianShook
ms.date: 03/17/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: brshoo
ms.search.validFrom: 2020-02-13
ms.dyn365.ops.version: ''
ms.openlocfilehash: 84b3a3630d3809c05f87242784207c3c4af160ce
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/11/2021
ms.locfileid: "6018571"
---
# <a name="set-up-a-b2c-tenant-in-commerce"></a><span data-ttu-id="a19ae-103">Configurar um locatário B2C do Commerce</span><span class="sxs-lookup"><span data-stu-id="a19ae-103">Set up a B2C tenant in Commerce</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="a19ae-104">Este tópico descreve como configurar os locatários business-to-consumer (B2C) do Azure Active Directory (Azure AD) para a autenticação do site de usuário no Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-104">This topic describes how to set up your Azure Active Directory (Azure AD) business-to-consumer (B2C) tenants for user site authentication in Dynamics 365 Commerce.</span></span>

<span data-ttu-id="a19ae-105">O Dynamics 365 Commerce usa o B2C do Azure AD para oferecer suporte aos fluxos de credenciais e autenticação de usuário.</span><span class="sxs-lookup"><span data-stu-id="a19ae-105">Dynamics 365 Commerce uses Azure AD B2C to support user credential and authentication flows.</span></span> <span data-ttu-id="a19ae-106">Um usuário pode se inscrever, acessar e redefinir a senha por meio desses fluxos.</span><span class="sxs-lookup"><span data-stu-id="a19ae-106">A user can sign up, sign in, and reset their password through these flows.</span></span> <span data-ttu-id="a19ae-107">O B2C do Azure AD armazena informações confidenciais de autenticação do usuário, como nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="a19ae-107">Azure AD B2C stores sensitive user authentication information, such as username and password.</span></span> <span data-ttu-id="a19ae-108">O registro de usuário no locatário B2C armazenará um registro de conta local B2C ou um registro de provedor de identidade social B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-108">The user record in the B2C tenant will store either a B2C local account record or a B2C social identity provider record.</span></span> <span data-ttu-id="a19ae-109">Esses registros de B2C serão vinculados ao registro do cliente no ambiente do Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-109">These B2C records will link back to the customer record in the Commerce environment.</span></span>

> [!WARNING] 
> <span data-ttu-id="a19ae-110">O Azure AD B2C removerá os fluxos de usuário antigos (herdados) em 1º de agosto de 2021.</span><span class="sxs-lookup"><span data-stu-id="a19ae-110">Azure AD B2C will retire old (legacy) user flows by August 1, 2021.</span></span> <span data-ttu-id="a19ae-111">Portanto, você deve planejar a migração dos fluxos de usuário para a nova versão recomendada.</span><span class="sxs-lookup"><span data-stu-id="a19ae-111">Therefore, you should plan to migrate your user flows to the new recommended version.</span></span> <span data-ttu-id="a19ae-112">A nova versão oferece paridade de recursos e novos recursos.</span><span class="sxs-lookup"><span data-stu-id="a19ae-112">The new version provides feature parity and new features.</span></span> <span data-ttu-id="a19ae-113">A biblioteca de módulos do Commerce versão 10.0.15 ou superior deve ser usada com os fluxos de usuário de B2C recomendados.</span><span class="sxs-lookup"><span data-stu-id="a19ae-113">The module library for Commerce version 10.0.15 or higher should be used with the recommended B2C user flows.</span></span> <span data-ttu-id="a19ae-114">Para obter mais informações, consulte [Fluxos de usuário no Azure Active Directory B2C](/azure/active-directory-b2c/user-flow-overview).</span><span class="sxs-lookup"><span data-stu-id="a19ae-114">For more information, see [User flows in Azure Active Directory B2C](/azure/active-directory-b2c/user-flow-overview).</span></span>
 
 > [!NOTE]
 > <span data-ttu-id="a19ae-115">Os ambientes de avaliação do Commerce vêm com um locatário do Azure AD B2C pré-carregado para fins de demonstração.</span><span class="sxs-lookup"><span data-stu-id="a19ae-115">Commerce evaluation environments come with a pre-loaded Azure AD B2C tenant for demonstration purposes.</span></span> <span data-ttu-id="a19ae-116">Carregar seu próprio locatário do Azure AD B2C usando as etapas abaixo não será necessário para ambientes de avaliação.</span><span class="sxs-lookup"><span data-stu-id="a19ae-116">Loading your own Azure AD B2C tenant using the steps below is not required for evaluation environments.</span></span>

## <a name="create-or-link-to-an-existing-aad-b2c-tenant-in-the-azure-portal"></a><span data-ttu-id="a19ae-117">Criar ou vincular a um locatário B2C do AAD no portal do Azure</span><span class="sxs-lookup"><span data-stu-id="a19ae-117">Create or link to an existing AAD B2C tenant in the Azure portal</span></span>

1. <span data-ttu-id="a19ae-118">Entre no [portal do Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="a19ae-118">Sign in to the [Azure portal](https://portal.azure.com/).</span></span>
1. <span data-ttu-id="a19ae-119">No menu do portal do Azure, selecione **Criar um recurso**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-119">From the Azure portal menu, select **Create a resource**.</span></span> <span data-ttu-id="a19ae-120">Certifique-se de usar a assinatura e o diretório que será conectado ao ambiente do Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-120">Be sure to use the subscription and directory that will be connected with your Commerce environment.</span></span>

    ![Criar um Recurso no Portal do Azure](./media/B2CImage_1.png)

1. <span data-ttu-id="a19ae-122">Vá para **Identidade \> B2C do Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-122">Go to **Identity \> Azure Active Directory B2C**.</span></span>
1. <span data-ttu-id="a19ae-123">Na página **Criar Locatário B2C ou Vincular a um Locatário existente**, use uma das opções abaixo que melhor atende às necessidades da sua empresa:</span><span class="sxs-lookup"><span data-stu-id="a19ae-123">Once on the **Create New B2C Tenant or Link to existing Tenant** page, use one of the options below that best suits your company's needs:</span></span>

    - <span data-ttu-id="a19ae-124">**Criar Locatário B2C do Azure AD**: Use esta opção para criar um locatário B2C do AAD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-124">**Create a new Azure AD B2C Tenant**: Use this option to create a new AAD B2C tenant.</span></span>
        1. <span data-ttu-id="a19ae-125">Selecione **Criar Locatário B2C do Azure AD**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-125">Select **Create a new Azure AD B2C Tenant**.</span></span>
        1. <span data-ttu-id="a19ae-126">Em **Nome da organização**, insira o nome da organização.</span><span class="sxs-lookup"><span data-stu-id="a19ae-126">Under **Organization name**, enter the organization name.</span></span>
        1. <span data-ttu-id="a19ae-127">Em **Nome do domínio inicial**, insira o nome do domínio inicial.</span><span class="sxs-lookup"><span data-stu-id="a19ae-127">Under **Initial domain name**, enter the initial domain name.</span></span>
        1. <span data-ttu-id="a19ae-128">Em **País ou região**, selecione o país ou a região.</span><span class="sxs-lookup"><span data-stu-id="a19ae-128">For **Country or region**, select the country or region.</span></span>
        1. <span data-ttu-id="a19ae-129">Selecione **Criar** para criar o locatário.</span><span class="sxs-lookup"><span data-stu-id="a19ae-129">Select **Create** to create the tenant.</span></span>

     ![Criar um Locatário do Azure AD](./media/B2CImage_2.png)

     - <span data-ttu-id="a19ae-131">**Vincular um Locatário B2C do Azure AD à minha assinatura do Azure**: Use esta opção se já tiver um locatário B2C do Azure AD ao qual deseja vincular.</span><span class="sxs-lookup"><span data-stu-id="a19ae-131">**Link an existing Azure AD B2C Tenant to my Azure subscription**: Use this option if you already have an Azure AD B2C tenant you want to link to.</span></span>
        1. <span data-ttu-id="a19ae-132">Selecione **Vincular um Locatário B2C do Azure AD existente à minha assinatura do Azure**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-132">Select **Link an existing Azure AD B2C Tenant to my Azure subscription**.</span></span>
        1. <span data-ttu-id="a19ae-133">Em **Locatário B2C do Azure AD**, selecione o locatário B2C apropriado.</span><span class="sxs-lookup"><span data-stu-id="a19ae-133">For **Azure AD B2C Tenant**, select the appropriate B2C tenant.</span></span> <span data-ttu-id="a19ae-134">Se a mensagem "Nenhum locatário B2C elegível encontrado" aparecer na caixa de seleção, você não tem um locatário B2C elegível existente e precisará criar um.</span><span class="sxs-lookup"><span data-stu-id="a19ae-134">If the message "No eligible B2C Tenants found" appears in the selection box, you do not have an existing eligible B2C tenant and will need to create a new one.</span></span>
        1. <span data-ttu-id="a19ae-135">Em **Grupo de recursos**, selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-135">For **Resource group**, select **Create new**.</span></span> <span data-ttu-id="a19ae-136">Insira um **Nome** para o grupo de recursos que conterá o locatário, selecione **Local o grupo de recursos** e selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-136">Enter a **Name** for the resource group that will contain the tenant, select the **Resource group location**, and then select **Create**.</span></span>

    ![Vincule um Locatário B2C do Azure AD existente à Assinatura do Azure](./media/B2CImage_3.png)

1. <span data-ttu-id="a19ae-138">Após criar diretório B2C do Azure AD (pode demorar alguns instantes), será exibido um link para o novo diretório no painel.</span><span class="sxs-lookup"><span data-stu-id="a19ae-138">Once the new Azure AD B2C directory is created (this may take a few moments), a link to the new directory will appear on the dashboard.</span></span> <span data-ttu-id="a19ae-139">Este link direcionará você para a página "Bem-vinco ao B2C do Azure Active Directory".</span><span class="sxs-lookup"><span data-stu-id="a19ae-139">This link will direct you to the "Welcome to Azure Active Directory B2C" page.</span></span>

    ![Link para o novo Diretório do AAD](./media/B2CImage_4.png)

> [!NOTE]
> <span data-ttu-id="a19ae-141">Se você tiver várias assinaturas na conta do Azure ou tiver configurado o locatário B2C sem vincular a uma assinatura ativa, um banner de **Solução de problemas** orientará você a vincular o locatário a uma assinatura.</span><span class="sxs-lookup"><span data-stu-id="a19ae-141">If you have multiple subscriptions within your Azure account or have set up the B2C tenant without linking to an active subscription, a **Troubleshoot** banner will direct you to link the tenant to a subscription.</span></span> <span data-ttu-id="a19ae-142">Selecione a mensagem de solução de problemas e siga as instruções para resolver o problema da assinatura.</span><span class="sxs-lookup"><span data-stu-id="a19ae-142">Select the troubleshooting message and follow the instructions to resolve the subscription issue.</span></span>

<span data-ttu-id="a19ae-143">A imagem a seguir mostra um exemplo de um banner de **Solução de problemas** do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-143">The following image shows an example of an Azure AD B2C **Troubleshoot** banner.</span></span>

![Aviso mostrando que o diretório não tem uma Assinatura Ativa](./media/B2CImage_5.png)

## <a name="create-the-b2c-application"></a><span data-ttu-id="a19ae-145">Criar o aplicativo B2C</span><span class="sxs-lookup"><span data-stu-id="a19ae-145">Create the B2C application</span></span>

<span data-ttu-id="a19ae-146">Depois que o locatário B2C tiver sido criado, você criará um aplicativo B2C dentro do novo locatário do Azure AD B2C para interagir com o Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-146">Once the B2C tenant has been created, you will create a B2C application within your new Azure AD B2C tenant to interact with Commerce.</span></span>

<span data-ttu-id="a19ae-147">Para criar o aplicativo B2C, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-147">To create the B2C application, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-148">No portal do Azure, selecione **Registros de aplicativo** e, em seguida, selecione **Novo registro**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-148">In the Azure portal, select **App registrations**, and then select **New registration**.</span></span>
1. <span data-ttu-id="a19ae-149">Em **Nome**, insira o nome a ser dado a este aplicativo do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-149">Under **Name**, enter the name to give this Azure AD B2C application.</span></span>
1. <span data-ttu-id="a19ae-150">Em **Tipos de conta com suporte**, selecione **Contas em qualquer provedor de identidade ou diretório organizacional (para autenticar usuários com fluxos de usuário)**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-150">Under **Supported account types**, select **Accounts in any identity provider or organizational directory (for authenticating users with user flows)**.</span></span>
1. <span data-ttu-id="a19ae-151">Para **URI de Redirecionamento**, insira suas URLs de resposta dedicadas como o tipo **Web**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-151">For **Redirect URI**, enter your dedicated reply URLs as type **Web**.</span></span> <span data-ttu-id="a19ae-152">Para obter informações sobre URLs de resposta e como formatá-las, consulte [URLs de resposta](#reply-urls) abaixo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-152">For information on reply URLs and how to format them, see [Reply URLs](#reply-urls) below.</span></span>
1. <span data-ttu-id="a19ae-153">Para **Permissões**, selecione **Conceder consentimento do administrador para permissões OpenID e offline_access**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-153">For **Permissions**, select **Grant admin consent to openid and offline_access permissions**.</span></span>
1. <span data-ttu-id="a19ae-154">Selecione **Registrar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-154">Select **Register**.</span></span>
1. <span data-ttu-id="a19ae-155">Selecione o aplicativo recém-criado e navegue até o menu **Autenticação**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-155">Select the newly-created application and navigate to the **Authentication** menu.</span></span> <span data-ttu-id="a19ae-156">Aqui, é possível inserir **URIs de redirecionamento** adicionais, se necessário (agora ou posteriormente).</span><span class="sxs-lookup"><span data-stu-id="a19ae-156">Here you can add additional **Redirect URIs** if needed (now or later).</span></span> <span data-ttu-id="a19ae-157">Prossiga para a próxima etapa se isso não for necessário no momento.</span><span class="sxs-lookup"><span data-stu-id="a19ae-157">Continue to the next step if not currently needed.</span></span>
1. <span data-ttu-id="a19ae-158">Em **Concessão implícita**, selecione **Tokens de acesso** e **Tokens de ID** para habilitá-los para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-158">Under **Implicit grant**, select both **Access tokens** and **ID tokens** to enable them for the application.</span></span> <span data-ttu-id="a19ae-159">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-159">Select **Save**.</span></span>
1. <span data-ttu-id="a19ae-160">Vá para o menu **Visão geral** do portal do Azure e copie a **ID do aplicativo (cliente)**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-160">Go to the **Overview** menu of the Azure portal and copy the **Application (client) ID**.</span></span> <span data-ttu-id="a19ae-161">Anote essa ID para as etapas de configuração posteriores (mencionadas posteriormente como a **GUID do Cliente**).</span><span class="sxs-lookup"><span data-stu-id="a19ae-161">Note this ID for later setup steps (referenced later as the **Client GUID**).</span></span>

<span data-ttu-id="a19ae-162">Para obter referência adicional sobre os Registros de Aplicativo no Azure AD B2C, consulte [A nova experiência de Registros de aplicativos para o Azure Active Directory B2C](/azure/active-directory-b2c/app-registrations-training-guide)</span><span class="sxs-lookup"><span data-stu-id="a19ae-162">For additional reference on App Registrations in Azure AD B2C, please see [The new App registrations experience for Azure Active Directory B2C](/azure/active-directory-b2c/app-registrations-training-guide)</span></span>

### <a name="reply-urls"></a><span data-ttu-id="a19ae-163">URLs de resposta</span><span class="sxs-lookup"><span data-stu-id="a19ae-163">Reply URLs</span></span>

<span data-ttu-id="a19ae-164">As URLs de resposta são importantes, pois permitem uma lista de domínios de retorno quando o seu site chamar o B2C do Azure AD para autenticar um usuário.</span><span class="sxs-lookup"><span data-stu-id="a19ae-164">Reply URLs are important as they provide an allow list of the return domains when your site calls Azure AD B2C to authenticate a user.</span></span> <span data-ttu-id="a19ae-165">Isto permite o retorno do usuário autenticado para o domínio a partir do qual estão tentando fazer o logon (domínio do seu site).</span><span class="sxs-lookup"><span data-stu-id="a19ae-165">This permits the return of the authenticated user back to the domain from which they are signing into (your site domain).</span></span> 

<span data-ttu-id="a19ae-166">Na caixa **URL de resposta** na tela **B2C do Azure AD – Aplicativos \> Novo aplicativo**, será necessário adicionar linhas separadas ao domínio do site e (após o ambiente ser provisionado) à URL gerada pelo Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-166">In the **Reply URL** box on the **Azure AD B2c - Applications \> New application** screen, you need to add separate lines for both your site domain and (once your environment is provisioned) the Commerce-generated URL.</span></span> <span data-ttu-id="a19ae-167">Essas URLs devem sempre usar um formato de URL válido e devem ser somente URLs base (sem barras ou caminhos à direita).</span><span class="sxs-lookup"><span data-stu-id="a19ae-167">These URLs must always use a valid URL format and must be base URLs only (no trailing forward slashes or paths).</span></span> <span data-ttu-id="a19ae-168">A string ``/_msdyn365/authresp`` precisará ser inserida às URLs base, como nos seguintes exemplos.</span><span class="sxs-lookup"><span data-stu-id="a19ae-168">The string ``/_msdyn365/authresp`` then needs to be appended to the base URLs, as in the following examples.</span></span>

- <span data-ttu-id="a19ae-169">``https://www.fabrikam.com/_msdyn365/authresp`` (O domínio deve corresponder completamente ao domínio de comércio eletrônico.</span><span class="sxs-lookup"><span data-stu-id="a19ae-169">``https://www.fabrikam.com/_msdyn365/authresp`` (The domain should match the e-commerce domain completely.</span></span> <span data-ttu-id="a19ae-170">Se você tiver vários domínios, precisará adicionar esta URL para cada um deles.)</span><span class="sxs-lookup"><span data-stu-id="a19ae-170">If you have multiple domains, you need to add this URL for each domain.)</span></span>
- ``https://fabrikam-prod.commerce.dynamics.com/_msdyn365/authresp``

## <a name="create-user-flow-policies"></a><span data-ttu-id="a19ae-171">Criar políticas de fluxo de usuário</span><span class="sxs-lookup"><span data-stu-id="a19ae-171">Create user flow policies</span></span>

<span data-ttu-id="a19ae-172">Os fluxos de usuário são as políticas que o B2C do Azure AD usa para fornecer experiências seguras de logon, inscrição, edição de perfil e esquecer senha.</span><span class="sxs-lookup"><span data-stu-id="a19ae-172">User flows are the policies Azure AD B2C uses to provide secure sign in, sign up, edit profile, and forget password user experiences.</span></span> <span data-ttu-id="a19ae-173">O Dynamics 365 Commerce usa esses fluxos para realizar ações de políticas para interagir com o locatário B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-173">Dynamics 365 Commerce uses these flows to perform the policy actions to interact with the Azure AD B2C tenant.</span></span> <span data-ttu-id="a19ae-174">Quando um usuário interage com essas políticas, ele é redirecionado para o locatário do B2C do Azure AD para realizar as ações.</span><span class="sxs-lookup"><span data-stu-id="a19ae-174">When a user interacts with these policies, they are redirected to the Azure AD B2C tenant to perform the actions.</span></span>

<span data-ttu-id="a19ae-175">O B2C do Azure AD fornece três tipos de fluxo de usuário básicos:</span><span class="sxs-lookup"><span data-stu-id="a19ae-175">Azure AD B2C provides three basic user flow types:</span></span>
- <span data-ttu-id="a19ae-176">Inscrever-se e fazer logon</span><span class="sxs-lookup"><span data-stu-id="a19ae-176">Sign up and sign in</span></span>
- <span data-ttu-id="a19ae-177">Edição de perfil</span><span class="sxs-lookup"><span data-stu-id="a19ae-177">Profile editing</span></span>
- <span data-ttu-id="a19ae-178">Senha redefinida</span><span class="sxs-lookup"><span data-stu-id="a19ae-178">Password reset</span></span>

<span data-ttu-id="a19ae-179">Você pode optar por usar os fluxos de usuário padrão fornecidos pelo Azure AD, que exibirão uma página hospedada pelo B2C do AAD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-179">You can choose to use the default user flows provided by Azure AD, which will display a page hosted by AAD B2C.</span></span> <span data-ttu-id="a19ae-180">Como alternativa, é possível criar uma página HTML para controlar a aparência e a experiência desses fluxos de usuário.</span><span class="sxs-lookup"><span data-stu-id="a19ae-180">Alternately, you can create an HTML page to control the look and feel of these user flow experiences.</span></span> 

<span data-ttu-id="a19ae-181">Para personalizar as páginas de política de usuário com as páginas criadas no Dynamics 365 Commerce, consulte [Configurar páginas personalizadas para logons de usuário](custom-pages-user-logins.md).</span><span class="sxs-lookup"><span data-stu-id="a19ae-181">To customize the user policy pages with pages built in Dynamics 365 Commerce, see [Set up custom pages for user logins](custom-pages-user-logins.md).</span></span> <span data-ttu-id="a19ae-182">Para obter informações adicionais, consulte [Personalizar a interface de experiências de usuário no B2C do Azure Active Directory](/azure/active-directory-b2c/tutorial-customize-ui).</span><span class="sxs-lookup"><span data-stu-id="a19ae-182">For additional information, see [Customize the interface of user experiences in Azure Active Directory B2C](/azure/active-directory-b2c/tutorial-customize-ui).</span></span>

### <a name="create-a-sign-up-and-sign-in-user-flow-policy"></a><span data-ttu-id="a19ae-183">Criar uma política fluxo de usuário de inscrição e logon</span><span class="sxs-lookup"><span data-stu-id="a19ae-183">Create a sign up and sign in user flow policy</span></span>

<span data-ttu-id="a19ae-184">Para criar uma política de fluxo de usuário de inscrição e logon, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-184">To create a sign up and sign in user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-185">No portal do Azure, selecione **Fluxos de usuário (políticas)** no painel de navegação esquerdo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-185">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="a19ae-186">Na página do **B2C do Azure AD – Fluxos de usuário (políticas)**, selecione **Novo Fluxo de Usuário**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-186">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="a19ae-187">Selecione a política **Inscrever-se e entrar** e, sem seguida, selecione a versão **Recomendada**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-187">Select the **Sign up and sign in** policy, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="a19ae-188">Em **Nome**, insira um nome da política.</span><span class="sxs-lookup"><span data-stu-id="a19ae-188">Under **Name**, enter a policy name.</span></span> <span data-ttu-id="a19ae-189">Esse nome será exibido após um prefixo atribuído pelo portal (por exemplo, "B2C_1_").</span><span class="sxs-lookup"><span data-stu-id="a19ae-189">This name will display afterwards with a prefix the portal assigns (for example, "B2C_1_").</span></span>
1. <span data-ttu-id="a19ae-190">Em **Provedores de identidade**, marque a caixa de seleção apropriada.</span><span class="sxs-lookup"><span data-stu-id="a19ae-190">Under **Identity providers**, select the appropriate check box.</span></span>
1. <span data-ttu-id="a19ae-191">Em **Autenticação Multifator**, selecione a escolha apropriada para a sua empresa.</span><span class="sxs-lookup"><span data-stu-id="a19ae-191">Under **Multifactor Authentication**, select the appropriate choice for your company.</span></span> 
1. <span data-ttu-id="a19ae-192">Em **Atributos e declarações de usuário**, selecione as opções para coletar atributos ou retornar reivindicações, conforme apropriado.</span><span class="sxs-lookup"><span data-stu-id="a19ae-192">Under **User attributes and claims**, select options to collect attributes or return claims as appropriate.</span></span> <span data-ttu-id="a19ae-193">O Commerce requer as seguintes opções padrão:</span><span class="sxs-lookup"><span data-stu-id="a19ae-193">Commerce requires the following default options:</span></span>

    | <span data-ttu-id="a19ae-194">**Coletar atributo**</span><span class="sxs-lookup"><span data-stu-id="a19ae-194">**Collect  attribute**</span></span> | <span data-ttu-id="a19ae-195">**Retornar reivindicação**</span><span class="sxs-lookup"><span data-stu-id="a19ae-195">**Return  claim**</span></span> |
    | ---------------------- | ----------------- |
    | <span data-ttu-id="a19ae-196">Endereço de Email</span><span class="sxs-lookup"><span data-stu-id="a19ae-196">Email Address</span></span>          | <span data-ttu-id="a19ae-197">Endereços de Email</span><span class="sxs-lookup"><span data-stu-id="a19ae-197">Email Addresses</span></span>   |
    | <span data-ttu-id="a19ae-198">Nome Fornecido</span><span class="sxs-lookup"><span data-stu-id="a19ae-198">Given Name</span></span>             | <span data-ttu-id="a19ae-199">Nome Fornecido</span><span class="sxs-lookup"><span data-stu-id="a19ae-199">Given Name</span></span>        |
    |                        | <span data-ttu-id="a19ae-200">Provedor de Identidade</span><span class="sxs-lookup"><span data-stu-id="a19ae-200">Identity Provider</span></span> |
    | <span data-ttu-id="a19ae-201">Sobrenome</span><span class="sxs-lookup"><span data-stu-id="a19ae-201">Surname</span></span>                | <span data-ttu-id="a19ae-202">Sobrenome</span><span class="sxs-lookup"><span data-stu-id="a19ae-202">Surname</span></span>           |
    |                        | <span data-ttu-id="a19ae-203">ID do Objeto do Usuário</span><span class="sxs-lookup"><span data-stu-id="a19ae-203">User’s Object ID</span></span>  |

1. <span data-ttu-id="a19ae-204">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-204">Select **Create**.</span></span>

<span data-ttu-id="a19ae-205">A imagem a seguir é um exemplo do fluxo de usuário de inscrição e logon do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-205">The following image is an example of the Azure AD B2C sign up and sign in user flow.</span></span>

![Configurações da política de Inscrição e Logon](./media/B2CImage_11.png)

<span data-ttu-id="a19ae-207">A imagem a seguir mostra a opção **Executar fluxo de usuário** no fluxo de usuário de inscrição e logon do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-207">The following image shows the **Run user flow** option in the Azure AD B2C sign up and sign in user flow.</span></span>

![Executar a opção do fluxo de usuário no fluxo da política](./media/B2CImage_23.png)
   
### <a name="create-a-profile-editing-user-flow-policy"></a><span data-ttu-id="a19ae-209">Criar uma política de fluxo de usuário de edição de perfil</span><span class="sxs-lookup"><span data-stu-id="a19ae-209">Create a profile editing user flow policy</span></span>

<span data-ttu-id="a19ae-210">Para criar uma política de fluxo de usuário de edição de perfil, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-210">To create a profile editing user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-211">No portal do Azure, selecione **Fluxos de usuário (políticas)** no painel de navegação esquerdo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-211">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="a19ae-212">Na página do **B2C do Azure AD – Fluxos de usuário (políticas)**, selecione **Novo Fluxo de Usuário**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-212">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="a19ae-213">Selecione **Edição de perfil** e selecione a versão **Recomendada**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-213">Select **Profile editing**, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="a19ae-214">Em **Nome**, insira o fluxo de usuário de edição de perfil.</span><span class="sxs-lookup"><span data-stu-id="a19ae-214">Under **Name**, enter the profile editing user flow.</span></span> <span data-ttu-id="a19ae-215">Esse nome será exibido após um prefixo atribuído pelo portal (por exemplo, "B2C_1_").</span><span class="sxs-lookup"><span data-stu-id="a19ae-215">This name will display afterwards with a prefix the portal assigns (for example, "B2C_1_").</span></span>
1. <span data-ttu-id="a19ae-216">Em **Provedores de identidade**, selecione **Entrada no Email**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-216">Under **Identity providers**, select **Email SignIn**.</span></span>
1. <span data-ttu-id="a19ae-217">Em **Atributos do usuário**, marque as seguintes caixas de seleção:</span><span class="sxs-lookup"><span data-stu-id="a19ae-217">Under **User attributes**, select the following check boxes:</span></span>
    - <span data-ttu-id="a19ae-218">**Endereços de Email** (somente **Retornar reivindicação**)</span><span class="sxs-lookup"><span data-stu-id="a19ae-218">**Email Addresses** (**Return claim** only)</span></span>
    - <span data-ttu-id="a19ae-219">**Nome Fornecido** (**Coletar atributo** e **Retornar reivindicação**)</span><span class="sxs-lookup"><span data-stu-id="a19ae-219">**Given Name** (**Collect attribute** and **Return claim**)</span></span>
    - <span data-ttu-id="a19ae-220">**Provedor de Identidade** (somente **Retornar reivindicação**)</span><span class="sxs-lookup"><span data-stu-id="a19ae-220">**Identity Provider** (**Return claim** only)</span></span>
    - <span data-ttu-id="a19ae-221">**Sobrenome** (**Coletar atributo** e **Retornar reivindicação**)</span><span class="sxs-lookup"><span data-stu-id="a19ae-221">**Surname** (**Collect attribute** and **Return claim**)</span></span>
    - <span data-ttu-id="a19ae-222">**ID de Objeto do Usuário** (somente **Retornar reivindicação**)</span><span class="sxs-lookup"><span data-stu-id="a19ae-222">**User's Object ID** (**Return claim** only)</span></span>
1. <span data-ttu-id="a19ae-223">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-223">Select **Create**.</span></span>

<span data-ttu-id="a19ae-224">A imagem a seguir mostra um exemplo do fluxo de usuário de edição do perfil do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-224">The following image shows an example of the Azure AD B2C profile editing user flow.</span></span>

![Criar o fluxo de usuário de Edição de Perfil](./media/B2CImage_12.png)

### <a name="create-a-password-reset-user-flow-policy"></a><span data-ttu-id="a19ae-226">Criar uma política de fluxo de usuário de redefinição de senha</span><span class="sxs-lookup"><span data-stu-id="a19ae-226">Create a password reset user flow policy</span></span>

<span data-ttu-id="a19ae-227">Para criar uma política de fluxo de usuário de redefinição de senha, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-227">To create a password reset user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-228">No portal do Azure, selecione **Fluxos de usuário (políticas)** no painel de navegação esquerdo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-228">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="a19ae-229">Na página do **B2C do Azure AD – Fluxos de usuário (políticas)**, selecione **Novo Fluxo de Usuário**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-229">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="a19ae-230">Selecione **Redefinição de Senha** e selecione a versão **Recomendada**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-230">Select **Password Reset**, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="a19ae-231">Em **Nome**, insira um nome para o fluxo de usuário de redefinição de senha.</span><span class="sxs-lookup"><span data-stu-id="a19ae-231">Under **Name**, enter a name for the password reset user flow.</span></span>
1. <span data-ttu-id="a19ae-232">Em **Provedores de identidade**, selecione **Redefinir senha usando endereço de email**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-232">Under **Identity providers**, select **Reset password using email address**.</span></span>
1. <span data-ttu-id="a19ae-233">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-233">Select **Create**.</span></span>
1. <span data-ttu-id="a19ae-234">Em **Declarações do aplicativo**, marque as seguintes caixas de seleção:</span><span class="sxs-lookup"><span data-stu-id="a19ae-234">Under **Application claims**, select the following check boxes:</span></span>
    - <span data-ttu-id="a19ae-235">**Endereços de email**</span><span class="sxs-lookup"><span data-stu-id="a19ae-235">**Email addresses**</span></span>
    - <span data-ttu-id="a19ae-236">**Nome Fornecido**</span><span class="sxs-lookup"><span data-stu-id="a19ae-236">**Given Name**</span></span>
    - <span data-ttu-id="a19ae-237">**Sobrenome**</span><span class="sxs-lookup"><span data-stu-id="a19ae-237">**Surname**</span></span>
    - <span data-ttu-id="a19ae-238">**ID do Objeto do Usuário**</span><span class="sxs-lookup"><span data-stu-id="a19ae-238">**User's Object ID**</span></span>
1. <span data-ttu-id="a19ae-239">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-239">Select **Create**.</span></span>

<span data-ttu-id="a19ae-240">A imagem a seguir mostra onde definir **Redefinir Senha usando endereço de email** no fluxo de usuário de redefinição de senha do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-240">The following image shows where to set **Reset Password using mail address** in the Azure AD B2C password reset user flow.</span></span>

![Configure "Redefinir Senha usando endereço de email" na política de Redefinição de Senha](./media/B2CImage_13.png)

## <a name="add-social-identity-providers-optional"></a><span data-ttu-id="a19ae-242">Adicionar provedores de identidade social (Opcional)</span><span class="sxs-lookup"><span data-stu-id="a19ae-242">Add social identity providers (Optional)</span></span>

<span data-ttu-id="a19ae-243">Os provedores de identidade social permitem que os usuários usem suas contas sociais para autenticação.</span><span class="sxs-lookup"><span data-stu-id="a19ae-243">Social identity providers allow users to use their social accounts for authentication.</span></span> <span data-ttu-id="a19ae-244">Incluir a autenticação de provedor de identidade social é opcional no Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-244">Adding social identity provider authentication is optional in Dynamics 365 Commerce.</span></span> 

<span data-ttu-id="a19ae-245">Se a autenticação de provedor de identidade social não for adicionada, os perfis padrão do B2C do Azure AD serão os perfis principais da sua base de usuários.</span><span class="sxs-lookup"><span data-stu-id="a19ae-245">If social identity provider authentication is not added, the default Azure AD B2C profiles will be the main profiles for your user base.</span></span> <span data-ttu-id="a19ae-246">Os usuários selecionarão o próprio nome de usuário (endereço de email preferencial) e definirão uma senha.</span><span class="sxs-lookup"><span data-stu-id="a19ae-246">Users will select their own username (their preferred email address) and set a password.</span></span> <span data-ttu-id="a19ae-247">O B2C do Azure AD autenticará os usuários diretamente.</span><span class="sxs-lookup"><span data-stu-id="a19ae-247">Azure AD B2C will authenticate users directly.</span></span> 

<span data-ttu-id="a19ae-248">Se a autenticação do provedor de identidade social for adicionada e um usuário escolher um dos provedores de identidade social fornecidos, uma entidade ainda será criada no locatário B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-248">If social identity provider authentication is added and a user chooses one of the social identity providers offered, an entity is still created in the Azure AD B2C tenant.</span></span> <span data-ttu-id="a19ae-249">O B2C do Azure AD autenticará as credenciais do usuário com o provedor de identidade social.</span><span class="sxs-lookup"><span data-stu-id="a19ae-249">Azure AD B2C will then authenticate the user's credentials with the social identity provider.</span></span>

> [!NOTE]
> <span data-ttu-id="a19ae-250">O logon do provedor de identidade cria um registro no locatário do B2C, mas em um formato diferente das contas locais, pois chamará a referência externa do provedor de identidade social para a autenticação.</span><span class="sxs-lookup"><span data-stu-id="a19ae-250">The identity provider sign in creates a record in the B2C tenant, but in a different format than local accounts since it will call the external social identity provider reference for authentication.</span></span> <span data-ttu-id="a19ae-251">O usuário pode usar o mesmo endereço de email em todos os provedores de identidade social, indicando que o nome de usuário do email usado para a autenticação pode não ser exclusivo para o locatário.</span><span class="sxs-lookup"><span data-stu-id="a19ae-251">The user can use the same email address across social identity providers, meaning that the email username used for authentication may not be unique to the tenant.</span></span> <span data-ttu-id="a19ae-252">O B2C do Azure AD apenas irá impor que os usuários tenham um endereço de email exclusivo nas contas locais do B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-252">Azure AD B2C will only enforce that users have a unique email address on local B2C accounts.</span></span>

<span data-ttu-id="a19ae-253">Antes de adicionar um provedor de identidade social para autenticação, vá para o portal do provedor de identidade e configure um aplicativo de provedor de identidade conforme as orientações na documentação do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-253">Before you can add a social identity provider for authentication, you must go to the identity provider's portal and set up an identity provider application as instructed in the Azure AD B2C documentation.</span></span> <span data-ttu-id="a19ae-254">Uma lista de links para a documentação é fornecida a seguir.</span><span class="sxs-lookup"><span data-stu-id="a19ae-254">A list of links to the documentation is provided below.</span></span>

- [<span data-ttu-id="a19ae-255">Amazon</span><span class="sxs-lookup"><span data-stu-id="a19ae-255">Amazon</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-amzn-app)
- [<span data-ttu-id="a19ae-256">Azure AD (Único Locatário)</span><span class="sxs-lookup"><span data-stu-id="a19ae-256">Azure AD (Single Tenant)</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-oidc-azure-active-directory)
- [<span data-ttu-id="a19ae-257">Conta da Microsoft</span><span class="sxs-lookup"><span data-stu-id="a19ae-257">Microsoft Account</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-msa-app)
- [<span data-ttu-id="a19ae-258">Facebook</span><span class="sxs-lookup"><span data-stu-id="a19ae-258">Facebook</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-fb-app)
- [<span data-ttu-id="a19ae-259">GitHub</span><span class="sxs-lookup"><span data-stu-id="a19ae-259">GitHub</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-github-app)
- [<span data-ttu-id="a19ae-260">Google</span><span class="sxs-lookup"><span data-stu-id="a19ae-260">Google</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-goog-app)
- [<span data-ttu-id="a19ae-261">LinkedIn</span><span class="sxs-lookup"><span data-stu-id="a19ae-261">LinkedIn</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-li-app)
- [<span data-ttu-id="a19ae-262">OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="a19ae-262">OpenID Connect</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-oidc-idp)
- [<span data-ttu-id="a19ae-263">Twitter</span><span class="sxs-lookup"><span data-stu-id="a19ae-263">Twitter</span></span>](/azure/active-directory-b2c/active-directory-b2c-setup-twitter-app)

### <a name="add-and-set-up-a-social-identity-provider"></a><span data-ttu-id="a19ae-264">Adicionar e configurar um provedor de identidade social</span><span class="sxs-lookup"><span data-stu-id="a19ae-264">Add and set up a social identity provider</span></span>

<span data-ttu-id="a19ae-265">Para adicionar e configurar um provedor de identidade social, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-265">To add and set up a social identity provider, follow these steps.</span></span>  

1. <span data-ttu-id="a19ae-266">No portal do Azure, navegue até **Provedores de Identidade**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-266">In the Azure portal, navigate to **Identity Providers**.</span></span>
1. <span data-ttu-id="a19ae-267">Selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-267">Select **Add**.</span></span> <span data-ttu-id="a19ae-268">A tela **Adicionar provedor de identidade** será exibida.</span><span class="sxs-lookup"><span data-stu-id="a19ae-268">The **Add identity provider** screen appears.</span></span>
1. <span data-ttu-id="a19ae-269">Em **Nome**, insira o nome a ser exibido para os usuários na tela de logon.</span><span class="sxs-lookup"><span data-stu-id="a19ae-269">Under **Name**, enter the name to be displayed to users on your sign in screen.</span></span>
1. <span data-ttu-id="a19ae-270">Em **Tipo de provedor de identidade**, selecione um provedor de identidade na lista.</span><span class="sxs-lookup"><span data-stu-id="a19ae-270">Under **Identity provider type**, select an identity provider from the list.</span></span>
1. <span data-ttu-id="a19ae-271">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-271">Select **OK**.</span></span>
1. <span data-ttu-id="a19ae-272">Selecione **Configurar este provedor de identidade** para acessar a tela **Configurar provedor de identidade social**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-272">Select **Set up this identity provider** to access the **Set up the social identity provider** screen.</span></span>
1. <span data-ttu-id="a19ae-273">Em **ID do Cliente**, insira o ID do cliente obtido na configuração do aplicativo do provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="a19ae-273">Under **Client ID**, enter the client ID as obtained from the identity provider application setup.</span></span>
1. <span data-ttu-id="a19ae-274">Em **Segredo do cliente**, insira o segredo do cliente obtido na configuração do aplicativo do provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="a19ae-274">Under **Client secret**, enter the client secret as obtained from the identity provider application setup.</span></span>
1. <span data-ttu-id="a19ae-275">Anexe o fluxo de usuário para as políticas de inscrição e logon:</span><span class="sxs-lookup"><span data-stu-id="a19ae-275">Attach user flow for sign in sign up policies:</span></span>
1. <span data-ttu-id="a19ae-276">Vá para **B2C do Azure AD – Fluxos de usuário (políticas) \> {sua política de inscrição e logon} \> Provedores de identidade**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-276">Go to **Azure AD B2C – User flows (policies) \> {your sign-in sign-up policy} \> Identity providers**.</span></span>
1. <span data-ttu-id="a19ae-277">Para anexar a política de fluxo de usuário de inscrição/logon, selecione os provedores de identidade configurados para a sua conta.</span><span class="sxs-lookup"><span data-stu-id="a19ae-277">To attach the sign in/sign up user flow policy, select each identity provider you have set up for your account.</span></span> <span data-ttu-id="a19ae-278">Para testá-los, selecione **Executar fluxo de usuário** para cada provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="a19ae-278">To test these, select **Run user flow** for each identity provider.</span></span> <span data-ttu-id="a19ae-279">Uma nova guia será exibida na página de logon mostrando a caixa de seleção do novo provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="a19ae-279">A new tab will display the sign-in page displaying the new identity provider selection box.</span></span>

<span data-ttu-id="a19ae-280">A imagem a seguir mostra exemplos das telas **Adicionar provedor de identidade** e **Configurar o provedor de identidade social** no B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-280">The following image shows examples of the **Add identity provider** and **Set up the social identity provider** screens in Azure AD B2C.</span></span>

![Adicionar um Provedor de Identidade Social ao aplicativo](./media/B2CImage_14.png)

<span data-ttu-id="a19ae-282">A imagem a seguir mostra um exemplo de como selecionar provedores de identidade na página **Provedores de Identidade** do B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-282">The following image shows an example of how to select identity providers on the Azure AD B2C **Identity Providers** page.</span></span>

![Selecione cada Provedor de Identidade Social que será habilitado para a sua política](./media/B2CImage_16.png)

<span data-ttu-id="a19ae-284">A imagem a seguir mostra um exemplo de uma tela de logon padrão com um botão de logon do provedor de identidade social exibido.</span><span class="sxs-lookup"><span data-stu-id="a19ae-284">The following image shows an example of a default sign-in screen with a social identity provider sign-in button displayed.</span></span>

> [!NOTE]
> <span data-ttu-id="a19ae-285">Se você estiver usando as páginas personalizadas criadas no Commerce para os fluxos de usuário, os botões para provedores de identidade social precisarão ser adicionados usando os recursos de extensibilidade da biblioteca de módulos do Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-285">If using the custom pages built in Commerce for your user flows, the buttons for social identity providers will need to be added using the extensibility features of the Commerce module library.</span></span> <span data-ttu-id="a19ae-286">Além disso, ao configurar seus aplicativos com um provedor de identidade social específica, em alguns casos, as cadeias de caracteres de configuração ou de URL podem diferenciar maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-286">Additionally, when setting up your applications with a specific social identity provider, in some cases URL or configuration strings may be case sensitive.</span></span> <span data-ttu-id="a19ae-287">Consulte as instruções de conexão do seu provedor de identidade social para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="a19ae-287">Refer to your social identity provider's connection instructions for more information.</span></span>
 
![Exemplo de tela de logon padrão com o botão de logon do Provedor de Identidade Social exibido](./media/B2CImage_17.png)

## <a name="update-commerce-headquarters-with-the-new-azure-ad-b2c-information"></a><span data-ttu-id="a19ae-289">Atualizar o Commerce headquarters com as novas informações do B2C do Azure AD</span><span class="sxs-lookup"><span data-stu-id="a19ae-289">Update Commerce headquarters with the new Azure AD B2C information</span></span>

<span data-ttu-id="a19ae-290">Depois que as etapas de provisionamento do B2C do Azure AD estiverem concluídas, o aplicativo B2C do Azure AD devem ser registrados no ambiente do Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-290">Once the Azure AD B2C provisioning steps above are completed, the Azure AD B2C application must be registered in your Dynamics 365 Commerce environment.</span></span>

<span data-ttu-id="a19ae-291">Para atualizar o headquarters com as novas informações do B2C do Azure AD, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-291">To update headquarters with the new Azure AD B2C information, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-292">No Commerce, vá para **Parâmetros Compartilhados do Commerce** e selecione **Provedores de Identidade** no menu esquerdo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-292">In Commerce, go to **Commerce Shared Parameters** and select **Identity Providers** in the left menu.</span></span>
1. <span data-ttu-id="a19ae-293">Em **Provedores de Identidade**, faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="a19ae-293">Under **Identity Providers**, do the following:</span></span>
    1. <span data-ttu-id="a19ae-294">Na caixa **Emissor**, insira o URL do emissor do provedor de identidade.</span><span class="sxs-lookup"><span data-stu-id="a19ae-294">In the **Issuer** box, enter the identity provider issuer URL.</span></span> <span data-ttu-id="a19ae-295">Para encontrar o URL do emissor, consulte [Obter URL do emissor](#obtain-issuer-url) abaixo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-295">To find your issuer URL, see [Obtain issuer URL](#obtain-issuer-url) below.</span></span>
    1. <span data-ttu-id="a19ae-296">Na caixa **Nome**, insira um nome para o registro do emissor.</span><span class="sxs-lookup"><span data-stu-id="a19ae-296">In the **Name** box, enter a name for your issuer record.</span></span>
    1. <span data-ttu-id="a19ae-297">Na caixa **Tipo**, insira **B2C do Azure AD (id_token)**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-297">In the **Type** box, enter **Azure AD B2C (id_token)**.</span></span>
1. <span data-ttu-id="a19ae-298">Em **Partes Confiáveis**, com o item do provedor de identidade do B2C acima selecionado, faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="a19ae-298">Under **Relying Parties**, with the above B2C identity provider item selected, do the following:</span></span>
    1. <span data-ttu-id="a19ae-299">Na caixa **ClientID**, insira a ID do aplicativo B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-299">In the **ClientID** box, enter your B2C application ID.</span></span> <span data-ttu-id="a19ae-300">Isso pode ser encontrado na caixa **ID do Aplicativo** na página de propriedades do aplicativo B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-300">You can find this in the **Application ID** box of your B2C application's properties page.</span></span>
    1. <span data-ttu-id="a19ae-301">Na caixa **Tipo**, insira **Público**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-301">In the **Type** box, enter **Public**.</span></span>
    1. <span data-ttu-id="a19ae-302">Na caixa **Tipo de Usuário**, insira **Cliente**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-302">In the **User Type** box, enter **Customer**.</span></span>
1. <span data-ttu-id="a19ae-303">No painel de ação, selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-303">On the action pane, select **Save**.</span></span>
1. <span data-ttu-id="a19ae-304">Na caixa de pesquisa do Commerce, procure **Agenda de distribuição**</span><span class="sxs-lookup"><span data-stu-id="a19ae-304">In the Commerce search box, search for **Distribution schedule**</span></span>
1. <span data-ttu-id="a19ae-305">No menu de navegação à esquerda da página **Agendas de distribuição**, selecione o trabalho **1110 Configuração global**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-305">In the left navigation menu of the **Distribution schedules** page, select job **1110 Global configuration**.</span></span>
1. <span data-ttu-id="a19ae-306">No painel de ação, selecione **Executar Agora**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-306">On the action pane, select **Run Now**.</span></span>

### <a name="obtain-issuer-url"></a><span data-ttu-id="a19ae-307">Obter URL do emissor</span><span class="sxs-lookup"><span data-stu-id="a19ae-307">Obtain issuer URL</span></span>

<span data-ttu-id="a19ae-308">Para obter o URL do emissor do provedor de identidade, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-308">To obtain your identity provider issuer URL, follow these steps.</span></span>
1. <span data-ttu-id="a19ae-309">Na página do Azure AD B2C do portal do Azure, navegue até o fluxo de usuário **Inscrever-se e entrar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-309">On the Azure AD B2C page of the Azure portal, navigate to your **Sign up and sign in** user flow.</span></span>
1. <span data-ttu-id="a19ae-310">Selecione **Layouts de página** no menu de navegação esquerdo, em **Nome do layout**, selecione **Página de inscrição ou entrada unificada** e selecione **Executar fluxo do usuário**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-310">Select **Page layouts** in the left navigation menu, under **Layout name** select **Unified sign up or sign in page**, and then select **Run user flow**.</span></span>
1. <span data-ttu-id="a19ae-311">Certifique-se de que o aplicativo esteja definido para seu aplicativo pretendido do Azure AD B2C criado acima e selecione o link no cabeçalho **Executar fluxo do usuário**, que inclui ``.../.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``.</span><span class="sxs-lookup"><span data-stu-id="a19ae-311">Make sure your application is set to your intended Azure AD B2C application created above, and then select the link under the **Run user flow** header that includes ``.../.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``.</span></span>
1. <span data-ttu-id="a19ae-312">Uma página de metadados é exibida na guia do seu navegador. Copie a URL do emissor do provedor de identidade (o valor para **"emissor"**).</span><span class="sxs-lookup"><span data-stu-id="a19ae-312">A metadata page is displayed in your browser tab. Copy the identity provider issuer URL (the value for **"issuer"**).</span></span>
   - <span data-ttu-id="a19ae-313">Exemplo: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span><span class="sxs-lookup"><span data-stu-id="a19ae-313">Example: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span></span>
 
<span data-ttu-id="a19ae-314">**OU**: para construir a mesma URL de metadados manualmente, execute as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="a19ae-314">**OR**: To construct the same metadata URL manually, do the following steps.</span></span>

1. <span data-ttu-id="a19ae-315">Crie um URL do endereço de metadados no seguinte formato usando o locatário e a política B2C: ``https://<B2CTENANTNAME>.b2clogin.com/<B2CTENANTNAME>.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``</span><span class="sxs-lookup"><span data-stu-id="a19ae-315">Create a metadata address URL in the following format using your B2C tenant and policy: ``https://<B2CTENANTNAME>.b2clogin.com/<B2CTENANTNAME>.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``</span></span>
    - <span data-ttu-id="a19ae-316">Exemplo: ``https://d365plc.b2clogin.com/d365plc.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_signinup``.</span><span class="sxs-lookup"><span data-stu-id="a19ae-316">Example: ``https://d365plc.b2clogin.com/d365plc.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_signinup``.</span></span>
1. <span data-ttu-id="a19ae-317">Insira o URL do endereço de metadados na barra de endereço no navegador.</span><span class="sxs-lookup"><span data-stu-id="a19ae-317">Enter the metadata address URL into a browser address bar.</span></span>
1. <span data-ttu-id="a19ae-318">Nos metadados, copie o URL do emissor do provedor de identidade (valor para **"emissor"**).</span><span class="sxs-lookup"><span data-stu-id="a19ae-318">In the metadata, copy the identity provider issuer URL (the value for **"issuer"**).</span></span>
    - <span data-ttu-id="a19ae-319">Exemplo: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span><span class="sxs-lookup"><span data-stu-id="a19ae-319">Example: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span></span>

## <a name="configure-your-b2c-tenant-in-commerce-site-builder"></a><span data-ttu-id="a19ae-320">Configurar o locatário B2C no construtor de sites do Commerce</span><span class="sxs-lookup"><span data-stu-id="a19ae-320">Configure your B2C tenant in Commerce site builder</span></span>

<span data-ttu-id="a19ae-321">Após configurar o locatário B2C do Azure AD, será necessário configurar o locatário B2C no construtor de sites do Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-321">Once setup of your Azure AD B2C tenant is completed, you must configure the B2C tenant in Commerce site builder.</span></span> <span data-ttu-id="a19ae-322">As etapas de configuração incluem coletar informações do aplicativo B2C do portal do Azure, inserir as informações do aplicativo B2C no construtor de sites e associar o aplicativo B2C ao site e ao canal.</span><span class="sxs-lookup"><span data-stu-id="a19ae-322">Configuration steps include collecting B2C application information from the Azure portal, entering that B2C application information into site builder, and then associating the B2C application with your site and channel.</span></span>

### <a name="collect-the-required-application-information"></a><span data-ttu-id="a19ae-323">Coletar as informações necessárias do aplicativo</span><span class="sxs-lookup"><span data-stu-id="a19ae-323">Collect the required application information</span></span>

<span data-ttu-id="a19ae-324">Para coletar as informações necessárias do aplicativo, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-324">To collect the required application information, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-325">No portal do Azure, vá para **Página Inicial \> B2C do Azure AD – Aplicativos**,</span><span class="sxs-lookup"><span data-stu-id="a19ae-325">In the Azure portal, go to **Home \> Azure AD B2C - Applications**.</span></span>
1. <span data-ttu-id="a19ae-326">Selecione o aplicativo e, no painel de navegação à esquerda, selecione **Propriedades** para obter os detalhes do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-326">Select your application, and then in the left navigation pane select **Properties** to obtain the application details.</span></span>
1. <span data-ttu-id="a19ae-327">Na caixa **ID do Aplicativo**, colete a ID do aplicativo B2C criado no seu locatário B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-327">From the **Application ID** box, collect the application ID of the B2C application created in your B2C tenant.</span></span> <span data-ttu-id="a19ae-328">Posteriormente, ela será inserida como **GUID do Cliente** no construtor de sites.</span><span class="sxs-lookup"><span data-stu-id="a19ae-328">This will later be entered as the **Client GUID** in site builder.</span></span>
1. <span data-ttu-id="a19ae-329">Em **URL de resposta**, colete o URL de resposta.</span><span class="sxs-lookup"><span data-stu-id="a19ae-329">Under **Reply URL**, collect the reply URL.</span></span>
1. <span data-ttu-id="a19ae-330">Vá para **Página Inicial \> B2C do Azure AD – Fluxos de usuário (políticas)** e colete os nomes de cada política de fluxo de usuário.</span><span class="sxs-lookup"><span data-stu-id="a19ae-330">Go to **Home \> Azure AD B2C – User flows (policies)**, and then collect the names of each user flow policy.</span></span>

<span data-ttu-id="a19ae-331">A imagem a seguir mostra um exemplo da página **B2C do Azure AD – Aplicativos**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-331">The following image shows an example of the **Azure AD B2C - Applications** page.</span></span>

![Navegue até o Aplicativo B2C no locatário](./media/B2CImage_19.png)

<span data-ttu-id="a19ae-333">A imagem a seguir mostra um exemplo da página **Propriedades** de um aplicativo no B2C do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a19ae-333">The following image shows an example of an application **Properties** page in Azure AD B2C.</span></span> 

![Copiar a ID do Aplicativo nas Propriedades do Aplicativo B2C](./media/B2CImage_21.png)

<span data-ttu-id="a19ae-335">A imagem a seguir mostra um exemplo de políticas de fluxo de usuário na página **B2C do Azure AD – Fluxos de usuário (políticas)**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-335">The following image shows an example of user flow policies on the **Azure AD B2C – User flows (policies)** page.</span></span>

![Coletar os nomes de cada fluxo de política de B2C](./media/B2CImage_22.png)

### <a name="enter-your-aad-b2c-tenant-application-information-into-commerce"></a><span data-ttu-id="a19ae-337">Insira as informações do aplicativo locatário B2C do AAD no Commerce</span><span class="sxs-lookup"><span data-stu-id="a19ae-337">Enter your AAD B2C tenant application information into Commerce</span></span>

<span data-ttu-id="a19ae-338">Insira os detalhes do locatário B2C do Azure AD no construtor de sites do Commerce antes de associar o locatário B2C aos sites.</span><span class="sxs-lookup"><span data-stu-id="a19ae-338">You must enter details of the Azure AD B2C tenant into Commerce site builder before associating the B2C tenant with your site(s).</span></span>

<span data-ttu-id="a19ae-339">Para adicionar as informações do aplicativo locatário B2C do AAD ao Commerce, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-339">To add your AAD B2C tenant application information to Commerce, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-340">Faça login como administrador no construtor de sites do Commerce no seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="a19ae-340">Sign in as an administrator to Commerce site builder for your environment.</span></span>
1. <span data-ttu-id="a19ae-341">No painel de navegação esquerdo, selecione **Configurações de Locatário** para expandi-lo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-341">In the left navigation pane, select **Tenant Settings**  to expand it.</span></span>
1. <span data-ttu-id="a19ae-342">Em **Configurações do Locatário**, selecione **Configurações do B2C**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-342">Under **Tenant Settings**, select **B2C Settings**.</span></span> 
1. <span data-ttu-id="a19ae-343">Na janela principal ao lado de **Aplicativos B2C**, selecione **Gerenciar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-343">In the main window next **B2C Applications**, select **Manage**.</span></span> <span data-ttu-id="a19ae-344">(Se o locatário aparecer na lista de Aplicativos B2C, ele já foi adicionado por um administrador.</span><span class="sxs-lookup"><span data-stu-id="a19ae-344">(If your tenant appears in the B2C Applications list, then it was already added by an administrator.</span></span> <span data-ttu-id="a19ae-345">Verifique se os itens na etapa 6 abaixo correspondem ao Aplicativo B2C.)</span><span class="sxs-lookup"><span data-stu-id="a19ae-345">Verify that the items in step 6 below match your B2C Application.)</span></span>
1. <span data-ttu-id="a19ae-346">Selecione **Adicionar Aplicativo B2C**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-346">Select **Add B2C Application**.</span></span>
1. <span data-ttu-id="a19ae-347">Insira os seguintes itens obrigatórios no formulário exibido usando valores do locatário e aplicativo B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-347">Enter the following required items in the form displayed, using values from your B2C tenant and application.</span></span> <span data-ttu-id="a19ae-348">Os campos que não são obrigatórios (sem um asterisco) podem ser deixados em branco.</span><span class="sxs-lookup"><span data-stu-id="a19ae-348">Fields that are not required (those without an asterisk) may be left blank.</span></span>

    - <span data-ttu-id="a19ae-349">**Nome do Aplicativo**: O nome do Aplicativo B2C, por exemplo, "Fabrikam B2C".</span><span class="sxs-lookup"><span data-stu-id="a19ae-349">**Application Name**: The name for your B2C Application, for example "Fabrikam B2C".</span></span>
    - <span data-ttu-id="a19ae-350">**Nome do locatário**: O nome de seu locatário B2C (por exemple, use "fabrikam" se o domínio aparecer como "fabrikam.onmicrosoft.com" para o locatário B2C).</span><span class="sxs-lookup"><span data-stu-id="a19ae-350">**Tenant Name**: The name of your B2C tenant (for example, use "fabrikam" if the domain appears as "fabrikam.onmicrosoft.com" for the B2C tenant).</span></span> 
    - <span data-ttu-id="a19ae-351">**ID da Política de Esquecer Senha**: A ID da política de fluxo de usuário de esquecer senha, por exemplo, "B2C_1_PasswordReset".</span><span class="sxs-lookup"><span data-stu-id="a19ae-351">**Forget Password Policy ID**: The forget password user flow policy ID, for example "B2C_1_PasswordReset".</span></span>
    - <span data-ttu-id="a19ae-352">**ID da Política de Inscrição e Logon**: A ID da política do fluxo de usuário de inscrição e logon, por exemplo "B2C_1_signup_signin".</span><span class="sxs-lookup"><span data-stu-id="a19ae-352">**Signup Signin Policy ID**: The sign up and sign in user flow policy ID, for example "B2C_1_signup_signin".</span></span>
    - <span data-ttu-id="a19ae-353">**GUID do Cliente**: A ID do aplicativo B2C, por exemplo "22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6".</span><span class="sxs-lookup"><span data-stu-id="a19ae-353">**Client GUID**: The B2C application ID, for example "22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6".</span></span>
    - <span data-ttu-id="a19ae-354">**ID da Política de Editar Perfil**: A ID da política do fluxo de usuário de edição de perfil, por exemplo "B2C_1A_ProfileEdit".</span><span class="sxs-lookup"><span data-stu-id="a19ae-354">**Edit Profile Policy ID**: The profile editing user flow policy ID, for example "B2C_1A_ProfileEdit".</span></span>

1. <span data-ttu-id="a19ae-355">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-355">Select **OK**.</span></span> <span data-ttu-id="a19ae-356">Agora você verá o nome do aplicativo B2C aparecer na lista.</span><span class="sxs-lookup"><span data-stu-id="a19ae-356">You should now see the name of your B2C application appear in the list.</span></span>
1. <span data-ttu-id="a19ae-357">Selecione **Salvar** para salvar as alterações.</span><span class="sxs-lookup"><span data-stu-id="a19ae-357">Select **Save** to save your changes.</span></span>

### <a name="associate-the-b2c-application-to-your-site-and-channel"></a><span data-ttu-id="a19ae-358">Associar o aplicativo B2C ao site e ao canal</span><span class="sxs-lookup"><span data-stu-id="a19ae-358">Associate the B2C application to your site and channel</span></span>

> [!WARNING]
> <span data-ttu-id="a19ae-359">Se o site já estiver associado a um aplicativo B2C, alterar para outro aplicativo B2C removerá as referências atuais estabelecidas para usuários já inscritos neste ambiente.</span><span class="sxs-lookup"><span data-stu-id="a19ae-359">If your site is already associated with a B2C application, changing to a different B2C application will remove the current references established for users already signed up in this environment.</span></span> <span data-ttu-id="a19ae-360">Se for alterado, todas as credenciais associadas ao aplicativo B2C atualmente atribuído não estarão disponíveis para os usuários.</span><span class="sxs-lookup"><span data-stu-id="a19ae-360">If changed, any credentials associated with the currently-assigned B2C application will not be available to users.</span></span> 
> 
> <span data-ttu-id="a19ae-361">Somente atualize o aplicativo B2C se estiver configurando o aplicativo B2C do canal pela primeira vez ou se quiser que os usuários se inscrevam novamente com novas credenciais neste canal com o novo aplicativo do B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-361">Only update the B2C application if you are setting up the channel's B2C application for the first time or if you intend to have users re-sign up with new credentials to this channel with the new B2C application.</span></span> <span data-ttu-id="a19ae-362">Tenha cautela ao associar canais aos aplicativos B2C e nomeie os aplicativos de forma clara.</span><span class="sxs-lookup"><span data-stu-id="a19ae-362">Take caution when associating channels to B2C applications, and name applications clearly.</span></span> <span data-ttu-id="a19ae-363">Se um canal não estiver associado a um aplicativo B2C nas etapas abaixo, os usuários que fizerem logon nesse canal para o seu site serão inseridos no aplicativo B2C exibido como **padrão** na lista **Configurações do Locatário \> Configurações do B2C** de aplicativos B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-363">If a channel is not associated to a B2C application in the steps below, users signing into that channel for your site will be entered into the B2C application showing as **default** in the **Tenant Settings \> B2C Settings** list of B2C applications.</span></span>

<span data-ttu-id="a19ae-364">Para associar o aplicativo B2C ao site e ao canal, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="a19ae-364">To associate the B2C application to your site and channel, follow these steps.</span></span>

1. <span data-ttu-id="a19ae-365">Navegue até o seu site no construtor de sites do Commerce.</span><span class="sxs-lookup"><span data-stu-id="a19ae-365">Navigate to your site in Commerce site builder.</span></span>
1. <span data-ttu-id="a19ae-366">No painel de navegação esquerdo, selecione **Configurações de Site** para expandi-lo.</span><span class="sxs-lookup"><span data-stu-id="a19ae-366">In the left navigation pane, select **Site Settings** to expand it.</span></span>
1. <span data-ttu-id="a19ae-367">Abaixo de **Configurações do Site**, selecione **Canais**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-367">Below **Site Settings**, select **Channels**.</span></span>
1. <span data-ttu-id="a19ae-368">Na janela principal em **Canais**, selecione o seu canal.</span><span class="sxs-lookup"><span data-stu-id="a19ae-368">In the main window under **Channels**, select your channel.</span></span>
1. <span data-ttu-id="a19ae-369">No painel de propriedades do canal à direita, selecione o nome do aplicativo B2C no menu suspenso **Selecionar Aplicativo B2C**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-369">In the channel properties pane on the right, select your B2C application name from the **Select B2C Application** drop down menu.</span></span>
1. <span data-ttu-id="a19ae-370">Selecione **Fechar** e, depois, selecione **Salvar e Publicar**.</span><span class="sxs-lookup"><span data-stu-id="a19ae-370">Select **Close**, and then select **Save and Publish**.</span></span>

## <a name="additional-b2c-information"></a><span data-ttu-id="a19ae-371">Informações adicionais do B2C</span><span class="sxs-lookup"><span data-stu-id="a19ae-371">Additional B2C information</span></span>

### <a name="customer-migration"></a><span data-ttu-id="a19ae-372">Migração de clientes</span><span class="sxs-lookup"><span data-stu-id="a19ae-372">Customer migration</span></span>

<span data-ttu-id="a19ae-373">Se você estiver considerando migrar registros de clientes de uma plataforma de provedor de identidade anterior, trabalhe em conjunto com a equipe do Dynamics 365 Commerce para revisar as suas necessidades de migração de clientes.</span><span class="sxs-lookup"><span data-stu-id="a19ae-373">If you are considering migrating customer records from a previous identity provider platform, please work with the Dynamics 365 Commerce team to review your customer migration needs.</span></span>

<span data-ttu-id="a19ae-374">Para obter documentação adicional do B2C do Azure AD sobre migração de clientes, consulte [Migrar usuários para o B2C do Azure Active Directory](/azure/active-directory-b2c/active-directory-b2c-user-migration).</span><span class="sxs-lookup"><span data-stu-id="a19ae-374">For additional Azure AD B2C documentation on customer migration, see [Migrate users to Azure Active Directory B2C](/azure/active-directory-b2c/active-directory-b2c-user-migration).</span></span>

### <a name="custom-policies"></a><span data-ttu-id="a19ae-375">Políticas personalizadas</span><span class="sxs-lookup"><span data-stu-id="a19ae-375">Custom policies</span></span>

<span data-ttu-id="a19ae-376">Para obter informações adicionais sobre como personalizar fluxos de interações e políticas do B2C do Azure AD fora do escopo oferecido por políticas padrão do B2C, consulte [Políticas personalizadas no B2C do Azure Active Directory](/azure/active-directory-b2c/active-directory-b2c-overview-custom).</span><span class="sxs-lookup"><span data-stu-id="a19ae-376">For additional information regarding customizing Azure AD B2C interactions and policy flows beyond what is offered by B2C standard policies, see [Custom policies in Azure Active Directory B2C](/azure/active-directory-b2c/active-directory-b2c-overview-custom).</span></span> 

### <a name="secondary-admin"></a><span data-ttu-id="a19ae-377">Administrador secundário</span><span class="sxs-lookup"><span data-stu-id="a19ae-377">Secondary admin</span></span>

<span data-ttu-id="a19ae-378">Uma conta de administrador ideal secundária pode ser adicionada à seção **Usuários** do locatário B2C.</span><span class="sxs-lookup"><span data-stu-id="a19ae-378">An optional, secondary administrator account can be added in the **Users** section of your B2C tenant.</span></span> <span data-ttu-id="a19ae-379">Pode ser uma conta direta ou uma conta geral.</span><span class="sxs-lookup"><span data-stu-id="a19ae-379">This can be a direct account or a general account.</span></span> <span data-ttu-id="a19ae-380">Caso precise compartilhar uma conta entre os recursos da equipe, uma conta comum também poderá ser criada.</span><span class="sxs-lookup"><span data-stu-id="a19ae-380">If you need to share an account across team resources, a common account can also be created.</span></span> <span data-ttu-id="a19ae-381">Devido à confidencialidade dos dados armazenados no B2C do Azure AD, uma conta comum deverá ser monitorada rigorosamente de acordo com as práticas de segurança da empresa.</span><span class="sxs-lookup"><span data-stu-id="a19ae-381">Due to the sensitivity of the data stored in Azure AD B2C, a common account should be monitored closely per your company's security practices.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a19ae-382">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="a19ae-382">Additional resources</span></span>

[<span data-ttu-id="a19ae-383">Configurar seu nome de domínio</span><span class="sxs-lookup"><span data-stu-id="a19ae-383">Configure your domain name</span></span>](configure-your-domain-name.md)

[<span data-ttu-id="a19ae-384">Implantar um novo locatário de comércio eletrônico</span><span class="sxs-lookup"><span data-stu-id="a19ae-384">Deploy a new e-commerce tenant</span></span>](deploy-ecommerce-site.md)

[<span data-ttu-id="a19ae-385">Criar um site de comércio eletrônico</span><span class="sxs-lookup"><span data-stu-id="a19ae-385">Create an e-commerce site</span></span>](create-ecommerce-site.md)

[<span data-ttu-id="a19ae-386">Associar um site do Dynamics 365 Commerce a um canal online</span><span class="sxs-lookup"><span data-stu-id="a19ae-386">Associate a Dynamics 365 Commerce site with an online channel</span></span>](associate-site-online-store.md)

[<span data-ttu-id="a19ae-387">Gerenciar arquivos robots.txt</span><span class="sxs-lookup"><span data-stu-id="a19ae-387">Manage robots.txt files</span></span>](manage-robots-txt-files.md)

[<span data-ttu-id="a19ae-388">Carregar redirecionamentos de URL em massa</span><span class="sxs-lookup"><span data-stu-id="a19ae-388">Upload URL redirects in bulk</span></span>](upload-bulk-redirects.md)

[<span data-ttu-id="a19ae-389">Configurar páginas personalizadas para logons dos usuários</span><span class="sxs-lookup"><span data-stu-id="a19ae-389">Set up custom pages for user logins</span></span>](custom-pages-user-logins.md)

[<span data-ttu-id="a19ae-390">Configurar múltiplos locatários B2C em um ambiente do Commerce</span><span class="sxs-lookup"><span data-stu-id="a19ae-390">Configure multiple B2C tenants in a Commerce environment</span></span>](configure-multi-B2C-tenants.md)

[<span data-ttu-id="a19ae-391">Adicionar suporte para uma rede de entrega de conteúdo (CDN)</span><span class="sxs-lookup"><span data-stu-id="a19ae-391">Add support for a content delivery network (CDN)</span></span>](add-cdn-support.md)

[<span data-ttu-id="a19ae-392">Habilitar detecção de lojas com base na localização</span><span class="sxs-lookup"><span data-stu-id="a19ae-392">Enable location-based store detection</span></span>](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]