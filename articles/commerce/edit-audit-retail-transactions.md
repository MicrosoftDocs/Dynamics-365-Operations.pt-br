---
title: Editar e auditar transações de loja de varejo
description: Este tópico descreve a funcionalidade para editar e auditar transações da loja.
author: josaw1
manager: AnnBe
ms.date: 10/14/2019
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2019-09-29
ms.dyn365.ops.version: ''
ms.openlocfilehash: 97211ee36dbaa704d3a967e9b742ff1cae708707
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/01/2020
ms.locfileid: "3004380"
---
# <a name="edit-and-audit-retail-store-transactions"></a><span data-ttu-id="91a36-103">Editar e auditar transações de loja de varejo</span><span class="sxs-lookup"><span data-stu-id="91a36-103">Edit and audit retail store transactions</span></span>

[!include [banner](includes/banner.md)]



<span data-ttu-id="91a36-104">Os clientes do Dynamics 365 Commerce usam aplicativos de ponto de venda (PDV) internos, bem como de terceiros.</span><span class="sxs-lookup"><span data-stu-id="91a36-104">Dynamics 365 Commerce customers use first-party as well as third-party point of sale (POS) applications.</span></span> <span data-ttu-id="91a36-105">Com o aplicativo de ponto de venda (PDV) interno, as transações de loja de varejo são incluídas no Headquarters pelos canais por meio de um processo em lote.</span><span class="sxs-lookup"><span data-stu-id="91a36-105">With the first-party POS application, store transactions are pulled into Headquarters from the channels through a batch process.</span></span> <span data-ttu-id="91a36-106">Com aplicativos de terceiros, as transações são incluídas no Headquarters por meio da integração.</span><span class="sxs-lookup"><span data-stu-id="91a36-106">With third-party applications, transactions are pulled into Headquarters through integration.</span></span> <span data-ttu-id="91a36-107">Nos dois casos, depois que as transações são incluídas no Headquarters, um processo de verificação de consistência que executa mais validações nas transações deve ser realizado, de forma que somente as transações validadas com êxito sejam incluídas no demonstrativo a ser lançado no Headquarters.</span><span class="sxs-lookup"><span data-stu-id="91a36-107">In both cases, after transactions are pulled into Headquarters, a consistency check process needs to be executed that runs multiple validations on the transactions so that only successfully validated transactions are pulled into the statement to be posted in Headquarters.</span></span> 

<span data-ttu-id="91a36-108">A falha na validação das transações de varejo acontecem por vários motivos.</span><span class="sxs-lookup"><span data-stu-id="91a36-108">Commerce transactions fail validation for various reasons.</span></span> <span data-ttu-id="91a36-109">Por exemplo, um bug no código de integração ou um bug no aplicativo de PDV podem causar dados inconsistentes ou, um erro de usuário, como a exclusão de um produto depois de que este for sincronizado com o canal ou o fechamento de um período fiscal sem o lançamento das transações para esse período.</span><span class="sxs-lookup"><span data-stu-id="91a36-109">For example, a bug in the integration code or a bug in the POS application may cause inconsistent data, or a user error, such as deleting a product after it was synchronized to the channel or closing a fiscal period without posting transactions for that period, can cause inconsistent data.</span></span>

<span data-ttu-id="91a36-110">Enquanto essas transações são sinalizadas e excluídas dos demonstrativos, as transações podem dificultar o processo diário de lançamento de vendas de um cliente para o financeiro.</span><span class="sxs-lookup"><span data-stu-id="91a36-110">While these transactions get flagged and are excluded from the statements, the transactions can disrupt a customer’s daily process of posting daily sales to the financials.</span></span>

<span data-ttu-id="91a36-111">No Commerce, você pode editar as transações específicas com falha na validação enquanto mantém a auditoria de todas as alterações.</span><span class="sxs-lookup"><span data-stu-id="91a36-111">In Commerce, you can edit the specific transactions that fail validation while maintaining audit of all the changes.</span></span> 

## <a name="edit-and-audit-transactions"></a><span data-ttu-id="91a36-112">Editar e auditar transações</span><span class="sxs-lookup"><span data-stu-id="91a36-112">Edit and audit transactions</span></span>

<span data-ttu-id="91a36-113">No Retail versão 10.0.5, as transações cash and carry, como vendas e devoluções, são as únicas transações que podem ser editadas.</span><span class="sxs-lookup"><span data-stu-id="91a36-113">In Retail version 10.0.5, cash and carry transactions like sales and returns are the only transactions that can be edited.</span></span> <span data-ttu-id="91a36-114">Não há suporte à edição de ordens de cliente ou de ordens online.</span><span class="sxs-lookup"><span data-stu-id="91a36-114">Editing customer orders or online orders is not supported.</span></span> <span data-ttu-id="91a36-115">No Retail versão 10.0.6 e posterior, também há suporte à edição de transações de gerenciamento de caixa.</span><span class="sxs-lookup"><span data-stu-id="91a36-115">In Retail version 10.0.6 and higher, editing cash management transactions is also supported.</span></span>

1. <span data-ttu-id="91a36-116">Instale o suplemento Dynamics Excel.</span><span class="sxs-lookup"><span data-stu-id="91a36-116">Install the Dynamics Excel Add-in.</span></span>

2. <span data-ttu-id="91a36-117">Acesse o espaço de trabalho **Finanças da loja**.</span><span class="sxs-lookup"><span data-stu-id="91a36-117">Go to the **Store financials** workspace.</span></span> <span data-ttu-id="91a36-118">O bloco **Falhas na validação de transações** fornece uma exibição pré-filtrada do formulário de transação com uma ou mais falhas nas regras de validação.</span><span class="sxs-lookup"><span data-stu-id="91a36-118">The **Transaction validation failures** tile provides a pre-filtered view of the transaction form that failed one or more of the validation rules.</span></span>
 
3. <span data-ttu-id="91a36-119">Abra o formulário.</span><span class="sxs-lookup"><span data-stu-id="91a36-119">Open the form.</span></span> <span data-ttu-id="91a36-120">Clique no registro com falha na validação, clique em **Suplemento do Office** e clique em **Editar transação selecionada**.</span><span class="sxs-lookup"><span data-stu-id="91a36-120">Click the record that failed validation, click **Office Add in**, and then click **Edit selected transaction**.</span></span> <span data-ttu-id="91a36-121">Um arquivo do Excel com os detalhes da transação selecionada será aberto, com as seguintes planilhas:</span><span class="sxs-lookup"><span data-stu-id="91a36-121">An Excel file with the details of the selected transaction opens, with the following worksheets:</span></span>

    - <span data-ttu-id="91a36-122">Linhas: essa planilha tem o cabeçalho, as linhas de produtos e os dados relacionados à transação.</span><span class="sxs-lookup"><span data-stu-id="91a36-122">Lines: This worksheet has the header and product lines and related data for the transaction.</span></span>
    - <span data-ttu-id="91a36-123">Pagamentos: essa planilha tem os detalhes das linhas de pagamento para a transação.</span><span class="sxs-lookup"><span data-stu-id="91a36-123">Payments: This worksheet has the details of the payment lines for the transaction.</span></span>
    - <span data-ttu-id="91a36-124">Descontos: essa planilha tem os detalhes relacionados ao desconto para a transação.</span><span class="sxs-lookup"><span data-stu-id="91a36-124">Discounts: This worksheet has the discount-related details for the transaction.</span></span>
    - <span data-ttu-id="91a36-125">Impostos: essa planilha tem os detalhes relacionados ao imposto para a transação.</span><span class="sxs-lookup"><span data-stu-id="91a36-125">Taxes: This worksheet has the tax-related details for the transaction.</span></span>
    - <span data-ttu-id="91a36-126">Encargos: essa planilha tem os dados relacionados aos encargos para a transação.</span><span class="sxs-lookup"><span data-stu-id="91a36-126">Charges: This worksheet has the charges-related data for the transaction.</span></span>

4. <span data-ttu-id="91a36-127">No arquivo do Excel, você modifica os campos apropriados e carrega os dados de volta no Headquarters usando a funcionalidade de publicação do suplemento Dynamics Excel.</span><span class="sxs-lookup"><span data-stu-id="91a36-127">In the Excel file, you modify the appropriate fields and then upload the data back into Headquarters using the Dynamics Excel Add-in publish functionality.</span></span> <span data-ttu-id="91a36-128">Depois de publicadas, as alterações serão refletidas no sistema.</span><span class="sxs-lookup"><span data-stu-id="91a36-128">Once published, the changes will be reflected in the system.</span></span> <span data-ttu-id="91a36-129">Durante a publicação, nenhuma validação é feita nas alterações feitas pelos usuários.</span><span class="sxs-lookup"><span data-stu-id="91a36-129">During publish, no validation is done on changes that users make.</span></span>

5. <span data-ttu-id="91a36-130">Uma trilha de auditoria completa das alterações pode ser exibida clicando-se em **Exibir trilha de auditoria** no cabeçalho **Transação de varejo** para as alterações no nível do cabeçalho e na seção e no registro relevantes na página de transação apropriada.</span><span class="sxs-lookup"><span data-stu-id="91a36-130">A complete audit trail of the changes can be viewed by clicking **View audit trail** in the **Retail transaction** header for the header-level changes and in the relevant section and record on the appropriate transaction page.</span></span> <span data-ttu-id="91a36-131">Por exemplo, todas as alterações relacionadas às linhas de venda serão visíveis na página **Transações de vendas**, as alterações relacionadas aos pagamentos serão visíveis na página **Transações de pagamento**, etc. Os detalhes da auditoria mantidos para as alterações são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="91a36-131">For example, all changes relating to sales lines will be visible on the **Sales transactions** page, changes relating to payments will be visible on the **Payment transactions** page, etc. The audit details that are maintained for the changes are as follows.</span></span>

   - <span data-ttu-id="91a36-132">Data e hora da modificação</span><span class="sxs-lookup"><span data-stu-id="91a36-132">Modified date and time</span></span>
   - <span data-ttu-id="91a36-133">Campo</span><span class="sxs-lookup"><span data-stu-id="91a36-133">Field</span></span> 
   - <span data-ttu-id="91a36-134">Valor antigo</span><span class="sxs-lookup"><span data-stu-id="91a36-134">Old value</span></span>
   - <span data-ttu-id="91a36-135">Novo valor</span><span class="sxs-lookup"><span data-stu-id="91a36-135">New value</span></span>
   - <span data-ttu-id="91a36-136">Modificação de</span><span class="sxs-lookup"><span data-stu-id="91a36-136">Modified by</span></span>

6. <span data-ttu-id="91a36-137">Depois que as alterações forem feitas e publicadas, execute e a opção **Validar transações de loja** novamente para validar que as alterações feitas sejam consistentes e válidas.</span><span class="sxs-lookup"><span data-stu-id="91a36-137">After your changes are made and published, run the **Validate store transactions** option again to validate that the changes you made are consistent and valid.</span></span>

> [!NOTE]
> <span data-ttu-id="91a36-138">Só é possível editar as transações que tiveram falha na validação.</span><span class="sxs-lookup"><span data-stu-id="91a36-138">You can only edit transactions that failed validation.</span></span> <span data-ttu-id="91a36-139">Se quiser editar as transações que passaram na validação, altere o status da validação das transações que você deseja alterar para **Erro** ou **Nenhum** e então poderá editá-las.</span><span class="sxs-lookup"><span data-stu-id="91a36-139">If you want to edit transactions that passed validation, change the validation status of the transaction you want to change to **Error** or **None** and then you will be able to edit it.</span></span> 


## <a name="bulk-edit-transactions"></a><span data-ttu-id="91a36-140">Editar transações em massa</span><span class="sxs-lookup"><span data-stu-id="91a36-140">Bulk edit transactions</span></span>

<span data-ttu-id="91a36-141">No Retail versão de 10.0.6 e posterior, há suporte à opção para editar transações em massa em nível de um demonstrativo.</span><span class="sxs-lookup"><span data-stu-id="91a36-141">In Retail version 10.0.6 and higher, the option to bulk edit transactions at a statement level is supported.</span></span> 

1. <span data-ttu-id="91a36-142">Use o suplemento do Excel para abrir um demonstrativo que tenha as transações que você deseja modificar usando as etapas 1 a 3 acima.</span><span class="sxs-lookup"><span data-stu-id="91a36-142">Use the Excel Add-in to open a statement that has transactions you want to modify using steps 1-3 above.</span></span>

2. <span data-ttu-id="91a36-143">Escolha uma das opções abaixo.</span><span class="sxs-lookup"><span data-stu-id="91a36-143">Choose one of the options below.</span></span>

    - <span data-ttu-id="91a36-144">**Editar transações cash and carry**.</span><span class="sxs-lookup"><span data-stu-id="91a36-144">**Edit cash and carry transactions**.</span></span> <span data-ttu-id="91a36-145">Essa opção permite editar todas as transações cash and carry incluídas no demonstrativo.</span><span class="sxs-lookup"><span data-stu-id="91a36-145">This option enables you to edit all the cash and carry transactions included in the statement.</span></span> <span data-ttu-id="91a36-146">As planilhas de Excel a seguir estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="91a36-146">The following Excel worksheets are available.</span></span>
    
       - <span data-ttu-id="91a36-147">**Transação**: essa planilha tem todas as informações em nível de cabeçalho para as transações de vendas.</span><span class="sxs-lookup"><span data-stu-id="91a36-147">**Transaction**: This worksheet has all the header-level information for the sales transactions.</span></span>
       - <span data-ttu-id="91a36-148">**Transação de venda**: essa planilha tem todas as informações em nível de linha para as transações de vendas.</span><span class="sxs-lookup"><span data-stu-id="91a36-148">**Sales transaction**: This worksheet has all the lines-level information for the sales transactions.</span></span>
       - <span data-ttu-id="91a36-149">**Transações de pagamento**: essa planilha tem todas as informações das linhas de pagamento para as transações de vendas.</span><span class="sxs-lookup"><span data-stu-id="91a36-149">**Payment transactions**: This worksheet has all the payment lines information for the sales transactions.</span></span>
       - <span data-ttu-id="91a36-150">**Transações de desconto**: essa planilha tem todas as informações das linhas de desconto para as transações de vendas.</span><span class="sxs-lookup"><span data-stu-id="91a36-150">**Discount transactions**: This worksheet has all the discount lines information for the sales transactions.</span></span>
       - <span data-ttu-id="91a36-151">**Transação de imposto**: essa planilha tem todas as informações das linhas de imposto para as transações de vendas.</span><span class="sxs-lookup"><span data-stu-id="91a36-151">**Tax transactions**: This worksheet has all the tax lines information for the sales transactions.</span></span>
       - <span data-ttu-id="91a36-152">**Transações de encargos**: essa planilha tem todas as informações das linhas de encargos para as transações de vendas.</span><span class="sxs-lookup"><span data-stu-id="91a36-152">**Charge transactions**: This worksheet has all the charge lines information for the sales transactions.</span></span>

    - <span data-ttu-id="91a36-153">**Editar transações de gerenciamento de caixa**.</span><span class="sxs-lookup"><span data-stu-id="91a36-153">**Edit cash management transactions**.</span></span> <span data-ttu-id="91a36-154">Essa opção permite editar todas as transações de gerenciamento de caixa incluídas no demonstrativo.</span><span class="sxs-lookup"><span data-stu-id="91a36-154">This option enables you to edit all the cash management transactions included in the statement.</span></span> <span data-ttu-id="91a36-155">As planilhas de Excel a seguir estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="91a36-155">The following Excel worksheets are available.</span></span>
     
       - <span data-ttu-id="91a36-156">**Transação**: essa planilha tem todas as informações em nível de cabeçalho para as transações de gerenciamento de caixa.</span><span class="sxs-lookup"><span data-stu-id="91a36-156">**Transaction**: This worksheet has all the header-level information for the cash management transactions.</span></span>
       - <span data-ttu-id="91a36-157">**Transações de meio de pagamento bancário**: essa planilha tem todos os detalhes da transação de depósito bancário.</span><span class="sxs-lookup"><span data-stu-id="91a36-157">**Bank tender transactions**: This worksheet has all the bank drop transaction details.</span></span>
       - <span data-ttu-id="91a36-158">**Transações de meio de pagamento do cofre**: essa planilha tem todos os detalhes da transação de depósito no cofre.</span><span class="sxs-lookup"><span data-stu-id="91a36-158">**Safe tender transactions**: This worksheet has all the safe drop transaction details.</span></span>
       - <span data-ttu-id="91a36-159">**Declaração de meios de pagamento**: essa planilha tem todos os detalhes da transação de declaração de meios de pagamento.</span><span class="sxs-lookup"><span data-stu-id="91a36-159">**Tender declaration**: This worksheet has all the tender declaration transaction details.</span></span>
       - <span data-ttu-id="91a36-160">**Transação de receita/despesa**: essa planilha tem todos os detalhes da linha de transação de receita/despesa.</span><span class="sxs-lookup"><span data-stu-id="91a36-160">**Income-expense transaction**: This worksheet has all the income-expense transaction line details.</span></span>
       - <span data-ttu-id="91a36-161">**Transações de pagamento**: essa planilha tem todas as informações relacionadas ao pagamento para a operação **Pagar fatura**, bem como para a transação de receita/despesa.</span><span class="sxs-lookup"><span data-stu-id="91a36-161">**Payment transactions**: This worksheet has all the payment-related information for the **Pay invoice** operation as well as the income-expense transaction.</span></span>

3.  <span data-ttu-id="91a36-162">As validações não são executadas quando você publica transações editadas em massa.</span><span class="sxs-lookup"><span data-stu-id="91a36-162">Validations are not performed when you publish bulk edited transactions.</span></span> <span data-ttu-id="91a36-163">Você deve garantir que todas as edições estejam corretas e que a fidelidade de dados nas planilhas seja mantida.</span><span class="sxs-lookup"><span data-stu-id="91a36-163">You must ensure that all your edits are accurate and the fidelity of data across the worksheets is maintained.</span></span> <span data-ttu-id="91a36-164">Por exemplo, se quiser alterar a data da transação para gerenciar os cenários em que o período fiscal ou o período de estoque para as transações abertas seja fechado, você deverá alterar a data em todas as planilhas do Excel que tenham a coluna **Data comercial**.</span><span class="sxs-lookup"><span data-stu-id="91a36-164">For example, if you want to change the transaction date to manage the scenarios where the fiscal or inventory period for the open transactions is closed, you need to change the date on all the Excel worksheets that have the **Business date** column.</span></span> <span data-ttu-id="91a36-165">Para validar as transações depois que elas forem editadas, você poderá usar **Revalidar transações** na página **Demonstrativos**.</span><span class="sxs-lookup"><span data-stu-id="91a36-165">To validate transactions after they have been edited, you can use **Revalidate transactions** on the **Statements** page.</span></span>
