---
title: Módulo de pagamento
description: Este tópico abrange o módulo do pagamento e explica como configurá-lo no Microsoft Dynamics 365 Commerce.
author: anupamar-ms
manager: annbe
ms.date: 10/20/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 894ac35973927c193d6e9c54e326daefb8a3f4a5
ms.sourcegitcommit: 765056b5dc1d0a8c27e56ff2cbd310ad3349ff09
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/20/2020
ms.locfileid: "4055372"
---
# <a name="payment-module"></a><span data-ttu-id="d61a9-103">Módulo de pagamento</span><span class="sxs-lookup"><span data-stu-id="d61a9-103">Payment module</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="d61a9-104">Este tópico abrange o módulo do pagamento e explica como configurá-lo no Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="d61a9-104">This topic covers the payment module and explains how to configure it in Microsoft Dynamics 365 Commerce.</span></span>

## <a name="overview"></a><span data-ttu-id="d61a9-105">Visão Geral</span><span class="sxs-lookup"><span data-stu-id="d61a9-105">Overview</span></span>

<span data-ttu-id="d61a9-106">O módulo de pagamento permite que clientes paguem por pedidos usando cartões de crédito ou de débito.</span><span class="sxs-lookup"><span data-stu-id="d61a9-106">The payment module lets customers pay for orders by using credit or debit cards.</span></span> <span data-ttu-id="d61a9-107">A integração de pagamento para este módulo é fornecida pelo Conector de Pagamento do Dynamics 365 para Adyen.</span><span class="sxs-lookup"><span data-stu-id="d61a9-107">Payment integration for this module is provided by the Dynamics 365 Payment Connector for Adyen.</span></span> <span data-ttu-id="d61a9-108">Para obter mais informações sobre como configurar o conector de pagamento, consulte [Conector de Pagamento do Dynamics 365 para Adyen](dev-itpro/adyen-connector.md).</span><span class="sxs-lookup"><span data-stu-id="d61a9-108">For more information about how to set up and configure the payment connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>

<span data-ttu-id="d61a9-109">O módulo de pagamento hospeda as informações de pagamento fornecidas por meio de Adyen em um quadro embutido em HTML (iFrame).</span><span class="sxs-lookup"><span data-stu-id="d61a9-109">The payment module hosts the payment information that is served via Adyen in an HTML inline frame (iframe).</span></span> <span data-ttu-id="d61a9-110">O módulo de pagamento interage com a Commerce Scale Unit para recuperar as informações de pagamento de Adyen.</span><span class="sxs-lookup"><span data-stu-id="d61a9-110">The payment module interacts with the Commerce Scale Unit to retrieve the Adyen payment information.</span></span> <span data-ttu-id="d61a9-111">Como parte da interação da Commerce Scale Unit, o módulo de pagamento pode permitir que as informações de endereço de cobrança sejam fornecidas no iFrame ou como um módulo separado.</span><span class="sxs-lookup"><span data-stu-id="d61a9-111">As part of the Commerce Scale Unit interaction, the payment module can allow billing address information to be served either in the iframe or as a separate module.</span></span> <span data-ttu-id="d61a9-112">No tema Fabrikam, o endereço de cobrança é mostrado em um módulo separado.</span><span class="sxs-lookup"><span data-stu-id="d61a9-112">In the Fabrikam theme, the billing address is shown in a separate module.</span></span> <span data-ttu-id="d61a9-113">Essa abordagem permite mais flexibilidade de formatação porque as linhas de endereço podem ser processadas para que se pareçam com as linhas do endereço de remessa.</span><span class="sxs-lookup"><span data-stu-id="d61a9-113">This approach allows for more formatting flexibility, because the address lines can be rendered so that they resemble the lines of the shipping address.</span></span>

<span data-ttu-id="d61a9-114">O módulo de pagamento também permite que os clientes conectados salvem informações de pagamento.</span><span class="sxs-lookup"><span data-stu-id="d61a9-114">The payment module also lets signed-in customers save their payment information.</span></span> <span data-ttu-id="d61a9-115">As informações de pagamento e o endereço de cobrança são salvos e gerenciados pelo conector de pagamento Adyen.</span><span class="sxs-lookup"><span data-stu-id="d61a9-115">The payment information and billing address are saved and managed via the Adyen payment connector.</span></span>

<span data-ttu-id="d61a9-116">O módulo de pagamento cobre todos os encargos de ordem que ainda não foram cobertos por pontos de fidelidade ou um vale-presente.</span><span class="sxs-lookup"><span data-stu-id="d61a9-116">The payment module covers any order charges that aren't already covered by loyalty points or a gift card.</span></span> <span data-ttu-id="d61a9-117">Se o total de uma ordem for totalmente abrangido por pontos de fidelidade ou créditos de vale-presente, o módulo de pagamento ficará oculto e o cliente poderá fazer o pedido sem ele.</span><span class="sxs-lookup"><span data-stu-id="d61a9-117">If the total for an order is fully covered by loyalty points or gift card credits, the payment module will be hidden, and the customer will be able to place the order without it.</span></span>

<span data-ttu-id="d61a9-118">O conector de pagamento de Adyen também dá suporte à Autenticação de Cliente Forte (SCA).</span><span class="sxs-lookup"><span data-stu-id="d61a9-118">The Adyen payment connector also supports strong customer authentication (SCA).</span></span> <span data-ttu-id="d61a9-119">Parte da Diretiva de Serviços de Pagamento da União Europeia (UE) 2.0 (PSD 2.0) exige que os compradores online sejam autenticados fora da experiência de compra online quando usam um método de pagamento eletrônico.</span><span class="sxs-lookup"><span data-stu-id="d61a9-119">Part of the European Union (EU) Payment Services Directive 2.0 (PSD2.0) requires that online shoppers be authenticated outside their online shopping experience when they use an electronic payment method.</span></span> <span data-ttu-id="d61a9-120">Durante o fluxo check-out, os clientes são redirecionados para o site de banco.</span><span class="sxs-lookup"><span data-stu-id="d61a9-120">During the checkout flow,  customers are redirected to their banking site.</span></span> <span data-ttu-id="d61a9-121">Depois da autenticação, eles são redirecionados novamente para o fluxo de check-out do Commerce.</span><span class="sxs-lookup"><span data-stu-id="d61a9-121">Then, after authentication, they are redirected back to the Commerce checkout flow.</span></span> <span data-ttu-id="d61a9-122">Durante esse redirecionamento, as informações que um cliente inseriu no fluxo de check-out (por exemplo, o endereço de remessa, as opções de entrega, as informações do vale-presente e as informações sobre fidelidade) serão mantidas.</span><span class="sxs-lookup"><span data-stu-id="d61a9-122">During this redirection, the information that a customer entered in the checkout flow (for example, the shipping address, delivery options, gift card information, and loyalty information) will persist.</span></span> <span data-ttu-id="d61a9-123">Para poder ativar este recurso, o conector de pagamento deve ser configurado para o SCA na sede do Commerce.</span><span class="sxs-lookup"><span data-stu-id="d61a9-123">Before you can turn on this feature, the payment connector must be configured for SCA in Commerce headquarters.</span></span> <span data-ttu-id="d61a9-124">Para obter mais informações, consulte [Autenticação de Cliente Forte usando Adyen](adyen_redirect.md).</span><span class="sxs-lookup"><span data-stu-id="d61a9-124">For more information, see [Strong Customer Authentication using Adyen](adyen_redirect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d61a9-125">Para o conector de pagamento da Adyen, o módulo iframe no módulo de pagamento só poderá ser renderizado se você adicionar a URL da Adyen à lista de permissões do seu site.</span><span class="sxs-lookup"><span data-stu-id="d61a9-125">For the Adyen payment connector, the iframe module in the payment module can be rendered only if you add the Adyen URL to your site's allow list.</span></span> <span data-ttu-id="d61a9-126">Para concluir esta etapa, adicione **\*.adyen.com** às diretivas **child-src** , **connect-src** , **img-src** , **script-src** e **style-src** da política de segurança de conteúdo do seu site.</span><span class="sxs-lookup"><span data-stu-id="d61a9-126">To complete this step, add **\*.adyen.com** to the **child-src** , **connect-src** , **img-src** , **script-src** , and **style-src** directives of your site's content security policy.</span></span> <span data-ttu-id="d61a9-127">Para obter mais informações, consulte [Gerenciar a Política de Segurança de Conteúdo](manage-csp.md).</span><span class="sxs-lookup"><span data-stu-id="d61a9-127">For more information, see [Manage Content Security Policy](manage-csp.md).</span></span> 

<span data-ttu-id="d61a9-128">A ilustração a seguir mostra um exemplo de módulos vale-presente, fidelidade e pagamento em uma página de check-out.</span><span class="sxs-lookup"><span data-stu-id="d61a9-128">The following illustration shows an example of gift card, loyalty, and payment modules on a checkout page.</span></span>

![Exemplo de módulos de vale-presente, fidelidade e pagamento em uma página de check-out](./media/ecommerce-payments.PNG)

## <a name="payment-module-properties"></a><span data-ttu-id="d61a9-130">Propriedades de módulo de pagamento</span><span class="sxs-lookup"><span data-stu-id="d61a9-130">Payment module properties</span></span>

| <span data-ttu-id="d61a9-131">Nome da propriedade</span><span class="sxs-lookup"><span data-stu-id="d61a9-131">Property name</span></span> | <span data-ttu-id="d61a9-132">Valores</span><span class="sxs-lookup"><span data-stu-id="d61a9-132">Values</span></span> | <span data-ttu-id="d61a9-133">descrição</span><span class="sxs-lookup"><span data-stu-id="d61a9-133">Description</span></span> |
|---------------|--------|-------------|
| <span data-ttu-id="d61a9-134">Cabeçalho</span><span class="sxs-lookup"><span data-stu-id="d61a9-134">Heading</span></span> | <span data-ttu-id="d61a9-135">Texto do título</span><span class="sxs-lookup"><span data-stu-id="d61a9-135">Heading text</span></span> | <span data-ttu-id="d61a9-136">Um título opcional para o módulo de pagamento.</span><span class="sxs-lookup"><span data-stu-id="d61a9-136">An optional heading for the payment module.</span></span> |
| <span data-ttu-id="d61a9-137">Altura do iFrame</span><span class="sxs-lookup"><span data-stu-id="d61a9-137">Height of the iframe</span></span> | <span data-ttu-id="d61a9-138">Pixels</span><span class="sxs-lookup"><span data-stu-id="d61a9-138">Pixels</span></span> | <span data-ttu-id="d61a9-139">A altura do iFrame, em pixels.</span><span class="sxs-lookup"><span data-stu-id="d61a9-139">The iframe height, in pixels.</span></span> <span data-ttu-id="d61a9-140">A altura pode ser ajustada conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="d61a9-140">The height can be adjusted as required.</span></span> |
| <span data-ttu-id="d61a9-141">Mostrar o endereço de cobrança</span><span class="sxs-lookup"><span data-stu-id="d61a9-141">Show billing address</span></span> | <span data-ttu-id="d61a9-142">**Verdadeiro** ou **Falso**</span><span class="sxs-lookup"><span data-stu-id="d61a9-142">**True** or **False**</span></span> | <span data-ttu-id="d61a9-143">Se esta propriedade for definida como **Verdadeiro** , o endereço de cobrança será fornecido por Adyen no módulo de pagamento iFrame.</span><span class="sxs-lookup"><span data-stu-id="d61a9-143">If this property is set to **True** , the billing address will be served by Adyen inside the payment module iframe.</span></span> <span data-ttu-id="d61a9-144">Se ela estiver definida como **Falso** , o endereço de cobrança não será fornecido por Adyen e um usuário do Commerce deverá configurar um módulo para mostrar o endereço de cobrança na página de check-out.</span><span class="sxs-lookup"><span data-stu-id="d61a9-144">If it's set to **False** , the billing address won't be served by Adyen, and a Commerce user will have to configure a module to show the billing address on the checkout page.</span></span> |
| <span data-ttu-id="d61a9-145">Substituição do estilo de pagamento</span><span class="sxs-lookup"><span data-stu-id="d61a9-145">Payment style override</span></span> | <span data-ttu-id="d61a9-146">Código de folhas de estilo em cascata (CSS)</span><span class="sxs-lookup"><span data-stu-id="d61a9-146">Cascading Style Sheets (CSS) code</span></span> | <span data-ttu-id="d61a9-147">Como o módulo de pagamento está hospedado em um iFrame, há capacidade de estilo limitada.</span><span class="sxs-lookup"><span data-stu-id="d61a9-147">Because the payment module is hosted in an iframe, there is limited styling capability.</span></span> <span data-ttu-id="d61a9-148">Você pode obter algum estilo usando essa propriedade.</span><span class="sxs-lookup"><span data-stu-id="d61a9-148">You can achieve some styling by using this property.</span></span> <span data-ttu-id="d61a9-149">Para substituir estilos de site, você deve colar o código de CSS como o valor dessa propriedade.</span><span class="sxs-lookup"><span data-stu-id="d61a9-149">To override site styles, you must paste the CSS code as the value of this property.</span></span> <span data-ttu-id="d61a9-150">As substituições e os estilos de criação de sites CSS não se aplicam a este módulo.</span><span class="sxs-lookup"><span data-stu-id="d61a9-150">Site builder CSS overrides and styles don't apply to this module.</span></span> |

## <a name="billing-address"></a><span data-ttu-id="d61a9-151">Endereço para cobrança</span><span class="sxs-lookup"><span data-stu-id="d61a9-151">Billing address</span></span>

<span data-ttu-id="d61a9-152">O módulo de pagamento permite que clientes forneçam um endereço de cobrança para as informações de pagamento.</span><span class="sxs-lookup"><span data-stu-id="d61a9-152">The payment module lets customers provide a billing address for their payment information.</span></span> <span data-ttu-id="d61a9-153">Ele também permite que eles usem o endereço de remessa como endereço de cobrança para facilitar e agilizar o fluxo de check-out.</span><span class="sxs-lookup"><span data-stu-id="d61a9-153">It also lets them  use their shipping address as the billing address, to make the checkout flow easier and faster.</span></span> <span data-ttu-id="d61a9-154">Se a propriedade **Mostrar endereço de cobrança** for definida como **Falso** , o módulo de pagamento deverá ser configurado na página de check-out.</span><span class="sxs-lookup"><span data-stu-id="d61a9-154">If the **Show billing address** property is set to **False** , the payment module should be configured on the checkout page.</span></span>

## <a name="add-a-payment-module-to-a-checkout-page-and-set-the-required-properties"></a><span data-ttu-id="d61a9-155">Adicionar um módulo de pagamento para uma página de check-out e definir as propriedades necessárias</span><span class="sxs-lookup"><span data-stu-id="d61a9-155">Add a payment module to a checkout page and set the required properties</span></span>

<span data-ttu-id="d61a9-156">Um módulo de pagamento pode ser adicionado somente a um módulo de check-out.</span><span class="sxs-lookup"><span data-stu-id="d61a9-156">A payment module can be added only to a checkout module.</span></span> <span data-ttu-id="d61a9-157">Para obter mais informações sobre como configurar um módulo de pagamento para uma página de check-out, consulte [Módulo de check-out](add-checkout-module.md).</span><span class="sxs-lookup"><span data-stu-id="d61a9-157">For more information about how to configure a payment module for a checkout page, see [Checkout module](add-checkout-module.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="d61a9-158">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="d61a9-158">Additional resources</span></span>

[<span data-ttu-id="d61a9-159">Módulo de carrinho</span><span class="sxs-lookup"><span data-stu-id="d61a9-159">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="d61a9-160">Módulo de ícone de carrinho</span><span class="sxs-lookup"><span data-stu-id="d61a9-160">Cart icon module</span></span>](cart-icon-module.md)

[<span data-ttu-id="d61a9-161">Módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="d61a9-161">Checkout module</span></span>](add-checkout-module.md)

[<span data-ttu-id="d61a9-162">Módulo do endereço de remessa</span><span class="sxs-lookup"><span data-stu-id="d61a9-162">Shipping address module</span></span>](ship-address-module.md)

[<span data-ttu-id="d61a9-163">Módulo de opções de entrega</span><span class="sxs-lookup"><span data-stu-id="d61a9-163">Delivery options module</span></span>](delivery-options-module.md)

[<span data-ttu-id="d61a9-164">Módulo de detalhes da ordem</span><span class="sxs-lookup"><span data-stu-id="d61a9-164">Order details module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="d61a9-165">Módulo de vale-presente</span><span class="sxs-lookup"><span data-stu-id="d61a9-165">Gift card module</span></span>](add-giftcard.md)

[<span data-ttu-id="d61a9-166">Conector de Pagamento do Dynamics 365 para Adyen</span><span class="sxs-lookup"><span data-stu-id="d61a9-166">Dynamics 365 Payment Connector for Adyen</span></span>](dev-itpro/adyen-connector.md)

[<span data-ttu-id="d61a9-167">Autenticação de Cliente Forte usando o Adyen</span><span class="sxs-lookup"><span data-stu-id="d61a9-167">Strong Customer Authentication using Adyen</span></span>](adyen_redirect.md)
