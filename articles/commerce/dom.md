---
title: Gerenciamento de ordem distribuído (DOM)
description: Este tópico descreve a funcionalidade Gerenciamento de ordem distribuído (DOM) do Dynamics 365 Commerce.
author: josaw1
ms.date: 01/08/2021
ms.topic: index-page
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: f50bc2828df19062a6bdced6faaa7b4d66c38bed
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5792766"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="b6834-103">Gerenciamento de ordem distribuído (DOM)</span><span class="sxs-lookup"><span data-stu-id="b6834-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="b6834-104">No novo paradigma de operações comerciais, os varejistas se esforçam para proporcionar uma relação personalizada com o cliente, experiências omnicanal e interações seguras.</span><span class="sxs-lookup"><span data-stu-id="b6834-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="b6834-105">Como existem muitas opções disponíveis, os consumidores farão suas compras nos locais em que tiverem a experiência mais favorável.</span><span class="sxs-lookup"><span data-stu-id="b6834-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="b6834-106">Em muitos casos, os preços e os produtos não são mais os principais fatores de decisão para os consumidores.</span><span class="sxs-lookup"><span data-stu-id="b6834-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="b6834-107">Para ajudar a melhorar a experiência do cliente, os varejistas devem ter visibilidade do estoque em tempo real, em todos os canais.</span><span class="sxs-lookup"><span data-stu-id="b6834-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="b6834-108">Uma exibição única e global de todo o estoque pode ajudar a otimizar o atendimento, a alocação e a distribuição de ordens.</span><span class="sxs-lookup"><span data-stu-id="b6834-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="b6834-109">Portanto, a adoção e a implementação de um sistema de gerenciamento de ordem distribuído (DOM) estão se tornando mais imprescindíveis para os varejistas.</span><span class="sxs-lookup"><span data-stu-id="b6834-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="b6834-110">O DOM otimiza o atendimento da ordem em uma rede complexa de sistemas e processos.</span><span class="sxs-lookup"><span data-stu-id="b6834-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="b6834-111">Ele conta com uma visão única e global do estoque em toda a organização para gerenciar ordens de forma inteligente, para que sejam atendidas com precisão e economia.</span><span class="sxs-lookup"><span data-stu-id="b6834-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="b6834-112">Melhorando a eficiência da cadeia de suprimentos de um varejista, o DOM ajuda o varejista a satisfazer melhor as expectativas do cliente.</span><span class="sxs-lookup"><span data-stu-id="b6834-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="b6834-113">A ilustração a seguir mostra o ciclo de vida de uma ordem de venda em um sistema de DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="b6834-114">![Ciclo de vida da ordem de venda no contexto de DOM](./media/flow.png "Ciclo de vida da ordem de venda no contexto do DOM")</span><span class="sxs-lookup"><span data-stu-id="b6834-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="b6834-115">Configurar DOM</span><span class="sxs-lookup"><span data-stu-id="b6834-115">Set up DOM</span></span>

1. <span data-ttu-id="b6834-116">Vá para **Administração de sistema \> Configurar \> Configuração de licença**.</span><span class="sxs-lookup"><span data-stu-id="b6834-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="b6834-117">Na guia **Chaves de configuração**, expanda o nó **Commerce** e marque a caixa de seleção **Gerenciamento de ordem distribuído**.</span><span class="sxs-lookup"><span data-stu-id="b6834-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="b6834-118">Vá para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Configuração \> Parâmetros de DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="b6834-119">Na guia **Geral**, defina os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="b6834-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="b6834-120">**Habilite o gerenciamento de ordem distribuído** – Defina esta opção como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="b6834-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="b6834-121">**Confirmar o uso do Bing Mapas para DOM** – Defina esta opção como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="b6834-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>


        > [!NOTE]
        > <span data-ttu-id="b6834-122">Você poderá definir esta opção como **Sim** somente se a opção **Habilitar Bing Mapas** na guia **Bing Mapas** da página **Parâmetros compartilhados de comércio** (**Retail e Commerce \> Configuração de sedes \> Parâmetros \> Parâmetros compartilhados do Commerce**) também estiver configurada como **Sim** e se uma chave válida for inserida no campo **Chave do Bing Mapas**.</span><span class="sxs-lookup"><span data-stu-id="b6834-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>
        >
        > <span data-ttu-id="b6834-123">No portal [Centro de Desenvolvedores do Bing Mapas](https://www.bingmapsportal.com/), você pode restringir o acesso nas chaves de API do Bing Mapas a um conjunto de domínios especificados.</span><span class="sxs-lookup"><span data-stu-id="b6834-123">The [Bing Maps Dev Center](https://www.bingmapsportal.com/) portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify.</span></span> <span data-ttu-id="b6834-124">Com este recurso, os clientes podem definir um conjunto estrito de valores de referenciais ou intervalos de endereços IP para os quais a chave será validada.</span><span class="sxs-lookup"><span data-stu-id="b6834-124">With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against.</span></span> <span data-ttu-id="b6834-125">As solicitações originadas na sua lista de permissões serão processadas normalmente, enquanto as solicitações de fora da lista retornarão uma resposta de acesso negado.</span><span class="sxs-lookup"><span data-stu-id="b6834-125">Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response.</span></span> <span data-ttu-id="b6834-126">A adição da segurança de domínio à chave da API é opcional e as chaves não alteradas continuarão funcionando.</span><span class="sxs-lookup"><span data-stu-id="b6834-126">Adding domain security to your API key is optional and keys left as-is will continue to function.</span></span> <span data-ttu-id="b6834-127">A lista de permissões para uma chave é independente de todas as outras chaves, permitindo que você tenha regras distintas para cada uma delas.</span><span class="sxs-lookup"><span data-stu-id="b6834-127">The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys.</span></span> <span data-ttu-id="b6834-128">O Gerenciamento de Ordem Distribuído não é compatível com a configuração de propriedades referidas pelo domínio.</span><span class="sxs-lookup"><span data-stu-id="b6834-128">Distributed Order Management does not support the setting up of domain-referred properties.</span></span>


    - <span data-ttu-id="b6834-129">**Período de retenção em dias** – Especifique por quanto tempo os planos de atendimento que as execuções do DOM geram são mantidos no sistema.</span><span class="sxs-lookup"><span data-stu-id="b6834-129">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="b6834-130">O trabalho em lotes da **configuração de trabalho de exclusão de dados de atendimento do DOM** excluirá qualquer plano de atendimento que tenha excedido o número de dias especificado aqui.</span><span class="sxs-lookup"><span data-stu-id="b6834-130">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="b6834-131">**Período de rejeição (em dias)** – Especifique quanto tempo deve passar para que uma linha da ordem rejeitada possa ser atribuída ao mesmo local.</span><span class="sxs-lookup"><span data-stu-id="b6834-131">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="b6834-132">Na guia **Agente de resolução**, defina os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="b6834-132">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="b6834-133">**Máximo de tentativas de atendimento automático** – Especifique quantas vezes o mecanismo de DOM tentará agenciar uma linha da ordem para um local.</span><span class="sxs-lookup"><span data-stu-id="b6834-133">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="b6834-134">Se o mecanismo de DOM não conseguir agenciar uma linha da ordem para um local em determinando número de tentativas, marcará a linha da ordem como uma exceção.</span><span class="sxs-lookup"><span data-stu-id="b6834-134">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="b6834-135">Ele vai ignorar essa linha nas execuções futuras até que o status seja redefinido manualmente.</span><span class="sxs-lookup"><span data-stu-id="b6834-135">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="b6834-136">**Raio de lojas locais na região** – Insira um valor.</span><span class="sxs-lookup"><span data-stu-id="b6834-136">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="b6834-137">Este campo ajuda a determinar como os locais são agrupados e considerados iguais em termos de distância.</span><span class="sxs-lookup"><span data-stu-id="b6834-137">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="b6834-138">Por exemplo, se você inserir **161**, todas as loja ou centros de distribuição no raio do 161 km do endereço de atendimento serão considerados iguais em termos da distância.</span><span class="sxs-lookup"><span data-stu-id="b6834-138">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="b6834-139">**Tipo de agente de resolução** – Selecione um valor.</span><span class="sxs-lookup"><span data-stu-id="b6834-139">**Solver type** – Select a value.</span></span> <span data-ttu-id="b6834-140">Dois tipos de agentes da resolução foram liberados com o Commerce: **Agente de Resolução de Produção** e **Agente de Resolução Simplificado**.</span><span class="sxs-lookup"><span data-stu-id="b6834-140">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="b6834-141">Para todos os computadores que executarão o DOM (ou seja, todos os servidores que fazem parte do grupo DOMBatch), o **Agente de Resolução de Produção** deve estar selecionado.</span><span class="sxs-lookup"><span data-stu-id="b6834-141">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="b6834-142">O Agente de Resolução de Produção exige a chave de licença especial que, por padrão, é licenciada e implantada em ambientes de produção.</span><span class="sxs-lookup"><span data-stu-id="b6834-142">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="b6834-143">Para ambientes de não produção, essa chave de licença deve ser implantada manualmente.</span><span class="sxs-lookup"><span data-stu-id="b6834-143">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="b6834-144">Para implantar manualmente a chave de licença, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="b6834-144">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="b6834-145">No Microsoft Dynamics Lifecycle Services, abra a Biblioteca de ativos compartilhados, selecione **Modelo** como o tipo de ativo e baixe o arquivo **Licença do DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-145">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        1. <span data-ttu-id="b6834-146">Inicie o Gerenciador dos Serviços de Informações da Internet (IIS) da Microsoft, clique com o botão direito do mouse no **Site de Serviço do AOS** e selecione **Explorar**.</span><span class="sxs-lookup"><span data-stu-id="b6834-146">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="b6834-147">Uma janela do Windows Explorer será aberta em **\<AOS service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="b6834-147">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="b6834-148">Anote o caminho da \<AOS Service root\>, porque ele será usado na próxima etapa.</span><span class="sxs-lookup"><span data-stu-id="b6834-148">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        1. <span data-ttu-id="b6834-149">Copie o arquivo de configuração no diretório **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.</span><span class="sxs-lookup"><span data-stu-id="b6834-149">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        1. <span data-ttu-id="b6834-150">Acesse o cliente do Headquarters e abra a página **Parâmetros do DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-150">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="b6834-151">Na guia **Agente de Resolução**, no campo **Tipo de Agente de Resolução**, selecione **Agente de Resolução de Produção** e confirme que nenhuma mensagem de erro aparecerá.</span><span class="sxs-lookup"><span data-stu-id="b6834-151">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>


        > [!NOTE]
        > <span data-ttu-id="b6834-152">O Agente de Resolução Simplificado é fornecido para que os varejistas possam experimentar o recurso DOM sem precisarem implantar a licença especial.</span><span class="sxs-lookup"><span data-stu-id="b6834-152">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="b6834-153">As organizações não devem usar o Agente de Resolução Simplificado em ambientes de produção.</span><span class="sxs-lookup"><span data-stu-id="b6834-153">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="b6834-154">O Agente de Resolução de Produção melhora o desempenho (como o número de ordens e linhas de ordem que podem ser processadas em uma execução) e da convergência de resultados (já que um lote de ordens pode não produzir os melhores resultados em alguns cenários).</span><span class="sxs-lookup"><span data-stu-id="b6834-154">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios).</span></span> <span data-ttu-id="b6834-155">Algumas regras, como a regra de **Ordens parciais** e a de **Número máximo de localizações**, exigem o Agente de Resolução de Produção.</span><span class="sxs-lookup"><span data-stu-id="b6834-155">Some rules like the **Partial orders** rule and the **Maximum number of locations** rule require Production Solver.</span></span>
     
6. <span data-ttu-id="b6834-156">Volte para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Configuração \> Parâmetros de DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-156">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="b6834-157">Na guia **Sequências numéricas**, atribua as sequências numéricas necessárias às várias entidades de DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-157">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b6834-158">Para que as sequências numéricas possam ser atribuídas às entidades, elas devem ser definidas na página **Sequências numéricas** (**Administração da organização \> Sequências numéricas \> Sequências numéricas**).</span><span class="sxs-lookup"><span data-stu-id="b6834-158">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="b6834-159">O recurso DOM tem suporte para a definição de vários tipos de regras do DOM, e as organizações podem configurar várias regras, dependendo de suas necessidades empresariais.</span><span class="sxs-lookup"><span data-stu-id="b6834-159">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="b6834-160">As regras do DOM podem ser definidas para um grupo de locais ou para locais individuais, e para uma categoria de produtos, um produto ou uma grade específicos.</span><span class="sxs-lookup"><span data-stu-id="b6834-160">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="b6834-161">Para criar o agrupamento de locais que devem ser usados para as regras do DOM, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="b6834-161">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="b6834-162">Vá para **Retail e Commerce \> Configuração de canal \> Grupos de atendimento**.</span><span class="sxs-lookup"><span data-stu-id="b6834-162">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="b6834-163">Selecione **Novo** e digite um nome e uma descrição para o novo grupo.</span><span class="sxs-lookup"><span data-stu-id="b6834-163">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="b6834-164">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="b6834-164">Select **Save**.</span></span>
    4. <span data-ttu-id="b6834-165">Selecione **Adicionar linha** para adicionar um único local ao grupo.</span><span class="sxs-lookup"><span data-stu-id="b6834-165">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="b6834-166">Como alternativa, selecione **Adicionar linhas** para adicionar vários locais.</span><span class="sxs-lookup"><span data-stu-id="b6834-166">Alternatively, select **Add lines** to add multiple locations.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="b6834-167">Na versão 10.0.12 e posterior do Commerce, a opção **Capacidade para especificar locais como "Remessa" ou "Retirada" no Grupo de atendimento** deve estar habilitada na espaço de trabalho **Gerenciamento de Recursos**.</span><span class="sxs-lookup"><span data-stu-id="b6834-167">In Commerce version 10.0.12 and higher, **Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group** must be enabled in the **Feature Management** workspace.</span></span>
    >
    > <span data-ttu-id="b6834-168">Este recurso adiciona novas configurações na página **Grupo de atendimento** para que você possa definir se o depósito pode ser usado para remessa ou se a combinação de depósito/armazenamento pode ser usada para remessa, retirada ou as duas opções.</span><span class="sxs-lookup"><span data-stu-id="b6834-168">This feature add new configurations on the **Fulfillment group** page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</span></span> 
    >
    > <span data-ttu-id="b6834-169">Se você habilitar o recurso, as opções disponíveis para a seleção de local quando você criar ordens de remessa ou retiradas no PDV serão atualizadas.</span><span class="sxs-lookup"><span data-stu-id="b6834-169">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</span></span>
    >
    > <span data-ttu-id="b6834-170">A habilitação do recurso também resulta em páginas atualizadas no PDV quando as operações "remeter tudo" ou "remeter selecionado" são selecionadas.</span><span class="sxs-lookup"><span data-stu-id="b6834-170">Enabling the feature also results in updated pages in POS when the "ship all" or "ship selected" operations are selected.</span></span>

9. <span data-ttu-id="b6834-171">Para definir regras, vá para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Configurar \> Gerenciar regras**.</span><span class="sxs-lookup"><span data-stu-id="b6834-171">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="b6834-172">Há suporte para as seguintes regras do DOM atualmente:</span><span class="sxs-lookup"><span data-stu-id="b6834-172">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="b6834-173">**Regra de estoque mínimo** – Este tipo de regra permite que as organizações restrinjam uma quantidade específica de um produto para fins diferentes do atendimento da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-173">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="b6834-174">Por exemplo, as organizações podem não querer que o DOM considere todo o estoque disponível em uma loja para o atendimento de ordens.</span><span class="sxs-lookup"><span data-stu-id="b6834-174">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="b6834-175">Em vez disso, talvez queiram reservar parte do estoque para os clientes que visitam as lojas.</span><span class="sxs-lookup"><span data-stu-id="b6834-175">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="b6834-176">Quando esse tipo de regra for usado, você poderá definir um estoque mínimo para manter para uma categoria de produtos, um produto individual ou uma grade de produto por local ou grupo de locais.</span><span class="sxs-lookup"><span data-stu-id="b6834-176">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="b6834-177">**Regra de prioridade de local de atendimento** – Este tipo de regra permite que as organizações definam uma hierarquia de locais para estabelecer a prioridade que o mecanismo de DOM considera quando tenta identificar locais de atendimento para produtos específicos.</span><span class="sxs-lookup"><span data-stu-id="b6834-177">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="b6834-178">O intervalo de validade das prioridades vai de 1 a 10, onde 1 é a maior prioridade e 10 a menor.</span><span class="sxs-lookup"><span data-stu-id="b6834-178">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="b6834-179">Os locais com as prioridades mais altas são considerados antes dos locais com as prioridades mais baixas.</span><span class="sxs-lookup"><span data-stu-id="b6834-179">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="b6834-180">Se a regra for definida como uma regra de restrição rígida, as ordens serão agenciadas somente para locais para os quais as prioridades estão definidas.</span><span class="sxs-lookup"><span data-stu-id="b6834-180">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="b6834-181">**Regra de ordens parciais** – Esta regra permite que as organizações definam se uma ordem ou linhas de ordem podem ser parcialmente atendidas.</span><span class="sxs-lookup"><span data-stu-id="b6834-181">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="b6834-182">Estão disponíveis os seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="b6834-182">The following parameters are available:</span></span>

        - <span data-ttu-id="b6834-183">**Atender ordens parciais?**</span><span class="sxs-lookup"><span data-stu-id="b6834-183">**Fulfill partial orders?**</span></span> <span data-ttu-id="b6834-184">– Se essa opção estiver definida como **Sim**, o DOM poderá atender apenas parte da quantidade em uma linha da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-184">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="b6834-185">Esse atendimento parcial é obtido pela divisão da linha da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-185">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="b6834-186">**Atender linhas parciais?**</span><span class="sxs-lookup"><span data-stu-id="b6834-186">**Fulfill partial lines?**</span></span> <span data-ttu-id="b6834-187">– Se essa opção estiver definida como **Sim**, o DOM poderá atender uma quantidade parcial de linhas da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-187">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="b6834-188">Esse atendimento parcial é obtido pela divisão da linha da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-188">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="b6834-189">**Atender a ordem apenas de um local** – Se essa opção estiver definida como **Sim**, o DOM fará com que todas as linhas em uma ordem sejam atendidas em um único local.</span><span class="sxs-lookup"><span data-stu-id="b6834-189">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="b6834-190">A tabela a seguir explica o comportamento quando uma combinação desses parâmetros é definida.</span><span class="sxs-lookup"><span data-stu-id="b6834-190">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        | <span data-ttu-id="b6834-191">Número de combinação</span><span class="sxs-lookup"><span data-stu-id="b6834-191">Combination number</span></span> | <span data-ttu-id="b6834-192">Atender ordens parciais</span><span class="sxs-lookup"><span data-stu-id="b6834-192">Fulfill partial orders</span></span> | <span data-ttu-id="b6834-193">Atender linhas parciais</span><span class="sxs-lookup"><span data-stu-id="b6834-193">Fulfill partial lines</span></span> | <span data-ttu-id="b6834-194">Atender a ordem somente de um local</span><span class="sxs-lookup"><span data-stu-id="b6834-194">Fulfill order from one location only</span></span> | <span data-ttu-id="b6834-195">Descrição</span><span class="sxs-lookup"><span data-stu-id="b6834-195">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="b6834-196">1</span><span class="sxs-lookup"><span data-stu-id="b6834-196">1</span></span>    | <span data-ttu-id="b6834-197">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-197">Yes</span></span>                    | <span data-ttu-id="b6834-198">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-198">Yes</span></span>                   | <span data-ttu-id="b6834-199">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-199">Yes</span></span>                                  | <span data-ttu-id="b6834-200">Algumas linhas da ordem podem ser atendidas, e as linhas individuais podem ser parcialmente atendidas, mas todas as linhas devem ser do mesmo local em uma instância da execução do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-200">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="b6834-201">(Essa combinação não é suportada atualmente.)</span><span class="sxs-lookup"><span data-stu-id="b6834-201">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="b6834-202">2</span><span class="sxs-lookup"><span data-stu-id="b6834-202">2</span></span>    | <span data-ttu-id="b6834-203">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-203">Yes</span></span>                    | <span data-ttu-id="b6834-204">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-204">No</span></span>                    | <span data-ttu-id="b6834-205">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-205">Yes</span></span>                                  | <span data-ttu-id="b6834-206">Algumas linhas da ordem podem ser atendidas, mas as linhas individuais não podem ser parcialmente atendidas, e todas as linhas atendidas devem ser do mesmo local em uma instância da execução do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-206">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="b6834-207">(Essa combinação não é suportada atualmente.)</span><span class="sxs-lookup"><span data-stu-id="b6834-207">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="b6834-208">3</span><span class="sxs-lookup"><span data-stu-id="b6834-208">3</span></span>    | <span data-ttu-id="b6834-209">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-209">Yes</span></span>                    | <span data-ttu-id="b6834-210">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-210">Yes</span></span>                   | <span data-ttu-id="b6834-211">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-211">No</span></span>                                   | <span data-ttu-id="b6834-212">Algumas linhas da ordem podem ser atendidas, linhas individuais podem ser parcialmente atendidas, e cada linha pode ser atendida de mais de um local em uma instância de execução do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-212">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="b6834-213">4\*</span><span class="sxs-lookup"><span data-stu-id="b6834-213">4\*</span></span>  | <span data-ttu-id="b6834-214">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-214">No</span></span>                     | <span data-ttu-id="b6834-215">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="b6834-215">Not applicable</span></span>        | <span data-ttu-id="b6834-216">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-216">No</span></span>                                   | <span data-ttu-id="b6834-217">Todas as linhas da ordem devem ser atendidas, as linhas individuais não podem ser parcialmente atendidas, e cada linha da ordem pode ser atendida de um local diferente.</span><span class="sxs-lookup"><span data-stu-id="b6834-217">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="b6834-218">5\*</span><span class="sxs-lookup"><span data-stu-id="b6834-218">5\*</span></span>  | <span data-ttu-id="b6834-219">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-219">No</span></span>                     | <span data-ttu-id="b6834-220">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="b6834-220">Not applicable</span></span>        | <span data-ttu-id="b6834-221">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-221">Yes</span></span>                                  | <span data-ttu-id="b6834-222">Todas as linhas da ordem devem ser atendidas, as linhas individuais não podem ser parcialmente atendidas, e todas as linhas da ordem podem ser entregues somente por um local.</span><span class="sxs-lookup"><span data-stu-id="b6834-222">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="b6834-223">6\*</span><span class="sxs-lookup"><span data-stu-id="b6834-223">6\*</span></span>  | <span data-ttu-id="b6834-224">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-224">No</span></span>                     | <span data-ttu-id="b6834-225">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="b6834-225">Not applicable</span></span>        | <span data-ttu-id="b6834-226">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-226">No</span></span>                                   | <span data-ttu-id="b6834-227">Essa combinação funciona como a combinação 4, pois **Atender linhas parciais** não pode ser definido como **Sim** quando **Atender ordens parciais** está definido como **Não**.</span><span class="sxs-lookup"><span data-stu-id="b6834-227">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="b6834-228">7\*</span><span class="sxs-lookup"><span data-stu-id="b6834-228">7\*</span></span>  | <span data-ttu-id="b6834-229">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-229">No</span></span>                     | <span data-ttu-id="b6834-230">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="b6834-230">Not applicable</span></span>        | <span data-ttu-id="b6834-231">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-231">Yes</span></span>                                  | <span data-ttu-id="b6834-232">Essa combinação funciona como a combinação 5, pois **Atender linhas parciais** não pode ser definido como **Sim** quando **Atender ordens parciais** está definido como **Não**.</span><span class="sxs-lookup"><span data-stu-id="b6834-232">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="b6834-233">8</span><span class="sxs-lookup"><span data-stu-id="b6834-233">8</span></span>    | <span data-ttu-id="b6834-234">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-234">Yes</span></span>                    | <span data-ttu-id="b6834-235">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-235">No</span></span>                    | <span data-ttu-id="b6834-236">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-236">No</span></span>                                   | <span data-ttu-id="b6834-237">Algumas linhas da ordem podem ser atendidas, mas as linhas individuais não podem ser parcialmente atendidas, e as várias linhas da ordem podem ser atendidas por mais de um local em uma instância da execução do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-237">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="b6834-238">9\*</span><span class="sxs-lookup"><span data-stu-id="b6834-238">9\*</span></span>  | <span data-ttu-id="b6834-239">Não</span><span class="sxs-lookup"><span data-stu-id="b6834-239">No</span></span>                     | <span data-ttu-id="b6834-240">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="b6834-240">Not applicable</span></span>        | <span data-ttu-id="b6834-241">Sim</span><span class="sxs-lookup"><span data-stu-id="b6834-241">Yes</span></span>                                  | <span data-ttu-id="b6834-242">Todas as linhas da ordem devem ser atendidas, e todas as linhas da ordem devem ser atendidas somente por um local.</span><span class="sxs-lookup"><span data-stu-id="b6834-242">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="b6834-243">\* Se a opção **Atender ordens parciais** estiver definida como **Não**, a opção **Atender linhas parciais** será sempre considerada definida como **Não**, independentemente de como foi definida de fato.</span><span class="sxs-lookup"><span data-stu-id="b6834-243">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="b6834-244">Na versão de 10.0.5 do Retail, o parâmetro **Atender a ordem somente de um local** foi alterado para **Máximo de locais de atendimento**.</span><span class="sxs-lookup"><span data-stu-id="b6834-244">In Retail version 10.0.5, the parameter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="b6834-245">Em vez de permitir que um usuário configure se as ordens podem ser atendidas somente de um local ou ser atendidas do máximo de locais possível, os usuários agora podem especificar se o atendimento pode ser de um conjunto de locais definido (até 5) ou do máximo de locais possível.</span><span class="sxs-lookup"><span data-stu-id="b6834-245">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="b6834-246">Isso proporciona mais flexibilidade em termos de a partir de quantos locais a ordem pode ser atendida.</span><span class="sxs-lookup"><span data-stu-id="b6834-246">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span> <span data-ttu-id="b6834-247">Esta regra só funciona com o Agente de Resolução de Produção.</span><span class="sxs-lookup"><span data-stu-id="b6834-247">This rule only works with Production Solver.</span></span> 

   - <span data-ttu-id="b6834-248">**Regra de local de atendimento offline** – Esta regra permite que as organizações especifiquem um local ou grupo de locais como offline ou indisponível para o DOM, para que as ordens não possam ser atribuídas a esses locais para atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-248">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="b6834-249">**Regra de máximo de rejeições** – Esta regra permite que as organizações definam um limite para rejeições.</span><span class="sxs-lookup"><span data-stu-id="b6834-249">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="b6834-250">Quando o limite é atingido, o processador do DOM marca uma ordem ou uma linha da ordem como uma exceção, e a exclui do processamento futuro.</span><span class="sxs-lookup"><span data-stu-id="b6834-250">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="b6834-251">Depois que as linhas da ordem são atribuídas a um local, o local pode rejeitar uma linha de ordem atribuída, pois pode não conseguir atender essa linha por algumas razões.</span><span class="sxs-lookup"><span data-stu-id="b6834-251">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="b6834-252">As linhas rejeitadas são marcadas como uma exceção e colocadas novamente no pool para processamento na próxima execução.</span><span class="sxs-lookup"><span data-stu-id="b6834-252">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="b6834-253">Durante a próxima execução, o DOM tentará atribuir a linha rejeitada a um local diferente.</span><span class="sxs-lookup"><span data-stu-id="b6834-253">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="b6834-254">O novo local também pode rejeitar a linha da ordem atribuída.</span><span class="sxs-lookup"><span data-stu-id="b6834-254">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="b6834-255">Esse ciclo de atribuição e rejeição pode ocorrer várias vezes.</span><span class="sxs-lookup"><span data-stu-id="b6834-255">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="b6834-256">Quando a contagem de rejeição bater o limite definido, o DOM marcará a linha da ordem como uma exceção permanente e não escolherá a linha para atribuição novamente.</span><span class="sxs-lookup"><span data-stu-id="b6834-256">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="b6834-257">O DOM só vai considerar novamente a linha da ordem para reatribuição se um usuário redefinir manualmente o status da linha da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-257">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="b6834-258">**Regra da distância máxima** – Esta regra permite às organizações definir a distância máxima que um local ou um grupo de locais pode estar para que a ordem seja atendida.</span><span class="sxs-lookup"><span data-stu-id="b6834-258">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="b6834-259">Se forem definidas para um local regras de distância máxima sobrepostas, o DOM aplicará a menor distância máxima definida para esse local.</span><span class="sxs-lookup"><span data-stu-id="b6834-259">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="b6834-260">**Regra de máximo de ordens** – Esta regra permite que as organizações definam o número máximo de ordens que um local ou um grupo de locais pode processar durante um dia de calendário.</span><span class="sxs-lookup"><span data-stu-id="b6834-260">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="b6834-261">Se o número máximo de ordens for atribuído a um local em um único dia, o DOM não atribuirá nenhuma outra ordem para esse local durante o restante do dia de calendário.</span><span class="sxs-lookup"><span data-stu-id="b6834-261">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="b6834-262">Aqui estão alguns atributos comuns que podem ser definidos para todos os tipos de regras acima:</span><span class="sxs-lookup"><span data-stu-id="b6834-262">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="b6834-263">**Data inicial** e **Data final** – Todas as regra podem ser atribuídas a uma data efetiva usando esses campos.</span><span class="sxs-lookup"><span data-stu-id="b6834-263">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="b6834-264">**Desabilitado** – Apenas as regras com um valor **Não** para este campo são consideradas em uma execução do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-264">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="b6834-265">**Restrição rígida** – Uma regra pode ser definida como uma restrição rígida ou uma restrição não rígida.</span><span class="sxs-lookup"><span data-stu-id="b6834-265">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="b6834-266">Todas as execuções do DOM passam por duas iterações.</span><span class="sxs-lookup"><span data-stu-id="b6834-266">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="b6834-267">Na primeira iteração, todas as regras são tratadas como uma regra de restrição rígida, independentemente da configuração deste campo.</span><span class="sxs-lookup"><span data-stu-id="b6834-267">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="b6834-268">Ou seja, todas as regras se aplicam.</span><span class="sxs-lookup"><span data-stu-id="b6834-268">In other words, every rule is applied.</span></span> <span data-ttu-id="b6834-269">A única exceção é a regra **Prioridade do local**.</span><span class="sxs-lookup"><span data-stu-id="b6834-269">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="b6834-270">Na segunda iteração, as regras que não foram definidas como regras de restrição rígidas serão removidas, e a ordem ou linhas da ordem que não foram atribuídas a locais quando todas as regras foram aplicadas serão atribuídas a locais.</span><span class="sxs-lookup"><span data-stu-id="b6834-270">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="b6834-271">Os perfis de atendimento são usados para agrupar um conjunto de regras, entidades legais, origens de ordem de venda e modos de entrega.</span><span class="sxs-lookup"><span data-stu-id="b6834-271">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="b6834-272">Todas as execuções do DOM são para um perfil de atendimento específico.</span><span class="sxs-lookup"><span data-stu-id="b6834-272">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="b6834-273">Assim, as organizações podem definir e executar um conjunto de regras para um conjunto de entidades legais, em ordens que têm origens de ordem de venda e modos de entrega específicos.</span><span class="sxs-lookup"><span data-stu-id="b6834-273">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="b6834-274">Portanto, se diferentes conjuntos de regras devem ser executados para diferentes conjuntos de origens de ordem de venda ou modos de entrega, os perfis de atendimento podem ser definidos de acordo.</span><span class="sxs-lookup"><span data-stu-id="b6834-274">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="b6834-275">Para configurar perfis de atendimento, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="b6834-275">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="b6834-276">Vá para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Configuração \> Perfil de atendimento**.</span><span class="sxs-lookup"><span data-stu-id="b6834-276">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="b6834-277">Selecione **Novo**.</span><span class="sxs-lookup"><span data-stu-id="b6834-277">Select **New**.</span></span>
    3. <span data-ttu-id="b6834-278">Insira os valores nos campos **Perfil** e **Descrição**.</span><span class="sxs-lookup"><span data-stu-id="b6834-278">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="b6834-279">Defina a opção **Aplicar resultado automaticamente**.</span><span class="sxs-lookup"><span data-stu-id="b6834-279">Set the **Auto apply result** option.</span></span> <span data-ttu-id="b6834-280">Se você definir essa opção como **Sim**, os resultados da execução do DOM para o perfil serão aplicados automaticamente nas linhas da ordem de venda.</span><span class="sxs-lookup"><span data-stu-id="b6834-280">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="b6834-281">Se definir como **Não**, os resultados só poderão ser vistos no plano de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-281">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="b6834-282">Não serão aplicados nas linhas da ordem de venda.</span><span class="sxs-lookup"><span data-stu-id="b6834-282">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="b6834-283">Se quiser que o perfil DOM seja executado para ordens que tenham cada origem de ordem de venda, incluindo ordens em que a origem da ordem de venda seja indefinida, defina a opção **Processar ordens com origem de vendas vazia** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="b6834-283">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="b6834-284">Para executar o perfil para apenas algumas origens de ordem de venda, você pode defini-las na página **Origens de venda**, conforme explicado posteriormente.</span><span class="sxs-lookup"><span data-stu-id="b6834-284">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b6834-285">Na versão 10.0.12 e posterior do Commerce, a opção **Capacidade de atribuir Grupo de atendimento a um Perfil de atendimento** deve ser habilitada na espaço de trabalho **Gerenciamento de recursos**.</span><span class="sxs-lookup"><span data-stu-id="b6834-285">In Commerce version 10.0.12 and higher, **Ability to assign Fulfillment group to a Fulfillment Profile** must be enabled in the **Feature Management** workspace.</span></span> 
    >
    > <span data-ttu-id="b6834-286">Este recurso adiciona uma nova configuração na página **Perfil de atendimento** que pode ser associada a um único Grupo de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-286">This feature adds a new configuration on the **Fulfillment profile** page that can be associated to a single fulfilment group.</span></span> 
    >
    > <span data-ttu-id="b6834-287">Se você selecionar o Grupo de atendimento, as regras DOM desse Perfil de atendimento serão executadas com eficiência nos depósitos de "remessa" incluídos no Grupo de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-287">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the "shipping" warehouses included in the fulfilment group.</span></span> 
    > 
    > <span data-ttu-id="b6834-288">Para usar esse recurso com eficiência, verifique se há um Grupo de atendimento que contenha todos os depósitos de remessa e associe o Grupo de atendimento ao Perfil de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-288">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</span></span>
    
    6. <span data-ttu-id="b6834-289">Na FastTab **Entidades legais**, selecione **Adicionar** e depois selecione uma entidade legal.</span><span class="sxs-lookup"><span data-stu-id="b6834-289">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="b6834-290">Na FastTab **Regras**, selecione **Adicionar** e depois selecione a regra para vincular ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b6834-290">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="b6834-291">Repita as duas etapas anteriores até que todas as regras necessárias sejam associadas ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b6834-291">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="b6834-292">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="b6834-292">Select **Save**.</span></span>
    10. <span data-ttu-id="b6834-293">No Painel de Ações, na guia **Configuração**, selecione **Modos de entrega**.</span><span class="sxs-lookup"><span data-stu-id="b6834-293">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="b6834-294">Na página **Modos de entrega**, selecione **Novo**.</span><span class="sxs-lookup"><span data-stu-id="b6834-294">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="b6834-295">No campo **Empresa**, selecione a entidade legal.</span><span class="sxs-lookup"><span data-stu-id="b6834-295">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="b6834-296">A lista de empresas está limitada às entidades legais que você adicionou anteriormente.</span><span class="sxs-lookup"><span data-stu-id="b6834-296">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="b6834-297">No campo **Modo de entrega**, selecione o modo de entrega para associar a este perfil.</span><span class="sxs-lookup"><span data-stu-id="b6834-297">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="b6834-298">Um modo de entrega não pode ser associado a vários perfis ativos.</span><span class="sxs-lookup"><span data-stu-id="b6834-298">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="b6834-299">Repita as duas etapas anteriores até que todos os modos de entrega necessários sejam associados ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b6834-299">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="b6834-300">Feche a página **Modos de entrega**.</span><span class="sxs-lookup"><span data-stu-id="b6834-300">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="b6834-301">No Painel de Ações, na guia **Configuração**, selecione **Origens de ordem de venda**.</span><span class="sxs-lookup"><span data-stu-id="b6834-301">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="b6834-302">Na página **Origens de venda** , selecione **Novo**.</span><span class="sxs-lookup"><span data-stu-id="b6834-302">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="b6834-303">No campo **Empresa**, selecione a entidade legal.</span><span class="sxs-lookup"><span data-stu-id="b6834-303">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="b6834-304">A lista de empresas está limitada às entidades legais que você adicionou anteriormente.</span><span class="sxs-lookup"><span data-stu-id="b6834-304">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="b6834-305">No campo **Origem de venda**, selecione a origem de venda para associar a este perfil.</span><span class="sxs-lookup"><span data-stu-id="b6834-305">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="b6834-306">Uma origem de venda não pode ser associada a vários perfis ativos.</span><span class="sxs-lookup"><span data-stu-id="b6834-306">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="b6834-307">Repita as duas etapas anteriores até que todas as origens de venda necessárias sejam associadas ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b6834-307">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="b6834-308">Feche a página **Origens de vendas**.</span><span class="sxs-lookup"><span data-stu-id="b6834-308">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="b6834-309">Defina a opção **Habilitar o perfil** como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="b6834-309">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="b6834-310">Se houver algum erro na instalação, você receberá uma mensagem de aviso.</span><span class="sxs-lookup"><span data-stu-id="b6834-310">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="b6834-311">DOM em processamento</span><span class="sxs-lookup"><span data-stu-id="b6834-311">DOM processing</span></span>

<span data-ttu-id="b6834-312">O DOM só será executado em um trabalho em lotes.</span><span class="sxs-lookup"><span data-stu-id="b6834-312">DOM will run only in a batch job.</span></span> <span data-ttu-id="b6834-313">Para configurar o trabalho em lotes para execuções do DOM, siga as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="b6834-313">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="b6834-314">Vá para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Processamento em lotes \> Configuração de trabalhos do processador de DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-314">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="b6834-315">Na FastTab **Parâmetros**, no campo **Perfil de atendimento**, selecione um perfil para o qual o DOM tem de ser executado.</span><span class="sxs-lookup"><span data-stu-id="b6834-315">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="b6834-316">Na FastTab **Executar em segundo plano**, no campo **Grupo de lotes**, selecione um grupo de lotes configurado.</span><span class="sxs-lookup"><span data-stu-id="b6834-316">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="b6834-317">No campo **Descrição da tarefa**, insira um nome para o trabalho em lotes.</span><span class="sxs-lookup"><span data-stu-id="b6834-317">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="b6834-318">Selecione **Recorrência**, e defina a recorrência do trabalho em lotes.</span><span class="sxs-lookup"><span data-stu-id="b6834-318">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="b6834-319">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="b6834-319">Select **OK**.</span></span>

<span data-ttu-id="b6834-320">No momento do processamento, o DOM considerará a ordem e as linhas da ordem conforme descrito aqui:</span><span class="sxs-lookup"><span data-stu-id="b6834-320">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="b6834-321">As linhas da ordem que atenderem aos critérios de origens de ordem de venda, modos de entrega e entidade legal conforme definidos no perfil do DOM e que também atenderem a algum destes critérios:</span><span class="sxs-lookup"><span data-stu-id="b6834-321">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="b6834-322">Sejam criadas em canais de comércio.</span><span class="sxs-lookup"><span data-stu-id="b6834-322">They are created from commerce channels.</span></span>
    - <span data-ttu-id="b6834-323">Nunca tenham sido agenciadas pelo DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-323">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="b6834-324">Foram agenciadas pelo DOM antes, mas estão marcadas como exceções e estão abaixo do limite máximo de tentativas.</span><span class="sxs-lookup"><span data-stu-id="b6834-324">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="b6834-325">O modo de entrega não é retirada nem entrega eletrônica.</span><span class="sxs-lookup"><span data-stu-id="b6834-325">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="b6834-326">Não estejam marcadas para entrega.</span><span class="sxs-lookup"><span data-stu-id="b6834-326">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="b6834-327">Não sejam excluídas manualmente.</span><span class="sxs-lookup"><span data-stu-id="b6834-327">They aren't manually excluded.</span></span>

- <span data-ttu-id="b6834-328">Ordens que não estejam em espera</span><span class="sxs-lookup"><span data-stu-id="b6834-328">Orders that aren't on hold</span></span>

<span data-ttu-id="b6834-329">Depois que são aplicadas as regras, as restrições de estoque e a otimização, o DOM escolhe o local mais próximo do endereço de entrega do cliente.</span><span class="sxs-lookup"><span data-stu-id="b6834-329">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="b6834-330">![Critérios da ordem de venda](./media/ordercriteria.png "Critérios da ordem de venda")</span><span class="sxs-lookup"><span data-stu-id="b6834-330">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="b6834-331">Resultados de execuções de DOM</span><span class="sxs-lookup"><span data-stu-id="b6834-331">Results of DOM runs</span></span>

<span data-ttu-id="b6834-332">Se o perfil de atendimento for definido como **Aplicação automática**, os resultados da execução serão aplicados automaticamente nas linhas da ordem de venda, e o plano de atendimento poderá ser visto separadamente.</span><span class="sxs-lookup"><span data-stu-id="b6834-332">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="b6834-333">Entretanto, se o perfil de atendimento não estiver definido como **Aplicação automática**, os resultados da execução poderão ser vistos apenas na exibição do plano de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-333">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="b6834-334">Para exibir todos os planos de atendimento gerados, siga as etapas a seguir.</span><span class="sxs-lookup"><span data-stu-id="b6834-334">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="b6834-335">Vá para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Gerenciamento de ordem distribuído**.</span><span class="sxs-lookup"><span data-stu-id="b6834-335">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="b6834-336">No espaço de trabalho **Gerenciamento de ordem distribuído**, selecione o bloco **Planos de atendimento**.</span><span class="sxs-lookup"><span data-stu-id="b6834-336">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="b6834-337">Selecione a ID do plano de atendimento de ordem relevante para exibir o plano de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-337">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="b6834-338">A seção de detalhes da ordem do plano de atendimento mostra as linhas da ordem de venda original que faziam parte da execução.</span><span class="sxs-lookup"><span data-stu-id="b6834-338">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="b6834-339">Além dos campos padrão de linha da ordem de venda, a seção de detalhes da ordem também inclui os três campos relacionados ao DOM:</span><span class="sxs-lookup"><span data-stu-id="b6834-339">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="b6834-340">**Tipo de atendimento** – Este campo indica se a linha de ordem de venda foi totalmente agenciada, parcialmente agenciada ou nem um pouco agenciada para o local.</span><span class="sxs-lookup"><span data-stu-id="b6834-340">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="b6834-341">**Dividir** – Este campo indica se uma linha de ordem de venda foi dividida e agenciada para diferentes locais.</span><span class="sxs-lookup"><span data-stu-id="b6834-341">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="b6834-342">**Número de locais de atendimento** – Este campo indica quantas linhas de atendimento foram criadas para uma linha da ordem de venda (com base no número de locais para os quais a linha da ordem de venda original foi agenciada).</span><span class="sxs-lookup"><span data-stu-id="b6834-342">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="b6834-343">A seção de detalhes de atendimento da ordem mostra a atribuição de linhas da ordem de venda original para locais diferentes, juntamente com as respectivas quantidades.</span><span class="sxs-lookup"><span data-stu-id="b6834-343">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="b6834-344">Ações e status da linha da ordem</span><span class="sxs-lookup"><span data-stu-id="b6834-344">Order line actions and statuses</span></span>

<span data-ttu-id="b6834-345">A seguir, a descrição das configurações na linha da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-345">The following describes settings on the order line.</span></span> <span data-ttu-id="b6834-346">Para abrir a linha de ordem, vá para **Retail e Commerce \> Clientes \> Todas as ordens de venda**.</span><span class="sxs-lookup"><span data-stu-id="b6834-346">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="b6834-347">Se você definir a opção **Excluir do processamento do DOM** na guia **Geral** da linha da ordem de venda como **Sim**, a ordem ou a linha da ordem será excluída do processamento do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-347">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="b6834-348">O campo **Status do DOM** na guia **Geral** da linha da ordem de venda pode ser definido como um destes valores:</span><span class="sxs-lookup"><span data-stu-id="b6834-348">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="b6834-349">**Nenhuma** – A linha da ordem nunca foi agenciada.</span><span class="sxs-lookup"><span data-stu-id="b6834-349">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="b6834-350">**Concluída** – A linha da ordem foi agenciada com êxito e atribuída a um local.</span><span class="sxs-lookup"><span data-stu-id="b6834-350">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="b6834-351">**Exceção** – A linha da ordem foi agenciada mas não pode ser atribuída a um local.</span><span class="sxs-lookup"><span data-stu-id="b6834-351">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="b6834-352">As exceções têm vários subtipos que podem ser vistos no espaço de trabalho do DOM:</span><span class="sxs-lookup"><span data-stu-id="b6834-352">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="b6834-353">**Nenhuma quantidade disponível** – Não há estoque disponível para atribuir à ordem em nenhum local.</span><span class="sxs-lookup"><span data-stu-id="b6834-353">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="b6834-354">**Máximo de rejeições** – A linha da ordem alcançou o limite máximo de rejeições.</span><span class="sxs-lookup"><span data-stu-id="b6834-354">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="b6834-355">**Conflito de modificação de dados** – A linha de ordem de venda foi alterada desde que a ordem foi agenciada.</span><span class="sxs-lookup"><span data-stu-id="b6834-355">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="b6834-356">Portanto, o plano de atendimento não pode ser aplicado à ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-356">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="b6834-357">**Exceção específica de linha de ordem** – Há várias exceções na linha de ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-357">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="b6834-358">Durante a entrada de ordem de venda, o DOM pode ser executado em um modo interativo.</span><span class="sxs-lookup"><span data-stu-id="b6834-358">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="b6834-359">Quando você inserir uma linha de ordem, depois de especificar o produto e a quantidade, poderá selecionar **Atualizar linha** e, em **DOM**, selecionar **Sugerir local de atendimento**.</span><span class="sxs-lookup"><span data-stu-id="b6834-359">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="b6834-360">Você verá uma lista de locais baseada em regras do DOM que podem atender a quantidade na linha da ordem.</span><span class="sxs-lookup"><span data-stu-id="b6834-360">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="b6834-361">Esta lista é classificada por distância.</span><span class="sxs-lookup"><span data-stu-id="b6834-361">This list is sorted by distance.</span></span> <span data-ttu-id="b6834-362">Selecione um local para definir o site e o depósito relevantes na linha de ordem de venda.</span><span class="sxs-lookup"><span data-stu-id="b6834-362">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="b6834-363">Para que este recurso funcione, deve haver um perfil de atendimento existente ativo que corresponda à origem de venda e ao modo de entrega na linha de venda.</span><span class="sxs-lookup"><span data-stu-id="b6834-363">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="b6834-364">Para exibir os logs de execução do DOM para uma linha da ordem de venda, selecione **Linha da ordem de venda** e, em seguida, em **DOM**, selecione **Exibir Logs do DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-364">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="b6834-365">Os logs do DOM mostram todos os eventos e logs que foram gerados pela execução do DOM.</span><span class="sxs-lookup"><span data-stu-id="b6834-365">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="b6834-366">Os logs podem ajudar você a entender como um local específico foi atribuído à linha da ordem, e quais regras e restrições foram consideradas como parte da atribuição.</span><span class="sxs-lookup"><span data-stu-id="b6834-366">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="b6834-367">Na guia **Gerenciar**, os logs do DOM também estão disponíveis no nível do cabeçalho de ordem de venda.</span><span class="sxs-lookup"><span data-stu-id="b6834-367">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="b6834-368">Execute um trabalho de limpeza de planos de atendimento do DOM</span><span class="sxs-lookup"><span data-stu-id="b6834-368">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="b6834-369">Conforme o processamento do DOM for executado, os planos de atendimento serão criados.</span><span class="sxs-lookup"><span data-stu-id="b6834-369">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="b6834-370">Com o tempo, o sistema manterá vários planos de atendimento.</span><span class="sxs-lookup"><span data-stu-id="b6834-370">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="b6834-371">Para gerenciar o número de planos de atendimento que o sistema mantém, você pode configurar um trabalho em lotes que exclui antigos planos de atendimento, com base no valor de **Período de retenção em dias**.</span><span class="sxs-lookup"><span data-stu-id="b6834-371">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="b6834-372">Vá para **Retail e Commerce \> Gerenciamento de ordem distribuído \> Processamento em lotes \> Configuração de trabalhos de exclusão de dados de atendimento do DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6834-372">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="b6834-373">Selecione um grupo de lotes configurado no campo **Grupo de lotes**.</span><span class="sxs-lookup"><span data-stu-id="b6834-373">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="b6834-374">Selecione **Recorrência**, e defina a recorrência do trabalho em lotes.</span><span class="sxs-lookup"><span data-stu-id="b6834-374">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="b6834-375">Selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="b6834-375">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="b6834-376">Mais informações</span><span class="sxs-lookup"><span data-stu-id="b6834-376">More information</span></span>

<span data-ttu-id="b6834-377">Veja aqui alguns aspectos a serem considerados ao usar o recurso do DOM:</span><span class="sxs-lookup"><span data-stu-id="b6834-377">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="b6834-378">Atualmente, o DOM examina apenas ordens criadas em canais de comércio.</span><span class="sxs-lookup"><span data-stu-id="b6834-378">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="b6834-379">As ordens de venda serão identificadas como ordens de venda quando a opção **Venda do Commerce** for definida como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="b6834-379">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="b6834-380">A Microsoft não testou o DOM com recursos avançados de gerenciamento de depósito.</span><span class="sxs-lookup"><span data-stu-id="b6834-380">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="b6834-381">Clientes e parceiros devem ser cuidadosos para determinar se o DOM é compatível com os recursos e os processos avançados de gerenciamento de depósito que são relevantes para eles.</span><span class="sxs-lookup"><span data-stu-id="b6834-381">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="b6834-382">O DOM está disponível apenas na versão da nuvem do Commerce.</span><span class="sxs-lookup"><span data-stu-id="b6834-382">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="b6834-383">Não é compatível com implantações locais.</span><span class="sxs-lookup"><span data-stu-id="b6834-383">It isn't supported in on-premises deployments.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]