---
title: Gerenciamento de clientes em lojas
description: Este tópico explica como os varejistas podem habilitar os recursos de gerenciamento de clientes no ponto de venda (PDV) no Microsoft Dynamics 365 Commerce.
author: josaw1
manager: AnnBe
ms.date: 03/05/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: 8a1b360ba6a2d32e38e101f25f108094a00190c8
ms.sourcegitcommit: 8a14eac1c27f10c2b1b02ac9ad82339f5e127602
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/05/2021
ms.locfileid: "5555038"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="c7cad-103">Gerenciamento de clientes em lojas</span><span class="sxs-lookup"><span data-stu-id="c7cad-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="c7cad-104">Este tópico explica como os varejistas podem habilitar os recursos de gerenciamento de clientes no ponto de venda (PDV) no Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="c7cad-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="c7cad-105">É importante que os associados da loja possam criar e editar registros de clientes no PDV.</span><span class="sxs-lookup"><span data-stu-id="c7cad-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="c7cad-106">Dessa forma, eles podem capturar qualquer atualização para informações do cliente, como o endereço de email, o número de telefone e o endereço.</span><span class="sxs-lookup"><span data-stu-id="c7cad-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="c7cad-107">Essas informações são úteis em sistemas downstream, como marketing, pois a eficácia desses sistemas depende da precisão dos dados do cliente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="c7cad-108">Os associados de vendas podem disparar o fluxo de trabalho de criação de clientes de dois pontos de entrada de PDV.</span><span class="sxs-lookup"><span data-stu-id="c7cad-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="c7cad-109">Eles podem selecionar um botão que esteja mapeado para a operação **Adição do cliente** ou podem selecionar **Criar cliente** na barra de aplicativos na página de resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="c7cad-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="c7cad-110">Em ambos os casos, a caixa de diálogo **Novo cliente** é exibida, na qual os associados de vendas podem inserir os detalhes necessários do cliente, como o nome do cliente, o endereço de email, o número de telefone, o endereço e as informações adicionais relevantes ao negócio.</span><span class="sxs-lookup"><span data-stu-id="c7cad-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="c7cad-111">Essas informações adicionais podem ser capturadas usando os atributos do cliente associados ao cliente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="c7cad-112">Para obter mais informações sobre atributos de cliente, consulte [Atributos de cliente](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="c7cad-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="c7cad-113">Os associados de vendas também podem capturar endereços de email e números de telefone secundários.</span><span class="sxs-lookup"><span data-stu-id="c7cad-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="c7cad-114">Além disso, eles podem capturar a preferência do cliente no recebimento de informações de marketing por meio de qualquer um desses endereços de email ou números de telefone secundários.</span><span class="sxs-lookup"><span data-stu-id="c7cad-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="c7cad-115">Para habilitar esse recurso, os varejistas devem ativar o recurso **Capturar vários emails e números de telefone e consentimento para marketing sobre esses contatos** no espaço de trabalho **Gerenciamento de recursos** no Commerce Headquarters (**Administração de sistemas \> Espaços de trabalho \> Gerenciamento de recursos**).</span><span class="sxs-lookup"><span data-stu-id="c7cad-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="c7cad-116">Propriedades padrão do cliente</span><span class="sxs-lookup"><span data-stu-id="c7cad-116">Default customer properties</span></span>

<span data-ttu-id="c7cad-117">Os varejistas podem usar a página **Todas as lojas** no Commerce Headquarters (**Varejo e Comércio \> Canais \> Lojas**) para associar um cliente padrão a cada loja.</span><span class="sxs-lookup"><span data-stu-id="c7cad-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="c7cad-118">O Commerce então copia as propriedades definidas para o cliente padrão para todos os novos registros de cliente que são criados.</span><span class="sxs-lookup"><span data-stu-id="c7cad-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="c7cad-119">Por exemplo, a caixa de diálogo **Criar cliente** mostra as propriedades herdadas do cliente padrão associado à loja.</span><span class="sxs-lookup"><span data-stu-id="c7cad-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="c7cad-120">Essas propriedades incluem o tipo de cliente, o grupo de clientes, a preferência de recibo, a moeda e o idioma.</span><span class="sxs-lookup"><span data-stu-id="c7cad-120">Those properties include the customer type, customer group, receipt preference, currency, and language.</span></span> <span data-ttu-id="c7cad-121">As afiliações (agrupamentos de clientes) também são herdadas do cliente padrão.</span><span class="sxs-lookup"><span data-stu-id="c7cad-121">Any affiliations (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="c7cad-122">No entanto, as dimensões financeiras são herdadas do grupo de clientes associado ao cliente padrão, e não do próprio cliente padrão.</span><span class="sxs-lookup"><span data-stu-id="c7cad-122">However, financial dimensions are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

<span data-ttu-id="c7cad-123">Os associados de vendas podem capturar vários endereços para um cliente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-123">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="c7cad-124">O nome e o número de telefone do cliente são herdados das informações de contato associadas a cada endereço.</span><span class="sxs-lookup"><span data-stu-id="c7cad-124">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="c7cad-125">A Guia Rápida **Endereços** de um registro de cliente inclui um campo **Finalidade** que os associados de vendas podem editar.</span><span class="sxs-lookup"><span data-stu-id="c7cad-125">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="c7cad-126">Se o tipo de cliente for **Pessoa**, o valor padrão será **Residência**.</span><span class="sxs-lookup"><span data-stu-id="c7cad-126">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="c7cad-127">Se o tipo de cliente for **Organização**, o valor padrão será **Empresa**.</span><span class="sxs-lookup"><span data-stu-id="c7cad-127">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="c7cad-128">Outros valores para os quais esse campo oferece suporte incluem: **Residência**, **Escritório** e **Caixa postal**.</span><span class="sxs-lookup"><span data-stu-id="c7cad-128">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="c7cad-129">O valor do campo **País** para um endereço é herdado do endereço principal especificado na página **Unidade operacional** do Commerce Headquarters em **Administração da organização \> Organizações \> Unidades operacionais**.</span><span class="sxs-lookup"><span data-stu-id="c7cad-129">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="c7cad-130">Sincronizar clientes e clientes assíncronos</span><span class="sxs-lookup"><span data-stu-id="c7cad-130">Sync customers and Async customers</span></span>

<span data-ttu-id="c7cad-131">No Commerce, há dois modos de criação de clientes: Síncrono e Assíncrono.</span><span class="sxs-lookup"><span data-stu-id="c7cad-131">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="c7cad-132">Por padrão, os clientes são criados de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="c7cad-132">By default, customers are created synchronously.</span></span> <span data-ttu-id="c7cad-133">Em outras palavras, eles são criados no Commerce Headquarters em tempo real.</span><span class="sxs-lookup"><span data-stu-id="c7cad-133">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="c7cad-134">O modo Síncrono de criação de clientes é benéfico porque novos clientes são pesquisados imediatamente nos canais.</span><span class="sxs-lookup"><span data-stu-id="c7cad-134">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="c7cad-135">No entanto, ele também tem uma desvantagem.</span><span class="sxs-lookup"><span data-stu-id="c7cad-135">However, it also has a drawback.</span></span> <span data-ttu-id="c7cad-136">Como ele gera chamadas do [Commerce Data Exchange: Serviço em tempo real](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) para o Commerce Headquarters, o desempenho poderá ser afetado se várias chamadas simultâneas de criação de clientes forem feitas.</span><span class="sxs-lookup"><span data-stu-id="c7cad-136">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="c7cad-137">Se a opção **Criar cliente no modo assíncrono** estiver definida como **Sim** no perfil de funcionalidade da loja (**Varejo e Comércio \> Configuração do canal \> Configuração da loja online \> Perfis de funcionalidade**), as chamadas do Serviço em Tempo Real não são usadas para criar registros de cliente no banco de dados do canal.</span><span class="sxs-lookup"><span data-stu-id="c7cad-137">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="c7cad-138">O modo Assíncrono de criação de clientes não afeta o desempenho do Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="c7cad-138">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="c7cad-139">Um GUID (identificador global exclusivo) temporário é atribuído a cada novo registro de cliente Assíncrono e usado como a ID da conta do cliente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-139">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="c7cad-140">Esse GUID não é exibido aos usuários do PDV.</span><span class="sxs-lookup"><span data-stu-id="c7cad-140">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="c7cad-141">Em vez disso, esses usuários verão **Sincronização pendente** como a ID da conta do cliente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-141">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="c7cad-142">Embora essa configuração force os clientes a serem criados assincronamente, observe que as edições nos registros de clientes sempre são feitas de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="c7cad-142">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="c7cad-143">Converter clientes Assíncronos em clientes Síncronos</span><span class="sxs-lookup"><span data-stu-id="c7cad-143">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="c7cad-144">Para converter clientes Assíncronos em clientes Síncronos, primeiro você deverá executar o trabalho P para enviar os clientes Assíncronos para o Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="c7cad-144">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="c7cad-145">Em seguida, execute o trabalho **Sincronizar clientes e parceiros comerciais do modo assíncrono** para criar IDs da conta de cliente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-145">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="c7cad-146">Por fim, execute o trabalho **1010** para sincronizar as novas IDs da conta de cliente para os canais.</span><span class="sxs-lookup"><span data-stu-id="c7cad-146">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="c7cad-147">Limitações do cliente Assíncrono</span><span class="sxs-lookup"><span data-stu-id="c7cad-147">Async customer limitations</span></span>

<span data-ttu-id="c7cad-148">No momento, a funcionalidade de cliente Assíncrono tem as seguintes limitações:</span><span class="sxs-lookup"><span data-stu-id="c7cad-148">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="c7cad-149">Os registros de clientes Assíncronos não podem ser editados a menos que o cliente tenha sido criado no Commerce Headquarters e a nova ID da conta do cliente tenha sido sincronizada novamente com o canal.</span><span class="sxs-lookup"><span data-stu-id="c7cad-149">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="c7cad-150">As afiliações não podem ser associadas a clientes Assíncronos.</span><span class="sxs-lookup"><span data-stu-id="c7cad-150">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="c7cad-151">Portanto, novos clientes Assíncronos não herdam as afiliações do cliente padrão.</span><span class="sxs-lookup"><span data-stu-id="c7cad-151">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="c7cad-152">Os cartões-fidelidade não podem ser emitidos para clientes Assíncronos a menos que a nova ID da conta do cliente tenha sido sincronizada novamente para o canal.</span><span class="sxs-lookup"><span data-stu-id="c7cad-152">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="c7cad-153">Não é possível capturar endereços de email e números de telefone secundários para clientes Assíncronos.</span><span class="sxs-lookup"><span data-stu-id="c7cad-153">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="c7cad-154">Criação de cliente no modo offline do PDV</span><span class="sxs-lookup"><span data-stu-id="c7cad-154">Customer creation in POS offline mode</span></span>

<span data-ttu-id="c7cad-155">Se o PDV ficar offline enquanto o modo de criação de cliente Assíncrono estiver habilitado, novos registros de clientes serão criados assincronamente.</span><span class="sxs-lookup"><span data-stu-id="c7cad-155">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="c7cad-156">Se o PDV ficar offline enquanto o modo de criação de cliente Assíncrono estiver desabilitado, o sistema alternará automaticamente para o modo de criação de cliente Assíncrono.</span><span class="sxs-lookup"><span data-stu-id="c7cad-156">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="c7cad-157">Em outras palavras, os registros do cliente podem ser criados assincronamente, mesmo se o modo de criação do cliente Assíncrono estiver desabilitado.</span><span class="sxs-lookup"><span data-stu-id="c7cad-157">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="c7cad-158">Portanto, os administradores do Commerce Headquarters devem criar e agendar um trabalho em lotes recorrente para o trabalho P, o trabalho **Sincronizar clientes e parceiros comerciais do modo assíncrono** e o trabalho **1010**, para que todos os clientes Assíncronos sejam convertidos em clientes Síncronos no Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="c7cad-158">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="c7cad-159">Se a opção **Filtrar tabelas de dados do cliente compartilhadas** for definida como **Sim** na página **Esquema de canal do Commerce** (**Varejo e Comércio \> Configuração do Headquarters \> Agendador do Commerce \> Grupo de bancos de dados do canal**), os registros de cliente não serão criados no modo offline de PDV.</span><span class="sxs-lookup"><span data-stu-id="c7cad-159">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="c7cad-160">Para obter mais informações, consulte [Exclusão de dados offline](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="c7cad-160">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c7cad-161">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="c7cad-161">Additional resources</span></span>

[<span data-ttu-id="c7cad-162">Atributos de clientes</span><span class="sxs-lookup"><span data-stu-id="c7cad-162">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="c7cad-163">Exclusão de dados offline</span><span class="sxs-lookup"><span data-stu-id="c7cad-163">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
