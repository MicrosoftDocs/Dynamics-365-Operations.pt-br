---
title: Configurar cupons para vendas de varejo
description: Este tópico fornece uma visão geral de cupons e explica como defini-los.
author: scott-tucker
manager: AnnBe
ms.date: 05/22/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailCoupon, RetailParameters, RetailSharedParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.search.region: Global
ms.search.industry: retail
ms.author: scotttuc
ms.search.validFrom: 2017-06-30
ms.dyn365.ops.version: July 2017 update
ms.openlocfilehash: 4c580e40ae1f0398ab9f8437d42ddcb2979558c3
ms.sourcegitcommit: 12b9d6f2dd24e52e46487748c848864909af6967
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/14/2020
ms.locfileid: "3057362"
---
# <a name="set-up-coupons-for-retail-sales"></a><span data-ttu-id="4afd5-103">Configurar cupons para vendas de varejo</span><span class="sxs-lookup"><span data-stu-id="4afd5-103">Set up coupons for retail sales</span></span>

[!include [banner](includes/banner.md)]

## <a name="overview-of-coupons"></a><span data-ttu-id="4afd5-104">Visão geral de cupons</span><span class="sxs-lookup"><span data-stu-id="4afd5-104">Overview of coupons</span></span>

<span data-ttu-id="4afd5-105">Os cupons são códigos e códigos de barras usados ​​para adicionar descontos às transações.</span><span class="sxs-lookup"><span data-stu-id="4afd5-105">Coupons are codes and bar codes that are used to add discounts to transactions.</span></span> <span data-ttu-id="4afd5-106">Cada cupom pode ter vários códigos, e cada código pode ter suas próprias datas efetivas.</span><span class="sxs-lookup"><span data-stu-id="4afd5-106">Each coupon can have multiple codes, and each code can have its own effective dates.</span></span>

<span data-ttu-id="4afd5-107">Cada cupom está relacionado a um desconto.</span><span class="sxs-lookup"><span data-stu-id="4afd5-107">Each coupon is related to one discount.</span></span> <span data-ttu-id="4afd5-108">Os grupos de preços associados ao desconto definem os clientes que podem usar um cupom ou os canais onde um cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="4afd5-108">The price groups that are associated with the discount define the customers that can use a coupon or the channels where a coupon is valid.</span></span>

<span data-ttu-id="4afd5-109">Basicamente, os cupons são a validação adicional sobre os descontos.</span><span class="sxs-lookup"><span data-stu-id="4afd5-109">Essentially, coupons are additional validation on top of discounts.</span></span> <span data-ttu-id="4afd5-110">O cupom fornece os códigos de cupom e os códigos de barra que são necessários, juntamente com os intervalos de datas para esses códigos.</span><span class="sxs-lookup"><span data-stu-id="4afd5-110">The coupon provides the coupon codes and bar codes that are required, together with date ranges for those codes.</span></span> <span data-ttu-id="4afd5-111">O cupom também fornece limites de uso opcionais e propriedades exigidas pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="4afd5-111">The coupon also provides optional usage limits and customer required properties.</span></span> <span data-ttu-id="4afd5-112">O desconto fornece o conjunto de produtos para o qual o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="4afd5-112">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="4afd5-113">Os grupos de preços para o desconto fornecem o conjunto de clientes, canais ou catálogos para os quais o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="4afd5-113">The price groups for the discount provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

<span data-ttu-id="4afd5-114">Para criar um cupom, você cria o desconto e o cupom separadamente.</span><span class="sxs-lookup"><span data-stu-id="4afd5-114">To create a coupon, you create the discount and the coupon separately.</span></span> <span data-ttu-id="4afd5-115">Em seguida, você os vincula selecionando o desconto na página do cupom no Commerce.</span><span class="sxs-lookup"><span data-stu-id="4afd5-115">You then link them by selecting the discount on the coupon page in Commerce.</span></span>

> [!NOTE]
> <span data-ttu-id="4afd5-116">Depois que um cupom é vinculado a um desconto, vários campos na página de desconto do Commerce se tornam somente leitura, pois eles são gerenciados pelas configurações do cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-116">After a coupon is linked to a discount, several fields on the discount page in Commerce become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="4afd5-117">Esses campos incluem os campos para o status e os intervalos de datas padrão.</span><span class="sxs-lookup"><span data-stu-id="4afd5-117">These fields include the fields for the status and standard date ranges.</span></span>

### <a name="limited-use-coupons"></a><span data-ttu-id="4afd5-118">Cupons de uso limitado</span><span class="sxs-lookup"><span data-stu-id="4afd5-118">Limited-use coupons</span></span>

<span data-ttu-id="4afd5-119">Os cupons podem ser configurados como cupons de uso limitado.</span><span class="sxs-lookup"><span data-stu-id="4afd5-119">Coupons can be configured as limited-use coupons.</span></span> <span data-ttu-id="4afd5-120">O limite de uso pode ser definido por cliente ou canal, ou como um limite global.</span><span class="sxs-lookup"><span data-stu-id="4afd5-120">The usage limit can be defined per customer or channel, or as a global limit.</span></span> <span data-ttu-id="4afd5-121">Este limite é aplicado quando o código ou o código de barras são inseridos ou digitalizados no POS ou durante a entrada da ordem do cliente.</span><span class="sxs-lookup"><span data-stu-id="4afd5-121">This limit is enforced when the code or bar code is entered or scanned in POS or during sales order entry.</span></span>

<span data-ttu-id="4afd5-122">O limite é aplicado por código de cupom em um cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-122">The limit is enforced per coupon code on a coupon.</span></span> <span data-ttu-id="4afd5-123">Por exemplo, um cupom de uso único que possui dois códigos de cupom pode ser usado duas vezes: uma vez por cada código de cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-123">For example, a single-use coupon that has two coupon codes can be used two times: one time for each coupon code.</span></span> <span data-ttu-id="4afd5-124">Cada código em um cupom pode ser definido de forma independente como ativo.</span><span class="sxs-lookup"><span data-stu-id="4afd5-124">Each code on a coupon can be independently set to active.</span></span>

> [!NOTE]
> <span data-ttu-id="4afd5-125">Depois que um código de cupom atingiu seu limite de uso, o sistema *não* alterará automaticamente o status do código de cupom “Usado”.</span><span class="sxs-lookup"><span data-stu-id="4afd5-125">Once a coupon code has reached its usage limit, the system does *not* automatically change the status of the coupon code to "Used".</span></span> <span data-ttu-id="4afd5-126">Entretanto, o sistema não permitirá o uso adicional de um código de cupom que atingiu seu limite de uso.</span><span class="sxs-lookup"><span data-stu-id="4afd5-126">The system however, does not allow further usage of a coupon code which has reached its usage limit.</span></span> <span data-ttu-id="4afd5-127">Se o status de um código de cupom está definido manualmente como algo diferente de “Ativo”, o código de cupom não pode ser usado em nenhum canal.</span><span class="sxs-lookup"><span data-stu-id="4afd5-127">If the status of a coupon code is manually set to anything apart from "Active" then this coupon code cannot be used in any channel.</span></span>

## <a name="managing-coupons"></a><span data-ttu-id="4afd5-128">Gerenciando cupons</span><span class="sxs-lookup"><span data-stu-id="4afd5-128">Managing coupons</span></span>

<span data-ttu-id="4afd5-129">Você deve criar o desconto e o cupom separadamente.</span><span class="sxs-lookup"><span data-stu-id="4afd5-129">You must create the discount and the coupon separately.</span></span> <span data-ttu-id="4afd5-130">Em seguida, vincule-os selecionando o desconto na página do cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-130">You then link them by selecting the discount on the coupon page.</span></span> <span data-ttu-id="4afd5-131">Depois de vincular um cupom a um desconto, vários campos para o desconto tornam-se somente leitura, pois são gerenciados pelas configurações do cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-131">After you link a coupon to a discount, several fields for the discount become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="4afd5-132">Esses campos incluem os campos para o status e os intervalos de datas padrão.</span><span class="sxs-lookup"><span data-stu-id="4afd5-132">These fields include the fields for the status and standard date ranges.</span></span>

<span data-ttu-id="4afd5-133">Basicamente, os cupons agora são a validação adicional sobre os descontos.</span><span class="sxs-lookup"><span data-stu-id="4afd5-133">Essentially, coupons are now additional validation on top of discounts.</span></span> <span data-ttu-id="4afd5-134">O cupom fornece códigos de cupom e códigos de barras, juntamente com intervalos de datas, os limites de uso e a propriedade exigida pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="4afd5-134">The coupon provides the coupon codes and bar codes, together with date ranges, the usage limits, and the customer required property.</span></span> <span data-ttu-id="4afd5-135">O desconto fornece o conjunto de produtos para o qual o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="4afd5-135">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="4afd5-136">Os grupos de preços de desconto fornecem o conjunto de clientes, canais ou catálogos para os quais o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="4afd5-136">The discount's price groups provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

## <a name="system-setup-for-coupons"></a><span data-ttu-id="4afd5-137">Configuração do sistema para cupons</span><span class="sxs-lookup"><span data-stu-id="4afd5-137">System setup for coupons</span></span>

<span data-ttu-id="4afd5-138">Antes de configurar um cupom, você deve configurar o código da barra de cupom e duas sequências de números de cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-138">Before you can set up a coupon, you must set up the coupon bar code and two coupon number sequences.</span></span>

1. <span data-ttu-id="4afd5-139">Na página **Caracteres de máscara**, crie um novo caractere de máscara para o código de cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-139">On the **Mask characters** page, create a new mask character for the coupon code.</span></span> <span data-ttu-id="4afd5-140">Você pode selecionar qualquer caractere não utilizado.</span><span class="sxs-lookup"><span data-stu-id="4afd5-140">You can select any unused character.</span></span>
2. <span data-ttu-id="4afd5-141">Na página **Configuração de máscara de código de barras**, crie uma nova a máscara de código de barras.</span><span class="sxs-lookup"><span data-stu-id="4afd5-141">On the **Bar code mask setup** page, create a new bar code mask.</span></span> <span data-ttu-id="4afd5-142">Defina o campo **Tipo** como **Cupom**.</span><span class="sxs-lookup"><span data-stu-id="4afd5-142">Set the **Type** field to **Coupon**.</span></span>
3. <span data-ttu-id="4afd5-143">Na página **Configuração de código de barras**, crie um novo código de barras que usa a máscara de código de barras que você criou.</span><span class="sxs-lookup"><span data-stu-id="4afd5-143">On the **Bar code setup** page, create a new bar code that uses the bar code mask that you just created.</span></span>
4. <span data-ttu-id="4afd5-144">Na página **Sequências numéricas**, crie duas novas sequências numéricas.</span><span class="sxs-lookup"><span data-stu-id="4afd5-144">On the **Number sequences** page, create two new number sequences.</span></span> <span data-ttu-id="4afd5-145">Uma sequência é para a ID do código de cupom, e outra sequência for para o número de cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-145">One sequence is for the coupon code ID, and the other sequence is for the coupon number.</span></span> <span data-ttu-id="4afd5-146">A ID do código de cupom é o identificador exclusivo para cada código de cupom para um cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-146">The coupon code ID is the unique identifier for each coupon code for a coupon.</span></span> <span data-ttu-id="4afd5-147">O número do cupom é o identificador exclusivo do cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-147">The coupon number is the unique identifier for a coupon.</span></span> <span data-ttu-id="4afd5-148">Cada cupom pode ter vários códigos e os códigos de barras que disparam um cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-148">Each coupon can have multiple codes and bar codes that trigger the coupon.</span></span>

    > [!NOTE]
    > <span data-ttu-id="4afd5-149">Para ambas as sequências numéricas, você deve definir o campo **Escopo** como **Empresa**.</span><span class="sxs-lookup"><span data-stu-id="4afd5-149">For both number sequences, you must set the **Scope** field to **Company**.</span></span> <span data-ttu-id="4afd5-150">Na maioria dos casos, você deve gerar automaticamente os números sequenciais.</span><span class="sxs-lookup"><span data-stu-id="4afd5-150">In most cases, you should automatically generate both sequence numbers.</span></span>

5. <span data-ttu-id="4afd5-151">Na página **Parâmetros de comércio**, na guia **Códigos de barras**, selecione o código de barras criado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4afd5-151">On the **Commerce parameters** page, on the **Bar codes** tab, select the bar code that you created earlier.</span></span>
6. <span data-ttu-id="4afd5-152">Na página **Parâmetros compartilhados de comércio**, na guia **Sequências numéricas**, selecione as sequências numéricas criadas para o número do cupom e a ID do código do cupom.</span><span class="sxs-lookup"><span data-stu-id="4afd5-152">On the **Commerce shared parameters** page, on the **Number sequences** tab, select the number sequences that you created for the coupon number and coupon code ID.</span></span>
7. <span data-ttu-id="4afd5-153">Agora você pode abrir a página **Cupons** e criar novos cupons.</span><span class="sxs-lookup"><span data-stu-id="4afd5-153">You can now open the **Coupons** page and create new coupons.</span></span>

## <a name="the-effect-of-partial-updates-on-coupons"></a><span data-ttu-id="4afd5-154">O efeito das atualizações parciais nos cupons</span><span class="sxs-lookup"><span data-stu-id="4afd5-154">The effect of partial updates on coupons</span></span>

<span data-ttu-id="4afd5-155">A funcionalidade de cupom abrange vários recursos distintos.</span><span class="sxs-lookup"><span data-stu-id="4afd5-155">Coupon functionality comprises multiple distinct features.</span></span> <span data-ttu-id="4afd5-156">O Commerce Headquarters (HQ) e o canal podem ser parcialmente atualizados em todos os componentes.</span><span class="sxs-lookup"><span data-stu-id="4afd5-156">Commerce Headquarters (HQ) and the channel can be partially updated across components.</span></span> <span data-ttu-id="4afd5-157">Portanto, é importante que você entenda como as atualizações parciais afetam a funcionalidade do cupom como um todo.</span><span class="sxs-lookup"><span data-stu-id="4afd5-157">Therefore, it's important that you understand how partial updates affect coupon functionality as a whole.</span></span>

- <span data-ttu-id="4afd5-158">**O HQ é atualizado parcialmente, mas o Commerce Scale Unit e o PDV não serão atualizados.**</span><span class="sxs-lookup"><span data-stu-id="4afd5-158">**HQ is partially updated, but Commerce Scale Unit and POS aren't updated.**</span></span> <span data-ttu-id="4afd5-159">Em uma atualização do HQ, as páginas de cupom e desconto são atualizadas, e o mecanismo de preço comercial também é atualizado.</span><span class="sxs-lookup"><span data-stu-id="4afd5-159">In an HQ update, the coupon and discount pages are updated, and the commerce price engine is also updated.</span></span> <span data-ttu-id="4afd5-160">Se apenas um desses dois componentes for atualizado, algumas páginas do Commerce não coincidirão com os dados de cálculo do preço.</span><span class="sxs-lookup"><span data-stu-id="4afd5-160">If only one of those two components is updated, some pages in Commerce won't match the price calculation data.</span></span> <span data-ttu-id="4afd5-161">Portanto, cálculos de desconto inesperado ou erros inesperados podem ocorrer durante cálculos de desconto.</span><span class="sxs-lookup"><span data-stu-id="4afd5-161">Therefore, unexpected discount calculations or errors might occur during discount calculations.</span></span>
- <span data-ttu-id="4afd5-162">**O HQ é atualizado, mas o Commerce Scale Unit e o PDV não serão atualizados (N-1).**</span><span class="sxs-lookup"><span data-stu-id="4afd5-162">**HQ is updated, but Commerce Scale Unit and POS aren't updated (N-1).**</span></span> <span data-ttu-id="4afd5-163">Como nem todas as lojas podem ser atualizadas ao mesmo tempo, recomendamos que você atualize o HQ antes de atualizar as lojas.</span><span class="sxs-lookup"><span data-stu-id="4afd5-163">Because not all stores can be updated at the same time, we recommend that you update HQ before you update stores.</span></span> <span data-ttu-id="4afd5-164">No cenário N-1, novas funcionalidades relacionadas a cupons não estarão disponíveis em lojas que ainda não tiverem sido atualizadas.</span><span class="sxs-lookup"><span data-stu-id="4afd5-164">In the N-1 scenario, new functionality that is related to coupons won't be available in stores that haven't been updated yet.</span></span> <span data-ttu-id="4afd5-165">Por exemplo, a funcionalidade do cupom apresenta linhas a serem "excluídas".</span><span class="sxs-lookup"><span data-stu-id="4afd5-165">For example, the coupon functionality introduces "exclude" lines.</span></span> <span data-ttu-id="4afd5-166">Se você usar linhas de exclusão em um desconto, elas não serão aplicadas a uma loja que esteja executando uma versão anterior.</span><span class="sxs-lookup"><span data-stu-id="4afd5-166">If you use exclude lines on a discount, they won't be applied in a store that is running an earlier version.</span></span>
- <span data-ttu-id="4afd5-167">**O HQ não é atualizado, mas o Commerce Scale Unit e o PDV serão atualizados (N+1).**</span><span class="sxs-lookup"><span data-stu-id="4afd5-167">**HQ isn't updated, but Commerce Scale Unit and POS are updated (N+1).**</span></span> <span data-ttu-id="4afd5-168">Como o mecanismo de preço atualizado no Commerce Scale Unit pode lidar com códigos de desconto herdados durante os cálculos de preços, a atualização não deve ter impacto funcional nesse cenário.</span><span class="sxs-lookup"><span data-stu-id="4afd5-168">Because the updated price engine in Commerce Scale Unit can handle legacy discount codes during price calculations, the update should have no functional impact in this scenario.</span></span>
