---
title: Habilitar vários modos de entrega de retirada para ordens de cliente
description: Este tópico explica a funcionalidade no Microsoft Dynamics 365 Commerce que permite criar ordens de cliente para retirada em uma loja.
author: hhainesms
ms.date: 06/07/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.region: global
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: ae7df6679c261b5e5dcd39e4ca6fe0e21d993927
ms.sourcegitcommit: 60afcd85b3b5b9e5e8981ebbb57c0161cf05e54b
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/09/2021
ms.locfileid: "6216758"
---
# <a name="enable-multiple-pickup-delivery-modes-for-customer-orders"></a><span data-ttu-id="2078c-103">Habilitar vários modos de entrega de retirada para ordens de cliente</span><span class="sxs-lookup"><span data-stu-id="2078c-103">Enable multiple pickup delivery modes for customer orders</span></span>

[!include [banner](includes/banner.md)]


<span data-ttu-id="2078c-104">Na versão 10.0.16 e posterior do Microsoft Dynamics 365 Commerce, as organizações podem definir vários modos de entrega que os compradores ou representantes de vendas podem escolher ao criar uma ordem que será retirada em uma loja.</span><span class="sxs-lookup"><span data-stu-id="2078c-104">In Microsoft Dynamics 365 Commerce version 10.0.16 and later, organizations can define multiple modes of delivery that shoppers or sales associates can choose among when they create an order that will be picked up at a store.</span></span> <span data-ttu-id="2078c-105">Dessa forma, as organizações podem fornecer várias opções de retirada aos seus compradores.</span><span class="sxs-lookup"><span data-stu-id="2078c-105">In this way, organizations can provide multiple pickup options to their shoppers.</span></span> <span data-ttu-id="2078c-106">Por exemplo, muitos varejistas agora oferecem aos compradores a opção de retirada na loja ou retirada em frente à loja para suas ordens.</span><span class="sxs-lookup"><span data-stu-id="2078c-106">For example, many retailers now offer shoppers the choice of in-store pickup or curbside pickup for their orders.</span></span> <span data-ttu-id="2078c-107">O Commerce oferece suporte à configuração desses diferentes modos de entrega de retirada.</span><span class="sxs-lookup"><span data-stu-id="2078c-107">Commerce supports the configuration of these different pickup delivery modes.</span></span> <span data-ttu-id="2078c-108">Os usuários podem, então, utilizá-los ao criar ordens de cliente em qualquer canal do Commerce com suporte (comércio eletrônico, call center ou loja).</span><span class="sxs-lookup"><span data-stu-id="2078c-108">Users can then take advantage of them when they create customer orders in any supported Commerce channel (e-commerce, call center, or store).</span></span>

## <a name="enable-and-configure-pickup-delivery-modes"></a><span data-ttu-id="2078c-109">Habilitar e configurar modos de entrega de retirada</span><span class="sxs-lookup"><span data-stu-id="2078c-109">Enable and configure pickup delivery modes</span></span>

<span data-ttu-id="2078c-110">Para usar esta funcionalidade, ative o recurso **Suporte para vários modos de entrega de retirada** no espaço de trabalho **Gerenciamento de recursos** na sede do Commerce.</span><span class="sxs-lookup"><span data-stu-id="2078c-110">To use this functionality, turn on the **Support for multiple pickup delivery modes** feature in the **Feature management** workspace in Commerce headquarters.</span></span> <span data-ttu-id="2078c-111">Depois que você ativar o recurso, uma configuração adicional será necessária.</span><span class="sxs-lookup"><span data-stu-id="2078c-111">After you turn on the feature, additional configuration is required.</span></span>

<span data-ttu-id="2078c-112">No Commerce versão 10.0.15 e anteriores, as organizações podem definir somente um modo de entrega como o modo de entrega de retirada designado.</span><span class="sxs-lookup"><span data-stu-id="2078c-112">In Commerce version 10.0.15 and earlier, organizations can define only one mode of delivery as the designated pickup delivery mode.</span></span> <span data-ttu-id="2078c-113">Essa definição é feita na página **Parâmetros do Commerce**.</span><span class="sxs-lookup"><span data-stu-id="2078c-113">This definition is done on the **Commerce parameters** page.</span></span> <span data-ttu-id="2078c-114">Na versão 10.0.16 e posteriores, ao ativar o recurso **Suporte para vários modos de entrega de retirada**, o modo de entrega definido anteriormente como o modo de entrega de retirada na página **Parâmetros do Commerce** será copiado de forma automática para a nova configuração de modos de entrega de retirada.</span><span class="sxs-lookup"><span data-stu-id="2078c-114">In version 10.0.16 and later, when you turn on the **Support for multiple pickup delivery modes** feature, the mode of delivery that was previously defined as the pickup delivery mode on the **Commerce parameters** page is automatically copied into the new configuration for pickup delivery modes.</span></span>

![Modos de entrega de retirada na página Parâmetros do Commerce](media/multiplepickupparameter.png)

<span data-ttu-id="2078c-116">Depois de ativar o recurso **Suporte para vários modos de entrega de retirada**, você poderá definir vários modos de entrega de retirada na grade **Modo de entrega de retirada** na FastTab **Modos de entrega** na guia **Ordens de cliente** da página **Parâmetros do Commerce**.</span><span class="sxs-lookup"><span data-stu-id="2078c-116">After you turn on the **Support for multiple pickup delivery modes** feature, you can define multiple pickup delivery modes in the **Pickup mode of delivery** grid on the **Modes of delivery** FastTab on the **Customer orders** tab of the **Commerce parameters** page.</span></span>

<span data-ttu-id="2078c-117">Os campos **Executar modo de entrega** e **Modo eletrônico de entrega**, e a opção **Mostrar somente opções de modo de transportadora para ordens de remessa**, foram realocados para essa FastTab.</span><span class="sxs-lookup"><span data-stu-id="2078c-117">The **Carry Out mode of delivery** and **Electronic mode of delivery** fields, and the **Show only carrier mode options for ship orders** option, have been relocated to this FastTab.</span></span>

<span data-ttu-id="2078c-118">Antes de configurar modos de entrega de retirada adicionais, você deve definir os modos de entrega.</span><span class="sxs-lookup"><span data-stu-id="2078c-118">Before you configure additional pickup delivery modes, you must define the modes of delivery.</span></span> <span data-ttu-id="2078c-119">Na página **Modos de entrega** na sede do Commerce, adicione os modos de entrega que devem ser considerados modos de entrega de retirada.</span><span class="sxs-lookup"><span data-stu-id="2078c-119">On the **Modes of delivery** page in Commerce headquarters, add the modes of delivery that should be considered pickup delivery modes.</span></span> <span data-ttu-id="2078c-120">Verifique se toda a configuração foi concluída.</span><span class="sxs-lookup"><span data-stu-id="2078c-120">Make sure that all configuration is completed.</span></span> <span data-ttu-id="2078c-121">Por exemplo, se você está oferecendo a retirada em frente à loja como uma opção de entrega para seus compradores online para determinadas lojas, será necessário criar um novo modo de entrega para esta finalidade.</span><span class="sxs-lookup"><span data-stu-id="2078c-121">For example, if you are offering curbside pickup as a delivery option for your online shoppers for certain stores, you need to create a new delivery mode for this purpose.</span></span> <span data-ttu-id="2078c-122">Você pode criar este modo de entrega usando "retirada em frente à loja" como a descrição.</span><span class="sxs-lookup"><span data-stu-id="2078c-122">You can create this delivery mode using "curbside pickup" as the description.</span></span> <span data-ttu-id="2078c-123">Em seguida, você procurará garantir que o modo de entrega "retirada em frente à loja" seja mapeado para todos os canais de comércio que podem oferecê-lo, inclusive lojas online que podem oferecer essa opção e os canais de loja individuais que oferecerão esse método de atendimento.</span><span class="sxs-lookup"><span data-stu-id="2078c-123">You'll then want to ensure that the "curbside pickup" mode of delivery is mapped to all of the Commerce channels that can offer it, including online stores that may offer this option and the individual store channels that will offer this method of fulfillment.</span></span> <span data-ttu-id="2078c-124">Os modos de entrega também devem estar vinculados aos produtos.</span><span class="sxs-lookup"><span data-stu-id="2078c-124">Modes of delivery must also be linked to the products.</span></span> <span data-ttu-id="2078c-125">Neste exemplo, se há determinados produtos que não podem ser entregues usando "retirada em frente à loja", será necessário garantir que esses itens sejam excluídos.</span><span class="sxs-lookup"><span data-stu-id="2078c-125">In this example, if there are certain products that can't be fulfilled using "curbside pickup", you need to ensure that those items are excluded.</span></span> <span data-ttu-id="2078c-126">Quando terminar de adicionar novos modos de entrega, execute o trabalho **Processar modos de entrega** para criar os relacionamentos entre modo de entrega, canais e itens.</span><span class="sxs-lookup"><span data-stu-id="2078c-126">When you've finished adding any new modes of delivery, run the **Process delivery modes** job to create the relationships between the mode of delivery, channels, and items.</span></span> <span data-ttu-id="2078c-127">Quando o trabalho for concluído, abra a página **Agenda de distribuição** na sede do Commerce e execute o trabalho de distribuição **1120** para garantir que os bancos de dados relevantes do canal do Commerce sejam atualizados com a nova configuração de modo de entrega.</span><span class="sxs-lookup"><span data-stu-id="2078c-127">When the job is completed, open the **Distribution schedule** page in Commerce headquarters, and run the **1120** distribution job to ensure that the relevant Commerce channel databases are updated with your new delivery mode configuration.</span></span>

![Exemplo de uma configuração de modo de entrega para retirada em frente à loja](media/pickupmodes.png)

<span data-ttu-id="2078c-129">Depois de definir os modos de entrega de retirada adicionais, adicione-os à grade **Modo de entrega de retirada** na página **Parâmetros do Commerce**.</span><span class="sxs-lookup"><span data-stu-id="2078c-129">After you define the additional pickup delivery modes, add them to the **Pickup mode of delivery** grid on the **Commerce parameters** page.</span></span> <span data-ttu-id="2078c-130">Em seguida, execute os trabalhos de distribuição adequados para atualizar os bancos de dados relevantes do canal do Commerce com a alteração de configuração.</span><span class="sxs-lookup"><span data-stu-id="2078c-130">Then run the appropriate distribution jobs to update the relevant Commerce channel databases with the configuration change.</span></span>

> [!NOTE]
> <span data-ttu-id="2078c-131">Além do modo de entrega de retirada existente que é copiado para a grade **Modo de entrega de retirada** quando você ativa o recurso **Suporte para vários modos de entrega de retirada**, para cada configuração de modo de entrega de retirada adicional criada, será necessário configurar novos modos de entrega.</span><span class="sxs-lookup"><span data-stu-id="2078c-131">Apart from the existing pickup delivery mode that is copied to the **Pickup mode of delivery** grid when you turn on the **Support for multiple pickup delivery modes** feature, for every additional pickup delivery mode configuration that you create, you should configure new modes of delivery.</span></span> <span data-ttu-id="2078c-132">Quando você adiciona modos de entrega à grade **Modo de entrega de retirada**, o Commerce valida se as linhas de venda abertas e ativas já os usam.</span><span class="sxs-lookup"><span data-stu-id="2078c-132">When you add modes of delivery to the **Pickup mode of delivery** grid, Commerce validates whether any active open sales lines already use them.</span></span> <span data-ttu-id="2078c-133">Se forem encontradas linhas de venda abertas, você receberá uma mensagem de erro.</span><span class="sxs-lookup"><span data-stu-id="2078c-133">If any open sales lines are found, you receive an error message.</span></span> <span data-ttu-id="2078c-134">Os modos de entrega não são considerados modos de entrega de retirada até que todas as linhas de venda abertas que os usam tenham sido fechadas (faturadas ou canceladas).</span><span class="sxs-lookup"><span data-stu-id="2078c-134">Modes of delivery aren't considered pickup delivery modes until all open sales lines that use them have been closed (either invoiced or canceled).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2078c-135">Depois que você definir mais de um modo de entrega de retirada na página **Parâmetros do Commerce**, o recurso **Suporte para vários modos de entrega de retirada** se tornará obrigatório e não poderá mais ser desativado.</span><span class="sxs-lookup"><span data-stu-id="2078c-135">After you define more than one pickup delivery mode on the **Commerce parameters** page, the **Support for multiple pickup delivery modes** feature becomes mandatory and can no longer be turned off.</span></span> <span data-ttu-id="2078c-136">Se for necessário desativá-lo, remova todos os modos de entrega de retirada, exceto um, da grade **Modo de entrega de retirada**.</span><span class="sxs-lookup"><span data-stu-id="2078c-136">If you must turn off the feature, remove all but one pickup delivery mode from the **Pickup mode of delivery** grid.</span></span> <span data-ttu-id="2078c-137">Quando somente um modo de entrega de retirada estiver definido, o recurso não será mais considerado obrigatório e poderá ser desativado.</span><span class="sxs-lookup"><span data-stu-id="2078c-137">When only one pickup delivery mode is defined, the feature is longer considered mandatory and can be turned off.</span></span>

### <a name="e-commerce-site-configurations"></a><span data-ttu-id="2078c-138">Configurações de sites de comércio eletrônico</span><span class="sxs-lookup"><span data-stu-id="2078c-138">E-commerce site configurations</span></span>

<span data-ttu-id="2078c-139">Quando o recurso **Suporte para vários modos de entrega de retirada** está ativado, os seguintes módulos nas páginas de comércio eletrônico mostram os novos modos de entrega de retirada, conforme configurado:</span><span class="sxs-lookup"><span data-stu-id="2078c-139">When the **Support for multiple pickup delivery modes** feature is turned on, the following modules on e-commerce pages show the new pickup delivery modes as configured:</span></span>

- <span data-ttu-id="2078c-140">Caixa de compra</span><span class="sxs-lookup"><span data-stu-id="2078c-140">Buy box</span></span>
- <span data-ttu-id="2078c-141">Seletor de lojas</span><span class="sxs-lookup"><span data-stu-id="2078c-141">Store selector</span></span>
- <span data-ttu-id="2078c-142">Carrinho</span><span class="sxs-lookup"><span data-stu-id="2078c-142">Cart</span></span>
- <span data-ttu-id="2078c-143">Informações de separação</span><span class="sxs-lookup"><span data-stu-id="2078c-143">Pickup information</span></span>
- <span data-ttu-id="2078c-144">Confirmação da ordem</span><span class="sxs-lookup"><span data-stu-id="2078c-144">Order confirmation</span></span>
- <span data-ttu-id="2078c-145">Detalhes da Ordem</span><span class="sxs-lookup"><span data-stu-id="2078c-145">Order details</span></span>

<span data-ttu-id="2078c-146">Nenhuma etapa adicional é necessária nas páginas de comércio eletrônico para disponibilizar os modos de entrega de retirada.</span><span class="sxs-lookup"><span data-stu-id="2078c-146">No additional steps are required on e-commerce pages to make the pickup delivery modes available.</span></span>

## <a name="work-with-multiple-pickup-delivery-modes"></a><span data-ttu-id="2078c-147">Trabalhar com vários modos de entrega de retirada</span><span class="sxs-lookup"><span data-stu-id="2078c-147">Work with multiple pickup delivery modes</span></span>

<span data-ttu-id="2078c-148">Quando vários modos de entrega de retirada estiverem disponíveis para um canal, uma experiência aprimorada será fornecida aos clientes quando eles comprarem produtos que serão retirados.</span><span class="sxs-lookup"><span data-stu-id="2078c-148">When multiple pickup delivery modes are available for a channel, an enhanced experience is provided to customers when they shop for products that will be picked up.</span></span> 

- <span data-ttu-id="2078c-149">Em canais de comércio eletrônico, os compradores podem selecionar qualquer modo de entrega de retirada válido disponível.</span><span class="sxs-lookup"><span data-stu-id="2078c-149">In e-commerce channels, shoppers can select any valid pickup delivery mode that is available.</span></span> <span data-ttu-id="2078c-150">Por exemplo, um varejista define dois modos de entrega de retirada (retirada na loja e retirada em frente à loja), ambos são configurados na grade **Modo de entrega de retirada** e ambos são válidos para o canal de atendimento de ordens e o produto que um comprador está adquirindo no momento.</span><span class="sxs-lookup"><span data-stu-id="2078c-150">For example, a retailer defines two pickup delivery modes (in-store pickup and curbside pickup), both are configured in the **Pickup mode of delivery** grid, and both are valid for the order fulfillment channel and the product that a shopper is currently purchasing.</span></span> <span data-ttu-id="2078c-151">Nesse caso, o comprador pode selecionar o modo de entrega de retirada de sua preferência.</span><span class="sxs-lookup"><span data-stu-id="2078c-151">In this case, the shopper can select their preferred pickup delivery mode.</span></span> <span data-ttu-id="2078c-152">O modo de entrega de retirada selecionado passa a ser o modo de entrega vinculado à linha da ordem de venda quando a ordem é criada na sede do Commerce.</span><span class="sxs-lookup"><span data-stu-id="2078c-152">The selected pickup delivery mode then becomes the mode of delivery that is linked to the sales order line when the order is created in Commerce headquarters.</span></span>

    ![Selecionar uma opção de retirada no comércio eletrônico](media/pickupecommerce.png)

- <span data-ttu-id="2078c-154">Em canais de loja, se uma ordem de cliente para retirada for criada por meio do aplicativo de ponto de venda (PDV), o representante de vendas será solicitado a escolher entre os modos de entrega de retirada disponíveis, caso algum tenha sido configurado.</span><span class="sxs-lookup"><span data-stu-id="2078c-154">In store channels, if a customer order for pickup is created through the point of sale (POS) application, the sales associate is prompted to choose among the available pickup delivery modes, if any have been configured.</span></span> <span data-ttu-id="2078c-155">Se apenas um modo de entrega de retirada válido estiver disponível para o canal e o item, o representante de vendas não será solicitado a selecioná-lo.</span><span class="sxs-lookup"><span data-stu-id="2078c-155">If only one valid pickup delivery mode is available for the channel and item, the sales associate isn't prompted to select it.</span></span> <span data-ttu-id="2078c-156">Em vez disso, o modo de entrega de retirada disponível será aplicado automaticamente às linhas da ordem.</span><span class="sxs-lookup"><span data-stu-id="2078c-156">Instead, the available pickup delivery mode is automatically applied to the order lines.</span></span>

    ![Selecionar uma opção de retirada no aplicativo de PDV](media/pickuppos.png)

- <span data-ttu-id="2078c-158">Em canais de call center, quando os usuários criam ordens de retirada, eles podem selecionar manualmente qualquer modo de entrega de retirada definido que esteja vinculado ao canal de call center.</span><span class="sxs-lookup"><span data-stu-id="2078c-158">In call center channels, when users create pickup orders, they can manually select any defined pickup delivery mode that is linked to the call center channel.</span></span> <span data-ttu-id="2078c-159">Em seguida, o sistema valida que o modo de entrega de retirada selecionado pode ser usado quando o item que está sendo vinculado a ele é encomendado.</span><span class="sxs-lookup"><span data-stu-id="2078c-159">The system then validates that the selected pickup delivery mode can be used when the item that is being linked to it is ordered.</span></span> <span data-ttu-id="2078c-160">Quando um modo de entrega de retirada é selecionado em canais de call center, as linhas da ordem de venda devem ser vinculadas a um depósito de loja válido.</span><span class="sxs-lookup"><span data-stu-id="2078c-160">When a pickup delivery mode is selected in call center channels, the sales order lines must be linked to a valid store warehouse.</span></span> <span data-ttu-id="2078c-161">Se um depósito não referente a uma loja for definido em uma linha de venda de call center, não será possível definir um modo de entrega de retirada nessa linha de venda.</span><span class="sxs-lookup"><span data-stu-id="2078c-161">If a non-store warehouse is defined on a call center sales line, a pickup delivery mode can't be set on that sales line.</span></span>
- <span data-ttu-id="2078c-162">Os representantes de vendas podem usar a operação **Cancelamento da ordem** ou **Atendimento da ordem** no aplicativo de PDV para recuperar uma lista de ordens ou linhas de ordem para retirada.</span><span class="sxs-lookup"><span data-stu-id="2078c-162">Sales associates can use the **Order recall** or **Order fulfillment** operation in the POS application to retrieve a list of orders or order lines for pickup.</span></span> <span data-ttu-id="2078c-163">Se um representante de vendas usar um filtro de pesquisa predefinido para mostrar todas as ordens que serão retiradas na loja atual, as consultas serão modificadas para garantir que os resultados da pesquisa incluam todas as ordens elegíveis que usam qualquer modo de entrega de retirada.</span><span class="sxs-lookup"><span data-stu-id="2078c-163">If a sales associate uses a predefined search filter to show all orders that will be picked up at the current store, the queries are modified to ensure that the search results include all eligible orders that use any pickup delivery mode.</span></span> <span data-ttu-id="2078c-164">Os usuários do PDV também podem usar filtros existentes para restringir a lista de ordens a um modo de entrega de retirada específico.</span><span class="sxs-lookup"><span data-stu-id="2078c-164">POS users can also use existing filters to narrow down the list of orders to a specific pickup delivery mode.</span></span> <span data-ttu-id="2078c-165">Por exemplo, eles podem mostrar somente as ordens para retirada em frente à loja.</span><span class="sxs-lookup"><span data-stu-id="2078c-165">For example, they can show only orders for curbside pickup.</span></span>

    ![Filtro para modos de entrega de retirada aplicado a uma lista de ordens de cancelamento](media/pickuprecallorder.png)

## <a name="considerations-for-distributed-order-management"></a><span data-ttu-id="2078c-167">Considerações para o gerenciamento de ordem distribuído</span><span class="sxs-lookup"><span data-stu-id="2078c-167">Considerations for distributed order management</span></span>

<span data-ttu-id="2078c-168">Os recursos de [gerenciamento de ordem distribuído (DOM)](./dom.md) no Commerce ignoram as linhas de venda marcadas para retirada na loja.</span><span class="sxs-lookup"><span data-stu-id="2078c-168">The [distributed order management (DOM)](./dom.md) features in Commerce ignore any sales lines that are marked for store pickup.</span></span> <span data-ttu-id="2078c-169">Esses recursos foram atualizados para garantir que as linhas de venda vinculadas a modos de entrega de retirada configurados ignorem a lógica DOM e não sejam realocadas para um novo depósito de atendimento.</span><span class="sxs-lookup"><span data-stu-id="2078c-169">These features have been updated to ensure that sales lines that are linked to configured pickup delivery modes bypass the DOM logic and won't be reallocated to a new fulfillment warehouse.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
