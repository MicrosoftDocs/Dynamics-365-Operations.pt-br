---
title: Módulo de finalização da compra
description: Este tópico descreve como adicionar um módulo de finalização da compra a uma página e definir as propriedades necessárias.
author: anupamar-ms
manager: annbe
ms.date: 10/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 4b810441fd25d41ee0893b119b4f7d91e7435d21
ms.sourcegitcommit: 295d940a345879b3dfc5991e387b91c7257019ea
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/01/2019
ms.locfileid: "2697074"
---
# <a name="checkout-module"></a><span data-ttu-id="106f6-103">Módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="106f6-103">Checkout module</span></span>

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

<span data-ttu-id="106f6-104">Este tópico descreve como adicionar um módulo de finalização da compra a uma página e definir as propriedades necessárias.</span><span class="sxs-lookup"><span data-stu-id="106f6-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="106f6-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="106f6-105">Overview</span></span>

<span data-ttu-id="106f6-106">Um módulo de finalização da compra é um contêiner especial que hospeda todos os módulos necessários para criar uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-106">A checkout module is a special container that hosts all the modules that are required to create an order.</span></span> <span data-ttu-id="106f6-107">Um módulo de finalização da compra pode incluir módulos que gerenciam o endereço de remessa, métodos de remessa, informações para cobrança, resumo da ordem e outras informações relacionadas a uma ordem do cliente.</span><span class="sxs-lookup"><span data-stu-id="106f6-107">A checkout module can include modules that handle the shipping address, shipping methods, billing information, order summary, and other information that is related to a customer order.</span></span> <span data-ttu-id="106f6-108">Apresenta um fluxo passo a passo que um cliente usa para inserir todas as informações relevantes para fazer uma compra.</span><span class="sxs-lookup"><span data-stu-id="106f6-108">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span>

<span data-ttu-id="106f6-109">Um módulo de finalização da compra renderiza dados com base na ID de carrinho.</span><span class="sxs-lookup"><span data-stu-id="106f6-109">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="106f6-110">Essa ID de carrinho é salva como um cookie do navegador.</span><span class="sxs-lookup"><span data-stu-id="106f6-110">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="106f6-111">É necessária uma ID de carrinho para renderizar informações no módulo de finalização da compra, como os itens da ordem, o valor total e os descontos.</span><span class="sxs-lookup"><span data-stu-id="106f6-111">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span>

## <a name="checkout-module-properties"></a><span data-ttu-id="106f6-112">Propriedades do módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="106f6-112">Checkout module properties</span></span>

<span data-ttu-id="106f6-113">Um módulo de finalização da compra hospeda um conjunto de módulos dentro dele.</span><span class="sxs-lookup"><span data-stu-id="106f6-113">A checkout module hosts a set of modules inside it.</span></span> <span data-ttu-id="106f6-114">Uma propriedade Largura permite especificar se os itens no módulo de finalização da compra devem se ajustar à largura ou preencher a tela.</span><span class="sxs-lookup"><span data-stu-id="106f6-114">A width property lets you specify whether the items in the checkout module should fit the width of it or fill the screen.</span></span>

<span data-ttu-id="106f6-115">Um módulo de finalização da compra possui vários slots, como um slot **Informações de finalização da compra**, um slot **Resumo da ordem** e um slot **Colocar ordem**.</span><span class="sxs-lookup"><span data-stu-id="106f6-115">A checkout module has multiple slots, such as a **Checkout information** slot, an **Order summary** slot, and a **Place order** slot.</span></span> <span data-ttu-id="106f6-116">Cada slot permite um conjunto de módulos que aparecerão em um layout específico na página.</span><span class="sxs-lookup"><span data-stu-id="106f6-116">Each slot supports a set of modules that will appear in a specific layout on the page.</span></span> <span data-ttu-id="106f6-117">Por exemplo, o slot **Informações de finalização da compra** contém todos os módulos necessários para acionar uma finalização da compra, como módulos para o endereço de remessa e o método de pagamento.</span><span class="sxs-lookup"><span data-stu-id="106f6-117">For example, the **Checkout information** slot contains all the modules that are required to trigger a checkout, such as modules for the shipping address and payment method.</span></span> <span data-ttu-id="106f6-118">O slot **Resumo da ordem** mostra um resumo da ordem e permite a ação para colocar a ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-118">The **Order summary** slot shows an order summary and supports the action for placing the order.</span></span> <span data-ttu-id="106f6-119">O slot **Colocar ordem** também permite a ação para colocar a ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-119">The **Place order** slot also supports the action for placing the order.</span></span> <span data-ttu-id="106f6-120">Os módulos de colocar a ordem podem ser definidos em dois slots para otimizar o processo de colocação de ordens de várias plataformas.</span><span class="sxs-lookup"><span data-stu-id="106f6-120">Place order modules can be defined in two slots to optimize the process of placing orders from various platforms.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="106f6-121">Módulos que podem ser usados no módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="106f6-121">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="106f6-122">**Endereço de remessa** – Este módulo permite que um cliente adicione ou selecione o endereço de remessa para uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-122">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="106f6-123">Se o cliente estiver conectado, quaisquer endereços que foram salvos anteriormente para esse cliente serão mostrados.</span><span class="sxs-lookup"><span data-stu-id="106f6-123">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="106f6-124">O cliente pode então selecionar entre esses endereços.</span><span class="sxs-lookup"><span data-stu-id="106f6-124">The customer can then select among those addresses.</span></span> <span data-ttu-id="106f6-125">O cliente também pode adicionar um novo endereço.</span><span class="sxs-lookup"><span data-stu-id="106f6-125">The customer can also add a new address.</span></span> <span data-ttu-id="106f6-126">O endereço de remessa é usado para todos os itens na ordem que requerem remessa.</span><span class="sxs-lookup"><span data-stu-id="106f6-126">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="106f6-127">Não é possível personalizá-lo para itens de linha individuais.</span><span class="sxs-lookup"><span data-stu-id="106f6-127">It can't be customized for individual line items.</span></span> <span data-ttu-id="106f6-128">Os formatos de endereço de remessa são definidos para cada país ou região e as regras específicas de país/região são aplicadas por esse módulo.</span><span class="sxs-lookup"><span data-stu-id="106f6-128">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="106f6-129">Embora esse módulo não forneça validação de endereço, a validação de endereço pode ser implementada por meio da personalização.</span><span class="sxs-lookup"><span data-stu-id="106f6-129">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="106f6-130">Se a ordem incluir somente itens que serão retirados na loja, esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="106f6-130">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="106f6-131">**Opções de entrega** – Este módulo permite que um cliente selecione uma opção de entrega para uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-131">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="106f6-132">As opções de entrega são baseadas no endereço de remessa.</span><span class="sxs-lookup"><span data-stu-id="106f6-132">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="106f6-133">Se o endereço de remessa for alterado, as opções de entrega deverão ser recuperadas novamente.</span><span class="sxs-lookup"><span data-stu-id="106f6-133">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="106f6-134">Se a ordem incluir somente itens que serão retirados na loja, esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="106f6-134">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="106f6-135">**Contêiner da seção de finalização da compra** – Este módulo é um contêiner dentro do qual é possível colocar vários módulos para criar uma seção dentro do fluxo de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="106f6-135">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="106f6-136">Por exemplo, você pode colocar todos os módulos relacionados a pagamento dentro desse contêiner para que eles apareçam como uma seção.</span><span class="sxs-lookup"><span data-stu-id="106f6-136">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="106f6-137">Esse módulo afeta apenas o layout do fluxo.</span><span class="sxs-lookup"><span data-stu-id="106f6-137">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="106f6-138">**Vale-presente** – Este módulo permite que um cliente pague uma ordem usando um vale-presente.</span><span class="sxs-lookup"><span data-stu-id="106f6-138">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="106f6-139">Ele só é compatível com vales-presente do Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="106f6-139">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="106f6-140">Um ou mais vales-presente podem ser aplicados a uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-140">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="106f6-141">Se o saldo do vale-presente não cobrir o valor do carrinho, ele poderá ser combinado com outra forma de pagamento.</span><span class="sxs-lookup"><span data-stu-id="106f6-141">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="106f6-142">Os vales-presente podem ser resgatados apenas se o cliente estiver conectado.</span><span class="sxs-lookup"><span data-stu-id="106f6-142">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="106f6-143">**Pontos de fidelidade** – Este módulo permite que um cliente pague uma ordem usando pontos de fidelidade.</span><span class="sxs-lookup"><span data-stu-id="106f6-143">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="106f6-144">Ele fornece um resumo dos pontos disponíveis e pontos vencidos e permite que o cliente selecione o número de pontos a serem resgatados.</span><span class="sxs-lookup"><span data-stu-id="106f6-144">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="106f6-145">Se o cliente não estiver conectado ou não for um membro de fidelidade, ou se o valor total no carrinho for 0 (zero), esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="106f6-145">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="106f6-146">**Cartão de crédito** – Este módulo permite que um cliente pague uma ordem usando um cartão de crédito.</span><span class="sxs-lookup"><span data-stu-id="106f6-146">**Credit card** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="106f6-147">Se o valor total do carrinho estiver coberto por pontos de fidelidade ou vale-presente e ou se for 0 (zero), esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="106f6-147">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="106f6-148">A integração do cartão de crédito é fornecida pelo conector de pagamento Adyen.</span><span class="sxs-lookup"><span data-stu-id="106f6-148">Credit card integration is provided by the Adyen payment connector.</span></span> <span data-ttu-id="106f6-149">Para obter mais informações sobre como usar esse conector, consulte o [conector de pagamento Adyen](https://).</span><span class="sxs-lookup"><span data-stu-id="106f6-149">For more information about how to use this connector, see [Adyen payment connector](https://).</span></span>
- <span data-ttu-id="106f6-150">**Endereço de cobrança** – Este módulo permite que um cliente forneça informações de cobrança.</span><span class="sxs-lookup"><span data-stu-id="106f6-150">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="106f6-151">Essas informações são processadas, juntamente com as informações do cartão de crédito, pela Adyen.</span><span class="sxs-lookup"><span data-stu-id="106f6-151">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="106f6-152">Essas informações são processadas, juntamente com as informações do cartão de crédito, pela Adyen.</span><span class="sxs-lookup"><span data-stu-id="106f6-152">This module includes an option that lets customers use their billing address as the shipping address.</span></span>
- <span data-ttu-id="106f6-153">**Informações de contato** – Este módulo permite que um cliente adicione ou altere as informações de contato (endereço de email) de uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-153">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>
- <span data-ttu-id="106f6-154">**Colocar ordem** – Este módulo permite que um cliente coloque uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-154">**Place order** – This module lets a customer place an order.</span></span>
- <span data-ttu-id="106f6-155">**Bloco de conteúdo sofisticado** – Este módulo contém qualquer mensagem conduzida pelo sistema de gerenciamento de conteúdo (CMS).</span><span class="sxs-lookup"><span data-stu-id="106f6-155">**Content rich block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="106f6-156">Por exemplo, pode conter uma mensagem informando "For issues with your order, please contact 1-800-FABRIKAM" (Caso você tenha problemas com uma ordem, entre em contato com 1-800-FABRIKAM).</span><span class="sxs-lookup"><span data-stu-id="106f6-156">For example, it might contain a message that states, "For issues with your order, please contact 1-800-FABRIKAM."</span></span> 
- <span data-ttu-id="106f6-157">**Resumo da ordem** – Este módulo mostra o detalhamento de custos de uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-157">**Order summary** – This module shows the cost breakdown of an order.</span></span>
- <span data-ttu-id="106f6-158">**Itens de linha de ordem** – Este módulo mostra um resumo dos itens que serão incluídos em uma ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-158">**Order line items** – This module shows a summary of the items that will be included in an order.</span></span>

## <a name="retail-server-interaction"></a><span data-ttu-id="106f6-159">Interação do Retail Server</span><span class="sxs-lookup"><span data-stu-id="106f6-159">Retail server interaction</span></span>

<span data-ttu-id="106f6-160">A maioria das informações de finalização da compra, como endereço e método de remessa, é armazenada no carrinho e processada como parte da ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-160">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="106f6-161">A única exceção são as informações de cartão de crédito.</span><span class="sxs-lookup"><span data-stu-id="106f6-161">The only exception is the credit card information.</span></span> <span data-ttu-id="106f6-162">Essas informações são processadas diretamente usando o conector de pagamento Adyen.</span><span class="sxs-lookup"><span data-stu-id="106f6-162">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="106f6-163">O pagamento é autorizado, mas não é cobrado.</span><span class="sxs-lookup"><span data-stu-id="106f6-163">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a><span data-ttu-id="106f6-164">Adicionar um módulo de finalização da compra a uma nova página e definir as propriedades necessárias</span><span class="sxs-lookup"><span data-stu-id="106f6-164">Add a checkout module to a new page and set the required properties</span></span>

<span data-ttu-id="106f6-165">Para adicionar um módulo de finalização da compra a uma nova página e definir as propriedades necessárias, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="106f6-165">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="106f6-166">Vá para **Fragmento \> Novo Fragmento** e nomeie o novo fragmento como **Fragmento de finalização da compra**.</span><span class="sxs-lookup"><span data-stu-id="106f6-166">Go to **Fragment \> New Fragment**, and name the new fragment **Checkout fragment**.</span></span>
1. <span data-ttu-id="106f6-167">Adicione um módulo de finalização da compra ao fragmento.</span><span class="sxs-lookup"><span data-stu-id="106f6-167">Add a checkout module to the fragment.</span></span>
1. <span data-ttu-id="106f6-168">Adicione um cabeçalho ao módulo de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="106f6-168">Add a heading to the checkout module.</span></span>
1. <span data-ttu-id="106f6-169">No slot **Informações de finalização da compra**, adicione módulos de endereço de remessa, opções de entrega, contêiner da seção de finalização da compra e informações de contato.</span><span class="sxs-lookup"><span data-stu-id="106f6-169">In the **Checkout information** slot, add shipping address, delivery options, checkout section container, and contact information modules.</span></span> <span data-ttu-id="106f6-170">Agora deve haver quatro seções no slot **Informações de finalização da compra**.</span><span class="sxs-lookup"><span data-stu-id="106f6-170">There should now be four sections in the **Checkout information** slot.</span></span>
1. <span data-ttu-id="106f6-171">No módulo de contêiner de finalização da compra, adicione módulos de vale-presente, pontos de fidelidade e cartão de crédito.</span><span class="sxs-lookup"><span data-stu-id="106f6-171">In the checkout section container module, add gift card, loyalty points, and credit card modules.</span></span> <span data-ttu-id="106f6-172">Dessa forma, verifique se todos os métodos de pagamento aparecem juntos em uma seção.</span><span class="sxs-lookup"><span data-stu-id="106f6-172">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="106f6-173">No slot **Resumo da ordem**, adicione módulos de resumo de ordem, colocação de ordem e bloco de conteúdo sofisticado.</span><span class="sxs-lookup"><span data-stu-id="106f6-173">In the **Order summary** slot, add order summary, place order, and content rich block modules.</span></span>
1. <span data-ttu-id="106f6-174">No módulo de bloco de conteúdo sofisticado, adicione o seguinte texto: **Em caso de dúvidas sobre ordens, entre em contato com 1-800-FABRIKAM.**</span><span class="sxs-lookup"><span data-stu-id="106f6-174">In the content rich block module, add the following text: **For questions about your order, contact 1-800-FABRIKAM.**</span></span>
1. <span data-ttu-id="106f6-175">No slot **Colocar ordem**, adicione um módulo de colocação de ordem.</span><span class="sxs-lookup"><span data-stu-id="106f6-175">In the **Place order** slot, add a place order module.</span></span>
1. <span data-ttu-id="106f6-176">Selecione **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="106f6-176">Select **Save**.</span></span> <span data-ttu-id="106f6-177">Alguns módulos podem não ser renderizados na visualização, porque não possuem um contexto de carrinho.</span><span class="sxs-lookup"><span data-stu-id="106f6-177">Some modules might not be rendered in the preview, because they don't have a cart context.</span></span>
1. <span data-ttu-id="106f6-178">Verifique o fragmento e publique-o.</span><span class="sxs-lookup"><span data-stu-id="106f6-178">Check the fragment in, and publish it.</span></span>
1. <span data-ttu-id="106f6-179">Crie um modelo que use o novo fragmento de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="106f6-179">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="106f6-180">Crie uma página de finalização da compra que use o novo modelo.</span><span class="sxs-lookup"><span data-stu-id="106f6-180">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="106f6-181">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="106f6-181">Additional resources</span></span>

[<span data-ttu-id="106f6-182">Visão geral do kit de início</span><span class="sxs-lookup"><span data-stu-id="106f6-182">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="106f6-183">Módulo de contêiner</span><span class="sxs-lookup"><span data-stu-id="106f6-183">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="106f6-184">Módulo de caixa de compra</span><span class="sxs-lookup"><span data-stu-id="106f6-184">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="106f6-185">Módulo de carrinho</span><span class="sxs-lookup"><span data-stu-id="106f6-185">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="106f6-186">Módulo de confirmação da ordem</span><span class="sxs-lookup"><span data-stu-id="106f6-186">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="106f6-187">Módulo de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="106f6-187">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="106f6-188">Módulo de rodapé</span><span class="sxs-lookup"><span data-stu-id="106f6-188">Footer module</span></span>](author-footer-module.md)
