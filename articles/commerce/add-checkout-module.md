---
title: Módulo de finalização da compra
description: Este tópico descreve como adicionar um módulo de finalização da compra a uma página e definir as propriedades necessárias.
author: anupamar-ms
manager: annbe
ms.date: 05/28/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: bd1d66fc39872019fc38dbbfb56dc3015d57d0dd
ms.sourcegitcommit: b52477b7d0d52102a7ca2fb95f4ebfa30ecd9f54
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/29/2020
ms.locfileid: "3411175"
---
# <a name="checkout-module"></a><span data-ttu-id="f3453-103">Módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="f3453-103">Checkout module</span></span>


[!include [banner](includes/banner.md)]

<span data-ttu-id="f3453-104">Este tópico descreve como adicionar um módulo de finalização da compra a uma página e definir as propriedades necessárias.</span><span class="sxs-lookup"><span data-stu-id="f3453-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="f3453-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="f3453-105">Overview</span></span>

<span data-ttu-id="f3453-106">Um módulo de finalização da compra é um contêiner especial que hospeda todos os módulos necessários para criar um pedido.</span><span class="sxs-lookup"><span data-stu-id="f3453-106">A checkout module is a special container that hosts all modules that are required to create an order.</span></span> <span data-ttu-id="f3453-107">Apresenta um fluxo passo a passo que um cliente usa para inserir todas as informações relevantes para fazer uma compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-107">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span> <span data-ttu-id="f3453-108">Ele captura o endereço de remessa, o método de remessa e as informações de cobrança.</span><span class="sxs-lookup"><span data-stu-id="f3453-108">It captures the shipping address, shipping method, and billing information.</span></span> <span data-ttu-id="f3453-109">Ele também fornece um resumo do pedido e outras informações relacionadas a um pedido do cliente.</span><span class="sxs-lookup"><span data-stu-id="f3453-109">It also provides an order summary and other information that is related to a customer order.</span></span>

<span data-ttu-id="f3453-110">Um módulo de finalização da compra renderiza dados com base na ID de carrinho.</span><span class="sxs-lookup"><span data-stu-id="f3453-110">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="f3453-111">Essa ID de carrinho é salva como um cookie do navegador.</span><span class="sxs-lookup"><span data-stu-id="f3453-111">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="f3453-112">É necessária uma ID de carrinho para renderizar informações no módulo de finalização da compra, como os itens da ordem, o valor total e os descontos.</span><span class="sxs-lookup"><span data-stu-id="f3453-112">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span> 

<span data-ttu-id="f3453-113">A imagem a seguir mostra um exemplo de um módulo de finalização da compra da Fabrikam em uma página de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-113">The following image shows an example of a Fabrikam checkout module on a checkout page.</span></span>

![Exemplo de um módulo de finalização da compra](./media/Checkout.PNG)

## <a name="checkout-module-properties"></a><span data-ttu-id="f3453-115">Propriedades do módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="f3453-115">Checkout module properties</span></span>

<span data-ttu-id="f3453-116">Um módulo de finalização de compra mostra um resumo do pedido e fornece a funcionalidade para a realização de um pedido.</span><span class="sxs-lookup"><span data-stu-id="f3453-116">A checkout module shows an order summary and provides the functionality for placing an order.</span></span> <span data-ttu-id="f3453-117">Para coletar todas as informações de cliente necessárias antes que um pedido possa ser feito, os módulos adicionais devem ser adicionados ao módulo de finalização de compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-117">To gather all the customer information that is required before an order can be placed, additional modules must be added to the checkout module.</span></span> <span data-ttu-id="f3453-118">Portanto, os varejistas têm a flexibilidade de adicionar módulos personalizados ao fluxo de finalização de compra ou a excluir módulos, de acordo com suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="f3453-118">Therefore, retailers have the flexibility to add custom modules to the checkout flow, or to exclude modules, based on their requirements.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="f3453-119">Módulos que podem ser usados no módulo de finalização da compra</span><span class="sxs-lookup"><span data-stu-id="f3453-119">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="f3453-120">**Endereço de remessa** – Este módulo permite que um cliente adicione ou selecione o endereço de remessa para uma ordem.</span><span class="sxs-lookup"><span data-stu-id="f3453-120">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="f3453-121">Se o cliente estiver conectado, quaisquer endereços que foram salvos anteriormente para esse cliente serão mostrados.</span><span class="sxs-lookup"><span data-stu-id="f3453-121">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="f3453-122">O cliente pode então selecionar entre esses endereços.</span><span class="sxs-lookup"><span data-stu-id="f3453-122">The customer can then select among those addresses.</span></span> <span data-ttu-id="f3453-123">O cliente também pode adicionar um novo endereço.</span><span class="sxs-lookup"><span data-stu-id="f3453-123">The customer can also add a new address.</span></span> <span data-ttu-id="f3453-124">O endereço de remessa é usado para todos os itens na ordem que requerem remessa.</span><span class="sxs-lookup"><span data-stu-id="f3453-124">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="f3453-125">Não é possível personalizá-lo para itens de linha individuais.</span><span class="sxs-lookup"><span data-stu-id="f3453-125">It can't be customized for individual line items.</span></span> <span data-ttu-id="f3453-126">Os formatos de endereço de remessa são definidos para cada país ou região e as regras específicas de país/região são aplicadas por esse módulo.</span><span class="sxs-lookup"><span data-stu-id="f3453-126">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="f3453-127">Embora esse módulo não forneça validação de endereço, a validação de endereço pode ser implementada por meio da personalização.</span><span class="sxs-lookup"><span data-stu-id="f3453-127">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="f3453-128">Se a ordem incluir somente itens que serão retirados na loja, esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f3453-128">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>

    <span data-ttu-id="f3453-129">A imagem a seguir mostra um exemplo de um módulo de endereço de remessa em uma página de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-129">The following image shows an example of a shipping address module on a checkout page.</span></span>

    ![Exemplo de módulo de endereço de remessa](./media/ecommerce-shippingaddress.PNG)

- <span data-ttu-id="f3453-131">**Opções de entrega** – Este módulo permite que um cliente selecione uma opção de entrega para uma ordem.</span><span class="sxs-lookup"><span data-stu-id="f3453-131">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="f3453-132">As opções de entrega são baseadas no endereço de remessa.</span><span class="sxs-lookup"><span data-stu-id="f3453-132">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="f3453-133">Se o endereço de remessa for alterado, as opções de entrega deverão ser recuperadas novamente.</span><span class="sxs-lookup"><span data-stu-id="f3453-133">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="f3453-134">Se a ordem incluir somente itens que serão retirados na loja, esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f3453-134">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>

    <span data-ttu-id="f3453-135">A imagem a seguir mostra um exemplo de um módulo de opções de entrega em uma página de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-135">The following image shows an example of a delivery options module on a checkout page.</span></span>

    ![Exemplo de um módulo opções de entrega](./media/ecommerce-deliveryoptions.PNG)

- <span data-ttu-id="f3453-137">**Contêiner da seção de finalização da compra** – Este módulo é um contêiner dentro do qual é possível colocar vários módulos para criar uma seção dentro do fluxo de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-137">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="f3453-138">Por exemplo, você pode colocar todos os módulos relacionados a pagamento dentro desse contêiner para que eles apareçam como uma seção.</span><span class="sxs-lookup"><span data-stu-id="f3453-138">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="f3453-139">Esse módulo afeta apenas o layout do fluxo.</span><span class="sxs-lookup"><span data-stu-id="f3453-139">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="f3453-140">**Vale-presente** – Este módulo permite que um cliente pague uma ordem usando um vale-presente.</span><span class="sxs-lookup"><span data-stu-id="f3453-140">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="f3453-141">Ele só é compatível com vales-presente do Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="f3453-141">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="f3453-142">Um ou mais vales-presente podem ser aplicados a uma ordem.</span><span class="sxs-lookup"><span data-stu-id="f3453-142">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="f3453-143">Se o saldo do vale-presente não cobrir o valor do carrinho, ele poderá ser combinado com outra forma de pagamento.</span><span class="sxs-lookup"><span data-stu-id="f3453-143">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="f3453-144">Os vales-presente podem ser resgatados apenas se o cliente estiver conectado.</span><span class="sxs-lookup"><span data-stu-id="f3453-144">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="f3453-145">**Pontos de fidelidade** – Este módulo permite que um cliente pague uma ordem usando pontos de fidelidade.</span><span class="sxs-lookup"><span data-stu-id="f3453-145">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="f3453-146">Ele fornece um resumo dos pontos disponíveis e pontos vencidos e permite que o cliente selecione o número de pontos a serem resgatados.</span><span class="sxs-lookup"><span data-stu-id="f3453-146">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="f3453-147">Se o cliente não estiver conectado ou não for um membro de fidelidade, ou se o valor total no carrinho for 0 (zero), esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f3453-147">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="f3453-148">**Pagamento** – Este módulo permite que um cliente pague um pedido usando um cartão de crédito.</span><span class="sxs-lookup"><span data-stu-id="f3453-148">**Payment** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="f3453-149">Se o valor total do carrinho estiver coberto por pontos de fidelidade ou vale-presente e ou se for 0 (zero), esse módulo ficará oculto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f3453-149">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="f3453-150">A integração do cartão de crédito é fornecida pelo conector de pagamento Adyen para esse módulo.</span><span class="sxs-lookup"><span data-stu-id="f3453-150">Credit card integration is provided by the Adyen payment connector for this module.</span></span> <span data-ttu-id="f3453-151">Para obter mais informações sobre como usar esse conector, consulte o [Conector de pagamento do Dynamics 365 para Adyen](dev-itpro/adyen-connector.md).</span><span class="sxs-lookup"><span data-stu-id="f3453-151">For more information about how to use this connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>
- <span data-ttu-id="f3453-152">**Endereço de cobrança** – Este módulo permite que um cliente forneça informações de cobrança.</span><span class="sxs-lookup"><span data-stu-id="f3453-152">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="f3453-153">Essas informações são processadas, juntamente com as informações do cartão de crédito, pela Adyen.</span><span class="sxs-lookup"><span data-stu-id="f3453-153">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="f3453-154">Essas informações são processadas, juntamente com as informações do cartão de crédito, pela Adyen.</span><span class="sxs-lookup"><span data-stu-id="f3453-154">This module includes an option that lets customers use their billing address as the shipping address.</span></span>

    <span data-ttu-id="f3453-155">A imagem a seguir mostra um exemplo de um cartão-presente, pontos de fidelidade, pagamento e módulos de endereço de cobrança em uma página de finalização de compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-155">The following image shows an example of gift card, loyalty points, payment, and billing address modules on a checkout page.</span></span>

    ![Exemplo de um cartão-presente, pontos de fidelidade, pagamento e módulos de endereço de cobrança](./media/ecommerce-payments.PNG)

- <span data-ttu-id="f3453-157">**Informações de contato** – Este módulo permite que um cliente adicione ou altere as informações de contato (endereço de email) de uma ordem.</span><span class="sxs-lookup"><span data-stu-id="f3453-157">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>

- <span data-ttu-id="f3453-158">**Bloco de texto** – Este módulo contém mensagens controladas pelo sistema de gerenciamento de conteúdo (CMS).</span><span class="sxs-lookup"><span data-stu-id="f3453-158">**Text block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="f3453-159">Por exemplo, ele pode conter uma mensagem informando "Caso você tenha problemas com uma ordem, entre em contato com 1-800-Fabrikam".</span><span class="sxs-lookup"><span data-stu-id="f3453-159">For example, it might contain a message that states, "For issues with your order, contact 1-800-Fabrikam."</span></span> 

## <a name="commerce-scale-unit-interaction"></a><span data-ttu-id="f3453-160">Interação do Commerce Scale Unit</span><span class="sxs-lookup"><span data-stu-id="f3453-160">Commerce Scale Unit interaction</span></span>

<span data-ttu-id="f3453-161">A maioria das informações de finalização da compra, como endereço e método de remessa, é armazenada no carrinho e processada como parte da ordem.</span><span class="sxs-lookup"><span data-stu-id="f3453-161">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="f3453-162">A única exceção são as informações de cartão de crédito.</span><span class="sxs-lookup"><span data-stu-id="f3453-162">The only exception is the credit card information.</span></span> <span data-ttu-id="f3453-163">Essas informações são processadas diretamente usando o conector de pagamento Adyen.</span><span class="sxs-lookup"><span data-stu-id="f3453-163">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="f3453-164">O pagamento é autorizado, mas não é cobrado.</span><span class="sxs-lookup"><span data-stu-id="f3453-164">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-page-and-set-the-required-properties"></a><span data-ttu-id="f3453-165">Adicionar um módulo de finalização da compra a uma página e definir as propriedades necessárias</span><span class="sxs-lookup"><span data-stu-id="f3453-165">Add a checkout module to a page and set the required properties</span></span>

<span data-ttu-id="f3453-166">Para adicionar um módulo de finalização da compra a uma nova página e definir as propriedades necessárias, siga estas etapas.</span><span class="sxs-lookup"><span data-stu-id="f3453-166">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="f3453-167">Vá para **Fragmentos de Página** e selecione **Novo** para criar um novo fragmento.</span><span class="sxs-lookup"><span data-stu-id="f3453-167">Go to **Page Fragments**, and select **New** to create a new fragment.</span></span>
1. <span data-ttu-id="f3453-168">Na caixa de diálogo **Novo Fragmento de Página**, selecione o módulo **Finalização da compra**.</span><span class="sxs-lookup"><span data-stu-id="f3453-168">In the **New Page Fragment** dialog box, select the **Checkout** module.</span></span>
1. <span data-ttu-id="f3453-169">Em **Nome do Fragmento de Página**, digite o nome **Fragmento de finalização da compra** e selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="f3453-169">Under **Page Fragment Name**, enter the name **Checkout fragment**, and then select **OK**.</span></span>
1. <span data-ttu-id="f3453-170">Selecione o slot **Módulo de finalização da compra**.</span><span class="sxs-lookup"><span data-stu-id="f3453-170">Select the **Checkout module** slot.</span></span>
1. <span data-ttu-id="f3453-171">No painel de propriedades à direita, selecione o símbolo de lápis, digite o texto do título no campo e, em seguida, selecione o símbolo de marca de seleção.</span><span class="sxs-lookup"><span data-stu-id="f3453-171">In the properties pane on the right, select the pencil symbol, enter heading text in the field, and then select the check mark symbol.</span></span>
1. <span data-ttu-id="f3453-172">No slot **Informações de finalização da compra**, selecione as reticências (**...**) e, depois, **Adicionar Módulo**.</span><span class="sxs-lookup"><span data-stu-id="f3453-172">In the **Checkout Information** slot, select the ellipsis (**...**), and then select **Add Module**.</span></span>
1. <span data-ttu-id="f3453-173">Na caixa de diálogo **Adicionar Módulo**, selecione os módulos **Endereço de remessa**, **Opções de entrega**, **Contêiner de seção de finalização da compra** e **Informações de contato** e, depois, selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="f3453-173">In the **Add Module** dialog box, select the **Shipping address**, **Delivery options**, **Checkout section container**, and **Contact information** modules, and then select **OK**.</span></span>
1. <span data-ttu-id="f3453-174">No slot **Contêiner da seção de finalização da compra**, selecione as reticências (**...**) e, depois, **Adicionar Módulo**.</span><span class="sxs-lookup"><span data-stu-id="f3453-174">In the **Checkout section container** module, select the ellipsis (**...**), and then select **Add Module**.</span></span>
1. <span data-ttu-id="f3453-175">Na caixa de diálogo **Adicionar Módulo**, selecione os módulos **Cartão-presente**, **Fidelidade**, and **Pagamento** e, depois, selecione **OK**.</span><span class="sxs-lookup"><span data-stu-id="f3453-175">In the **Add Module** dialog box, select the **Gift card**, **Loyalty**, and **Payment** modules, and then select **OK**.</span></span> <span data-ttu-id="f3453-176">Dessa forma, verifique se todos os métodos de pagamento aparecem juntos em uma seção.</span><span class="sxs-lookup"><span data-stu-id="f3453-176">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="f3453-177">Selecione **Salvar** e, depois, **Visualizar** para visualizar o fragmento.</span><span class="sxs-lookup"><span data-stu-id="f3453-177">Select **Save**, and then select **Preview** to preview the fragment.</span></span> <span data-ttu-id="f3453-178">Alguns módulos que não tem um contexto de carrinho talvez não sejam renderizados na visualização.</span><span class="sxs-lookup"><span data-stu-id="f3453-178">Some modules that don't have a cart context might not be rendered in the preview.</span></span>
1. <span data-ttu-id="f3453-179">Selecione **Concluir edição** para fazer check-in do fragmento e, depois, selecione **Publicar** para publicá-lo.</span><span class="sxs-lookup"><span data-stu-id="f3453-179">Select **Finish editing** to check in the fragment, and then select **Publish** to publish it.</span></span>
1. <span data-ttu-id="f3453-180">Crie um modelo que use o novo fragmento de finalização da compra.</span><span class="sxs-lookup"><span data-stu-id="f3453-180">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="f3453-181">Crie uma página de finalização da compra que use o novo modelo.</span><span class="sxs-lookup"><span data-stu-id="f3453-181">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f3453-182">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="f3453-182">Additional resources</span></span>

[<span data-ttu-id="f3453-183">Visão geral do kit de início</span><span class="sxs-lookup"><span data-stu-id="f3453-183">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="f3453-184">Módulo de contêiner</span><span class="sxs-lookup"><span data-stu-id="f3453-184">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="f3453-185">Módulo de caixa de compra</span><span class="sxs-lookup"><span data-stu-id="f3453-185">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="f3453-186">Módulo de carrinho</span><span class="sxs-lookup"><span data-stu-id="f3453-186">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="f3453-187">Módulo de confirmação da ordem</span><span class="sxs-lookup"><span data-stu-id="f3453-187">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="f3453-188">Módulo de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="f3453-188">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="f3453-189">Módulo de rodapé</span><span class="sxs-lookup"><span data-stu-id="f3453-189">Footer module</span></span>](author-footer-module.md)
