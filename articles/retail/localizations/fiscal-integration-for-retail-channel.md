---
title: Visão geral da integração fiscal dos Canais de varejo
description: Este tópico fornece uma visão geral dos recursos de integração fiscal disponíveis no Microsoft Dynamics 365 for Retail.
author: josaw
manager: annbe
ms.date: 02/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailFunctionalityProfile, RetailFormLayout, RetailParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: Retail
ms.author: v-kikozl
ms.search.validFrom: 2019-1-16
ms.dyn365.ops.version: 10
ms.openlocfilehash: 2dc977e3c53b1f15b41b095f586861b67c973a6d
ms.sourcegitcommit: 68df883200b5c477ea1799cc28d3ef467cd29202
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/07/2019
ms.locfileid: "377126"
---
# <a name="overview-of-fiscal-integration-for-retail-channels"></a><span data-ttu-id="66add-103">Visão geral da integração fiscal dos Canais de varejo</span><span class="sxs-lookup"><span data-stu-id="66add-103">Overview of fiscal integration for Retail channels</span></span>

[!include [banner](../includes/banner.md)]

## <a name="introduction"></a><span data-ttu-id="66add-104">Introdução</span><span class="sxs-lookup"><span data-stu-id="66add-104">Introduction</span></span>

<span data-ttu-id="66add-105">Este tópico é uma visão geral dos recursos de integração fiscal disponíveis no Microsoft Dynamics 365 for Retail.</span><span class="sxs-lookup"><span data-stu-id="66add-105">This topic is an overview of the fiscal integration capabilities that are available in Microsoft Dynamics 365 for Retail.</span></span> <span data-ttu-id="66add-106">A integração fiscal inclui a integração com vários serviços e dispositivos fiscais que permitem o registro fiscal de vendas de varejo de acordo com as leis fiscais locais, destinadas a impedir fraudes fiscais no setor de varejo.</span><span class="sxs-lookup"><span data-stu-id="66add-106">Fiscal integration includes integration with various fiscal devices and services that enable fiscal registration of retail sales in accordance with local fiscal laws that are aimed at preventing tax fraud in the retail industry.</span></span> <span data-ttu-id="66add-107">Estes são alguns cenários típicos que podem ser cobertos usando a integração fiscal:</span><span class="sxs-lookup"><span data-stu-id="66add-107">Here are some typical scenarios that can be covered by using fiscal integration:</span></span> 

- <span data-ttu-id="66add-108">Registrar uma venda de varejo em um dispositivo fiscal conectado ao ponto de venda (PDV) do Retail, como uma impressora fiscal, e imprimir um recibo fiscal para o cliente.</span><span class="sxs-lookup"><span data-stu-id="66add-108">Register a retail sale on a fiscal device that is connected to Retail point of sale (POS), such as a fiscal printer, and print a fiscal receipt for the customer.</span></span>
- <span data-ttu-id="66add-109">Enviar com segurança informações relacionadas a vendas e devoluções concluídas no Retail POS a um serviço Web externo operado pela autoridade fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-109">Securely submit information that is related to sales and returns that are completed in Retail POS to an external web-service that is operated by the tax authority.</span></span>
- <span data-ttu-id="66add-110">Ajudar a garantir a inalterabilidade dos dados de transação de vendas por meio de assinaturas digitais.</span><span class="sxs-lookup"><span data-stu-id="66add-110">Help guarantee inalterability of sales transaction data through digital signatures.</span></span>

<span data-ttu-id="66add-111">A funcionalidade de integração fiscal no Retail é uma estrutura que fornece uma solução comum para o desenvolvimento e a personalização da integração entre o Retail POS e os serviços e dispositivos fiscais.</span><span class="sxs-lookup"><span data-stu-id="66add-111">The fiscal integration functionality in Retail is a framework that provides a common solution for further development and customization of the integration between Retail POS and fiscal devices and services.</span></span> <span data-ttu-id="66add-112">Ela também inclui exemplos de integração fiscal que oferecem suporte a cenários de varejo básicos para países ou regiões específicos e que funcionam com serviços ou dispositivos fiscais específicos.</span><span class="sxs-lookup"><span data-stu-id="66add-112">The functionality also includes fiscal integration samples that support basic retail scenarios for specific countries or regions, and that work with specific fiscal devices or services.</span></span> <span data-ttu-id="66add-113">Um exemplo de integração fiscal consiste em várias extensões de componentes do Retail e está incluído no kit de desenvolvimento de software (SDK) do Retail.</span><span class="sxs-lookup"><span data-stu-id="66add-113">A fiscal integration sample consists of several extensions of Retail components and is included in the Retail software development kit (SDK).</span></span> <span data-ttu-id="66add-114">Para obter mais informações sobre os exemplos de integração fiscal disponíveis no SDK do Retail, consulte [Exemplos de integração fiscal no SDK do Retail](#fiscal-integration-samples-in-the-retail-sdk).</span><span class="sxs-lookup"><span data-stu-id="66add-114">For more information about the fiscal integration samples that are available in the Retail SDK, see [Fiscal integration samples in the Retail SDK](#fiscal-integration-samples-in-the-retail-sdk).</span></span> <span data-ttu-id="66add-115">Para obter informações sobre como instalar e usar o SDK do Retail, consulte [Visão geral do SDK do Retail](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span><span class="sxs-lookup"><span data-stu-id="66add-115">For information about how to install and use the Retail SDK, see [Retail SDK overview](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span></span>

<span data-ttu-id="66add-116">Para oferecer suporte a outros cenários que não têm suporte de um exemplo de integração fiscal, integrar o Retail POS a outros serviços ou dispositivos fiscais ou cobrir requisitos de outros países ou regiões, é necessário estender um exemplo de integração fiscal existente ou criar um novo exemplo usando um existente como modelo.</span><span class="sxs-lookup"><span data-stu-id="66add-116">To support other scenarios that aren't supported by a fiscal integration sample, to integrate Retail POS with other fiscal devices or services, or to cover requirements of other countries or regions, you must either extend an existing fiscal integration sample or create a new sample by using an existing sample as an example.</span></span>

## <a name="fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices"></a><span data-ttu-id="66add-117">Processo de registro fiscal e exemplos de integração fiscal para dispositivos fiscais</span><span class="sxs-lookup"><span data-stu-id="66add-117">Fiscal registration process and fiscal integration samples for fiscal devices</span></span>

<span data-ttu-id="66add-118">Um processo de registro fiscal no Retail POS pode consistir em uma ou mais etapas.</span><span class="sxs-lookup"><span data-stu-id="66add-118">A fiscal registration process in Retail POS can consist of one or more steps.</span></span> <span data-ttu-id="66add-119">Cada etapa envolve o registro fiscal de eventos ou transações de varejo específicos em um serviço ou dispositivo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-119">Each step involves fiscal registration of specific retail transactions or events in one fiscal device or service.</span></span> <span data-ttu-id="66add-120">Os seguintes componentes de solução participam do registro fiscal em um dispositivo fiscal conectado a uma Estação de hardware:</span><span class="sxs-lookup"><span data-stu-id="66add-120">The following solution components participate in the fiscal registration in a fiscal device that is connected to a Hardware station:</span></span>

- <span data-ttu-id="66add-121">**Extensão Commerce Runtime (CRT)** – Este componente serializa dados de eventos/transações de varejo no formato que também é usado para interação com o dispositivo fiscal, analisa respostas do dispositivo fiscal e as armazena no banco de dados do canal.</span><span class="sxs-lookup"><span data-stu-id="66add-121">**Commerce runtime (CRT) extension** – This component serializes retail transaction/event data in the format that is also used for interaction with the fiscal device, parses responses from the fiscal device, and stores the responses in the channel database.</span></span> <span data-ttu-id="66add-122">A extensão também define as transações e os eventos específicos que devem ser registrados.</span><span class="sxs-lookup"><span data-stu-id="66add-122">The extension also defines the specific transactions and events that must be registered.</span></span> <span data-ttu-id="66add-123">Esse componente geralmente é conhecido como *provedor de documentos fiscais*.</span><span class="sxs-lookup"><span data-stu-id="66add-123">This component is often referred to as a *fiscal document provider*.</span></span>
- <span data-ttu-id="66add-124">**Extensão Estação de hardware** – Este componente inicializa a comunicação com o dispositivo fiscal, envia solicitações e comandos diretos a esse dispositivo com base nos dados de eventos/transações de varejo que são extraídos do documento fiscal e recebe respostas desse dispositivo.</span><span class="sxs-lookup"><span data-stu-id="66add-124">**Hardware station extension** – This component initializes the communication with the fiscal device, sends requests and direct commands to the fiscal device based on the retail transaction/event data that is extracted from the fiscal document, and receives responses from the fiscal device.</span></span> <span data-ttu-id="66add-125">Esse componente geralmente é conhecido como *conector fiscal*.</span><span class="sxs-lookup"><span data-stu-id="66add-125">This component is often referred to as a *fiscal connector*.</span></span>

<span data-ttu-id="66add-126">Um exemplo de integração fiscal de um dispositivo fiscal contém as extensões CRT e Estação de hardware para um provedor de documentos fiscais e um conector fiscal, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="66add-126">A fiscal integration sample for a fiscal device contains the CRT and Hardware station extensions for a fiscal document provider and a fiscal connector, respectively.</span></span> <span data-ttu-id="66add-127">Também contém as seguintes configurações de componentes:</span><span class="sxs-lookup"><span data-stu-id="66add-127">It also contains the following component configurations:</span></span>

- <span data-ttu-id="66add-128">**Configuração do provedor de documentos fiscais** – Esta configuração define um método de saída e um formato para documentos fiscais.</span><span class="sxs-lookup"><span data-stu-id="66add-128">**Fiscal document provider configuration** – This configuration defines an output method and a format for fiscal documents.</span></span> <span data-ttu-id="66add-129">Também contém um mapeamento de dados de impostos e métodos de pagamento para tornar os dados do Retail POS compatíveis com os valores predefinidos no firmware do dispositivo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-129">It also contains a data mapping for taxes and payment methods, to make data from Retail POS compatible with the values that are predefined in the fiscal device firmware.</span></span>
- <span data-ttu-id="66add-130">**Configuração do conector fiscal** – Esta configuração define a comunicação física com o dispositivo fiscal específico.</span><span class="sxs-lookup"><span data-stu-id="66add-130">**Fiscal connector configuration** – This configuration defines the physical communication with the specific fiscal device.</span></span>

<span data-ttu-id="66add-131">Um processo de registro fiscal para um terminal de PDV específico é definido por uma configuração correspondente no perfil de funcionalidade do PDV.</span><span class="sxs-lookup"><span data-stu-id="66add-131">A fiscal registration process for a specific POS register is defined by a corresponding setting in the POS functionality profile.</span></span> <span data-ttu-id="66add-132">Para obter mais detalhes sobre como configurar um processo de registro fiscal, carregar configurações do provedor de documentos fiscais e do conector fiscal e alterar seus parâmetros, consulte [Configurar um processo de registro fiscal](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span><span class="sxs-lookup"><span data-stu-id="66add-132">For more details about how to configure a fiscal registration process, upload fiscal document provider and fiscal connector configurations, and change their parameters, see [Set up a fiscal registration process](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span></span>

<span data-ttu-id="66add-133">O exemplo a seguir mostra um típico fluxo de execução de registro fiscal para um dispositivo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-133">The following example shows a typical fiscal registration execution flow for a fiscal device.</span></span> <span data-ttu-id="66add-134">O fluxo começa com um evento no PDV (por exemplo, finalização de uma transação de venda) e implementa a seguinte sequência de etapas:</span><span class="sxs-lookup"><span data-stu-id="66add-134">The flow starts with an event in the POS (for example, finalization of a sales transaction) and implements the following sequence of steps:</span></span>

1. <span data-ttu-id="66add-135">O PDV solicita um documento fiscal do CRT.</span><span class="sxs-lookup"><span data-stu-id="66add-135">The POS requests a fiscal document from CRT.</span></span>
2. <span data-ttu-id="66add-136">O CRT determina se o evento atual requer registro fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-136">CRT determines whether the current event requires fiscal registration.</span></span>
3. <span data-ttu-id="66add-137">Com base nas configurações do processo de registro fiscal, o CRT identifica um conector fiscal e o provedor de documentos fiscais correspondente para usar no registro fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-137">Based on the fiscal registration process settings, CRT identifies a fiscal connector and corresponding fiscal document provider to use for the fiscal registration.</span></span>
4. <span data-ttu-id="66add-138">O CRT executa o provedor de documentos fiscais que gera um documento fiscal (por exemplo, um documento XML) que representa o evento ou a transação de varejo.</span><span class="sxs-lookup"><span data-stu-id="66add-138">CRT runs the fiscal document provider that generates a fiscal document (for example, an XML document) that represents the retail transaction or event.</span></span>
5. <span data-ttu-id="66add-139">O PDV envia o documento fiscal que o CRT prepara a uma Estação de hardware.</span><span class="sxs-lookup"><span data-stu-id="66add-139">The POS sends the fiscal document that CRT prepares to a Hardware station.</span></span>
6. <span data-ttu-id="66add-140">A Estação de hardware executa o conector fiscal que processa o documento fiscal e o comunica ao serviço ou dispositivo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-140">The Hardware station runs the fiscal connector that processes the fiscal document and communicates it to the fiscal device or service.</span></span>
7. <span data-ttu-id="66add-141">O PDV analisa a resposta do serviço ou dispositivo fiscal para determinar se o registro fiscal foi bem-sucedido.</span><span class="sxs-lookup"><span data-stu-id="66add-141">The POS analyzes the response from the fiscal device or service to determine whether the fiscal registration was successful.</span></span>
8. <span data-ttu-id="66add-142">O CRT salva a resposta no banco de dados do canal.</span><span class="sxs-lookup"><span data-stu-id="66add-142">CRT saves the response to the channel database.</span></span>

<span data-ttu-id="66add-143">![Esquema da solução](media/emea-fiscal-integration-solution.png "Esquema da solução")</span><span class="sxs-lookup"><span data-stu-id="66add-143">![Solution schema](media/emea-fiscal-integration-solution.png "Solution schema")</span></span>

## <a name="error-handling"></a><span data-ttu-id="66add-144">Tratamento de erro</span><span class="sxs-lookup"><span data-stu-id="66add-144">Error handling</span></span>

<span data-ttu-id="66add-145">A estrutura de integração fiscal fornece as seguintes opções para lidar com as falhas durante o registro fiscal:</span><span class="sxs-lookup"><span data-stu-id="66add-145">The fiscal integration framework provides the following options to handle failures during fiscal registration:</span></span>

- <span data-ttu-id="66add-146">**Repetir** – Os operadores podem usar esta opção quando a falha puder ser resolvida rapidamente e o registro fiscal puder ser executado novamente.</span><span class="sxs-lookup"><span data-stu-id="66add-146">**Retry** – Operators can use this option when the failure can be resolved quickly, and the fiscal registration can be rerun.</span></span> <span data-ttu-id="66add-147">Por exemplo, essa opção pode ser usada quando o dispositivo fiscal não estiver conectado, a impressora fiscal estiver sem papel ou houver uma obstrução de papel nessa impressora.</span><span class="sxs-lookup"><span data-stu-id="66add-147">For example, this option can be used when the fiscal device isn't connected, the fiscal printer is out of paper, or there is a paper jam in the fiscal printer.</span></span>
- <span data-ttu-id="66add-148">**Cancelar** – Esta opção permite aos operadores adiar o registro fiscal do evento ou da transação atual se ele falhar.</span><span class="sxs-lookup"><span data-stu-id="66add-148">**Cancel** – This option lets operators postpone the fiscal registration of the current transaction or event if it fails.</span></span> <span data-ttu-id="66add-149">Após o adiamento do registro, o operador pode continuar a trabalhar no PDV e concluir qualquer operação que não exija o registro fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-149">After the registration is postponed, the operator can continue to work on the POS and can complete any operation that the fiscal registration isn't required for.</span></span> <span data-ttu-id="66add-150">Quando qualquer evento que exija o registro fiscal ocorrer no PDV (por exemplo, uma nova transação for aberta), a caixa de diálogo de tratamento de erro aparecerá automaticamente para notificar o operador que a transação anterior não foi registrada corretamente e para fornecer as opções de tratamento de erro.</span><span class="sxs-lookup"><span data-stu-id="66add-150">When any event that requires the fiscal registration occurs in the POS (for example, a new transaction is opened), the error handling dialog box automatically appears to notify the operator that the previous transaction wasn't correctly registered and to provide the error handling options.</span></span>
- <span data-ttu-id="66add-151">**Ignorar** – Os operadores podem usar esta opção quando o registro fiscal puder ser omitido sob condições específicas e as operações normais puderem continuar no PDV.</span><span class="sxs-lookup"><span data-stu-id="66add-151">**Skip** – Operators can use this option when the fiscal registration can be omitted under specific conditions and regular operations can be continued on the POS.</span></span> <span data-ttu-id="66add-152">Por exemplo, essa opção pode ser usada quando uma transação de venda cujo registro fiscal tenha falhado puder ser registrada em um diário de papel especial.</span><span class="sxs-lookup"><span data-stu-id="66add-152">For example, this option can be used when a sales transaction that the fiscal registration failed for can be registered in a special paper journal.</span></span>
- <span data-ttu-id="66add-153">**Marcar como registrado** – Os operadores podem usar esta opção quando a transação for registrada no dispositivo fiscal (por exemplo, um recibo fiscal for impresso), mas uma falha ocorrer quando a resposta fiscal estiver sendo salva no banco de dados do canal.</span><span class="sxs-lookup"><span data-stu-id="66add-153">**Mark as registered** – Operators can use this option when the transaction was actually registered in the fiscal device (for example, a fiscal receipt was printed), but a failure occurred when the fiscal response was being saved to the channel database.</span></span>

> [!NOTE]
> <span data-ttu-id="66add-154">As opções **Ignorar** e **Marcar como registrado** devem ser ativadas no processo de registro fiscal antes de serem usadas.</span><span class="sxs-lookup"><span data-stu-id="66add-154">The **Skip** and **Mark as registered** options must be activated in the fiscal registration process before they are used.</span></span> <span data-ttu-id="66add-155">Além disso, permissões correspondentes devem ser concedidas aos operadores.</span><span class="sxs-lookup"><span data-stu-id="66add-155">In addition, corresponding permissions must be granted to operators.</span></span>

<span data-ttu-id="66add-156">As opções **Ignorar** e **Marcar como registrado** permitem que os códigos informativos capturem algumas informações específicas sobre a falha, como o motivo da falha ou uma justificativa para ignorar o registro fiscal ou marcar a transação como registrada.</span><span class="sxs-lookup"><span data-stu-id="66add-156">The **Skip** and **Mark as registered** options enable info codes to capture some specific information about the failure, such as the reason for the failure or a justification for skipping the fiscal registration or marking the transaction as registered.</span></span> <span data-ttu-id="66add-157">Para obter mais detalhes sobre como configurar parâmetros de tratamento de erro, consulte [Definir configurações de tratamento de erro](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="66add-157">For more details about how to set up error handling parameters, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

## <a name="storing-fiscal-response-in-fiscal-transaction"></a><span data-ttu-id="66add-158">Armazenamento da resposta fiscal na transação fiscal</span><span class="sxs-lookup"><span data-stu-id="66add-158">Storing fiscal response in fiscal transaction</span></span>

<span data-ttu-id="66add-159">Quando o registro fiscal de um evento ou uma transação é bem-sucedido, uma transação fiscal é criada no banco de dados do canal e vinculada ao evento ou à transação original.</span><span class="sxs-lookup"><span data-stu-id="66add-159">When fiscal registration of a transaction or event is successful, a fiscal transaction is created in the channel database and linked to the original transaction or event.</span></span> <span data-ttu-id="66add-160">Da mesma forma, se a opção **Ignorar** ou **Marcar como registrado** for selecionada para um registro fiscal com falha, essas informações serão armazenadas em uma transação fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-160">Similarly, if the **Skip** or **Mark as registered** option is selected for a failed fiscal registration, this information is stored in a fiscal transaction.</span></span> <span data-ttu-id="66add-161">Uma transação fiscal armazena a resposta fiscal do serviço ou dispositivo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-161">A fiscal transaction holds the fiscal response of the fiscal device or service.</span></span> <span data-ttu-id="66add-162">Se o processo de registro fiscal consistir em várias etapas, uma transação fiscal será criada para cada etapa do processo que resultou em um registro com êxito ou falha.</span><span class="sxs-lookup"><span data-stu-id="66add-162">If the fiscal registration process consists of several steps, a fiscal transaction is created for each step of the process that resulted in a successful or failed registration.</span></span>

<span data-ttu-id="66add-163">As transações fiscais são transferidas para a Sede de Varejo pelo *trabalho P*, juntamente com as transações de varejo.</span><span class="sxs-lookup"><span data-stu-id="66add-163">Fiscal transactions are transferred to Retail Headquarters by the *P-job*, together with retail transactions.</span></span> <span data-ttu-id="66add-164">Na FastTab **Transações fiscais** da página **Transações da loja de varejo**, você pode visualizar as transações fiscais vinculadas a transações de varejo.</span><span class="sxs-lookup"><span data-stu-id="66add-164">On the **Fiscal transactions** FastTab of the **Retail store transactions** page, you can view the fiscal transactions that are linked to retail transactions.</span></span>

<span data-ttu-id="66add-165">Uma transação fiscal armazena os seguintes detalhes:</span><span class="sxs-lookup"><span data-stu-id="66add-165">A fiscal transaction stores the following details:</span></span>

- <span data-ttu-id="66add-166">Detalhes do processo de registro fiscal (processo, grupo do conector, conector etc.).</span><span class="sxs-lookup"><span data-stu-id="66add-166">Fiscal registration process details (process, connector group, connector, and so on).</span></span> <span data-ttu-id="66add-167">Ela também armazena o número de série do dispositivo fiscal no campo **Número do registro**, se essa informação estiver incluída na resposta fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-167">It also stores the serial number of the fiscal device in the **Register number** field, if this information is included in the fiscal response.</span></span>
- <span data-ttu-id="66add-168">O status do registro fiscal: **Concluído** para registros bem-sucedidos, **Ignorado** se o operador tiver selecionado a opção **Ignorar** para um registro com falha ou **Marcado como registrado** se o operador tiver selecionado a opção **Marcar como registrado**.</span><span class="sxs-lookup"><span data-stu-id="66add-168">The status of the fiscal registration: **Completed** for successful registration, **Skipped** if the operator selected the **Skip** option for a failed registration, or **Marked as registered** if the operator selected the **Mark as registered** option.</span></span>
- <span data-ttu-id="66add-169">Transações de código informativo relacionadas a uma transação fiscal selecionada.</span><span class="sxs-lookup"><span data-stu-id="66add-169">Info code transactions that are related to a selected fiscal transaction.</span></span> <span data-ttu-id="66add-170">Para exibir as transações de código informativo, na FastTab **Transações fiscais**, selecione uma transação fiscal com status **Ignorado** ou **Marcado como registrado** e, em seguida, selecione **Transações de código informativo**.</span><span class="sxs-lookup"><span data-stu-id="66add-170">To view the info code transactions, on the **Fiscal transactions** FastTab, select a fiscal transaction that has a status of **Skipped** or **Marked as registered**, and then select **Info code transactions**.</span></span>

## <a name="fiscal-texts-for-discounts"></a><span data-ttu-id="66add-171">Textos fiscais para descontos</span><span class="sxs-lookup"><span data-stu-id="66add-171">Fiscal texts for discounts</span></span>

<span data-ttu-id="66add-172">Alguns países ou regiões têm requisitos especiais sobre textos adicionais que devem ser impressos em recibos fiscais quando diferentes tipos de descontos são aplicados.</span><span class="sxs-lookup"><span data-stu-id="66add-172">Some countries or regions have special requirements about additional texts that must be printed on fiscal receipts when different kinds of discounts are applied.</span></span> <span data-ttu-id="66add-173">A funcionalidade de integração fiscal permite configurar um texto especial para um desconto que é impresso após a linha de desconto no recibo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-173">The fiscal integration functionality lets you set up a special text for a discount that is printed after a discount line on a fiscal receipt.</span></span> <span data-ttu-id="66add-174">Para descontos manuais, você pode configurar um texto fiscal para o código informativo especificado como **Desconto de produto** no perfil de funcionalidade do PDV.</span><span class="sxs-lookup"><span data-stu-id="66add-174">For manual discounts, you can configure a fiscal text for the info code that is specified as the **Product discount** info code in the POS functionality profile.</span></span> <span data-ttu-id="66add-175">Para obter mais detalhes sobre como configurar textos fiscais para descontos, consulte [Configurar textos fiscais para descontos](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span><span class="sxs-lookup"><span data-stu-id="66add-175">For more details about how to set up fiscal texts for discounts, see [Set up fiscal texts for discounts](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span></span>

## <a name="printing-fiscal-x-and-fiscal-z-reports"></a><span data-ttu-id="66add-176">Impressão de relatórios fiscais X e Z</span><span class="sxs-lookup"><span data-stu-id="66add-176">Printing fiscal X and fiscal Z reports</span></span>

<span data-ttu-id="66add-177">A funcionalidade de integração fiscal oferece suporte à geração de demonstrativos de fechamento do dia específicos ao serviço ou dispositivo fiscal integrado:</span><span class="sxs-lookup"><span data-stu-id="66add-177">Fiscal integration functionality supports generation of end-of-day statements that are specific to the integrated fiscal device or service:</span></span>

- <span data-ttu-id="66add-178">Novos botões que executam operações correspondentes devem ser adicionados ao layout de tela do PDV.</span><span class="sxs-lookup"><span data-stu-id="66add-178">New buttons that run corresponding operations should be added to the POS screen layout.</span></span> <span data-ttu-id="66add-179">Para obter mais detalhes, consulte [Configurar relatórios fiscais X/Z do PDV](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span><span class="sxs-lookup"><span data-stu-id="66add-179">For more details, see [Set up fiscal X/Z reports from the POS](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span></span>
- <span data-ttu-id="66add-180">No exemplo de integração fiscal, essas operações devem ser conciliadas com as operações correspondentes do dispositivo fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-180">In the fiscal integration sample, these operations should be matched to the corresponding operations of the fiscal device.</span></span>

## <a name="fiscal-integration-samples-in-the-retail-sdk"></a><span data-ttu-id="66add-181">Exemplos de integração fiscal no SDK do Retail</span><span class="sxs-lookup"><span data-stu-id="66add-181">Fiscal integration samples in the Retail SDK</span></span>

<span data-ttu-id="66add-182">Os seguintes exemplos de integração fiscal estão disponíveis atualmente no SDK do Retail que é lançado com o Retail:</span><span class="sxs-lookup"><span data-stu-id="66add-182">The following fiscal integration samples are currently available in the Retail SDK that is released with Retail:</span></span>

- [<span data-ttu-id="66add-183">Exemplo de integração da impressora fiscal para a Itália</span><span class="sxs-lookup"><span data-stu-id="66add-183">Fiscal printer integration sample for Italy</span></span>](emea-ita-fpi-sample.md)
- [<span data-ttu-id="66add-184">Exemplo de integração da impressora fiscal para a Polônia</span><span class="sxs-lookup"><span data-stu-id="66add-184">Fiscal printer integration sample for Poland</span></span>](emea-pol-fpi-sample.md)

<span data-ttu-id="66add-185">A seguinte funcionalidade de integração fiscal também está disponível no SDK do Retail, mas atualmente não aproveita a estrutura de integração fiscal.</span><span class="sxs-lookup"><span data-stu-id="66add-185">The following fiscal integration functionality is also available in the Retail SDK but doesn't currently take advantage of the fiscal integration framework.</span></span> <span data-ttu-id="66add-186">A migração dessa funcionalidade para a estrutura de integração fiscal está planejada para atualizações posteriores.</span><span class="sxs-lookup"><span data-stu-id="66add-186">Migration of this functionality to the fiscal integration framework is planned for later updates.</span></span>

- [<span data-ttu-id="66add-187">Assinatura digital para a França</span><span class="sxs-lookup"><span data-stu-id="66add-187">Digital signature for France</span></span>](emea-fra-cash-registers.md)
- [<span data-ttu-id="66add-188">Assinatura digital para a Noruega</span><span class="sxs-lookup"><span data-stu-id="66add-188">Digital signature for Norway</span></span>](emea-nor-cash-registers.md)
- [<span data-ttu-id="66add-189">Exemplo de integração da unidade de controle para a Suécia</span><span class="sxs-lookup"><span data-stu-id="66add-189">Control unit integration sample for Sweden</span></span>](../dev-itpro/retail-sdk/retail-sdk-control-unit-sample.md)
