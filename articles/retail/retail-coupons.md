---
title: Criar cupons para vendas de varejo
description: "Este tópico fornece uma visão geral de cupons de varejo e explica como defini-los."
author: scott-tucker
manager: AnnBe
ms.date: 05/22/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-365-retail
ms.technology: 
audience: Application User
ms.reviewer: josaw
ms.search.scope: Retail, Operations
ms.custom: 
ms.search.region: Global
ms.search.industry: retail
ms.author: scotttuc
ms.search.validFrom: 2017-06-30
ms.dyn365.ops.version: July 2017 update
ms.translationtype: HT
ms.sourcegitcommit: 7e0a5d044133b917a3eb9386773205218e5c1b40
ms.openlocfilehash: 7e05361bf865e44ba6073198fba94d7102b1ed19
ms.contentlocale: pt-br
ms.lasthandoff: 09/29/2017

---

# <a name="create-coupons-for-retail-sales"></a><span data-ttu-id="0dd44-103">Criar cupons para vendas de varejo</span><span class="sxs-lookup"><span data-stu-id="0dd44-103">Create coupons for retail sales</span></span>

[!include[banner](includes/banner.md)]


## <a name="overview-of-coupons"></a><span data-ttu-id="0dd44-104">Visão geral de cupons</span><span class="sxs-lookup"><span data-stu-id="0dd44-104">Overview of coupons</span></span>

<span data-ttu-id="0dd44-105">Os cupons são códigos e códigos de barras que são usados ​​para adicionar descontos de varejo às transações.</span><span class="sxs-lookup"><span data-stu-id="0dd44-105">Coupons are codes and bar codes that are used to add retail discounts to transactions.</span></span> <span data-ttu-id="0dd44-106">Cada cupom pode ter vários códigos, e cada código pode ter suas próprias datas efetivas.</span><span class="sxs-lookup"><span data-stu-id="0dd44-106">Each coupon can have multiple codes, and each code can have its own effective dates.</span></span> 

<span data-ttu-id="0dd44-107">Cada cupom é relacionado a um desconto de varejo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-107">Each coupon is related to one retail discount.</span></span> <span data-ttu-id="0dd44-108">Os grupos de preços associados ao desconto definem os clientes que podem usar um cupom ou os canais onde um cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="0dd44-108">The price groups that are associated with the discount define the customers that can use a coupon or the channels where a coupon is valid.</span></span> 

<span data-ttu-id="0dd44-109">Essencialmente, os cupons são validação adicional sobre os descontos de varejo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-109">Essentially, coupons are additional validation on top of retail discounts.</span></span> <span data-ttu-id="0dd44-110">O cupom fornece os códigos de cupom e os códigos de barra que são necessários, juntamente com os intervalos de datas para esses códigos.</span><span class="sxs-lookup"><span data-stu-id="0dd44-110">The coupon provides the coupon codes and bar codes that are required, together with date ranges for those codes.</span></span> <span data-ttu-id="0dd44-111">O cupom também fornece limites de uso opcionais e propriedades exigidas pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="0dd44-111">The coupon also provides optional usage limits and customer required properties.</span></span> <span data-ttu-id="0dd44-112">O desconto fornece o conjunto de produtos para o qual o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="0dd44-112">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="0dd44-113">Os grupos de preços para o desconto fornecem o conjunto de clientes, canais ou catálogos para os quais o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="0dd44-113">The price groups for the discount provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

<span data-ttu-id="0dd44-114">Para criar um cupom, você cria o desconto e o cupom separadamente.</span><span class="sxs-lookup"><span data-stu-id="0dd44-114">To create a coupon, you create the discount and the coupon separately.</span></span> <span data-ttu-id="0dd44-115">Em seguida, você os vincula selecionando o desconto na página do cupom no Microsoft Dynamics 365 para varejo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-115">You then link them by selecting the discount on the coupon page in Microsoft Dynamics 365 for Retail.</span></span> 

> [!NOTE]
> <span data-ttu-id="0dd44-116">Depois que um cupom estiver vinculado a um desconto, vários campos na página de desconto no Microsoft Dynamics 365 para varejo tornam-se somente leitura, porque são gerenciados pelas configurações do cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-116">After a coupon is linked to a discount, several fields on the discount page in Microsoft Dynamics 365 for Retail become read-only, because they are managed by the coupon’s settings.</span></span> <span data-ttu-id="0dd44-117">Esses campos incluem os campos para o status e os intervalos de datas padrão.</span><span class="sxs-lookup"><span data-stu-id="0dd44-117">These fields include the fields for the status and standard date ranges.</span></span>

### <a name="limited-use-coupons"></a><span data-ttu-id="0dd44-118">Cupons de uso limitado</span><span class="sxs-lookup"><span data-stu-id="0dd44-118">Limited-use coupons</span></span>

<span data-ttu-id="0dd44-119">Os cupons podem ser configurados como cupons de uso limitado.</span><span class="sxs-lookup"><span data-stu-id="0dd44-119">Coupons can be configured as limited-use coupons.</span></span> <span data-ttu-id="0dd44-120">O limite de uso pode ser definido por cliente ou canal, ou como um limite global.</span><span class="sxs-lookup"><span data-stu-id="0dd44-120">The usage limit can be defined per customer or channel, or as a global limit.</span></span> <span data-ttu-id="0dd44-121">Este limite é aplicado quando o código ou o código de barras são inseridos ou digitalizados no POS ou durante a entrada da ordem do cliente.</span><span class="sxs-lookup"><span data-stu-id="0dd44-121">This limit is enforced when the code or bar code is entered or scanned in POS or during sales order entry.</span></span> <span data-ttu-id="0dd44-122">Um cupom é gravado como usado quando um pedido é concluído que tem o cupom associado a ele.</span><span class="sxs-lookup"><span data-stu-id="0dd44-122">A coupon is recorded as used when an order is completed that has the coupon associated with it.</span></span>

<span data-ttu-id="0dd44-123">O limite é aplicado por código de cupom em um cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-123">The limit is enforced per coupon code on a coupon.</span></span> <span data-ttu-id="0dd44-124">Por exemplo, um cupom de uso único que possui dois códigos de cupom pode ser usado duas vezes: uma vez por cada código de cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-124">For example, a single-use coupon that has two coupon codes can be used two times: one time for each coupon code.</span></span> <span data-ttu-id="0dd44-125">Cada código em um cupom pode ser definido de forma independente como ativo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-125">Each code on a coupon can be independently set to active.</span></span>

## <a name="managing-coupons"></a><span data-ttu-id="0dd44-126">Gerenciando cupons</span><span class="sxs-lookup"><span data-stu-id="0dd44-126">Managing coupons</span></span>

<span data-ttu-id="0dd44-127">Você deve criar o desconto e o cupom separadamente.</span><span class="sxs-lookup"><span data-stu-id="0dd44-127">You must create the discount and the coupon separately.</span></span> <span data-ttu-id="0dd44-128">Em seguida, vincule-os selecionando o desconto na página do cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-128">You then link them by selecting the discount on the coupon page.</span></span> <span data-ttu-id="0dd44-129">Depois de vincular um cupom a um desconto, vários campos para o desconto tornam-se somente leitura, pois são gerenciados pelas configurações do cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-129">After you link a coupon to a discount, several fields for the discount become read-only, because they are managed by the coupon's settings.</span></span> <span data-ttu-id="0dd44-130">Esses campos incluem os campos para o status e os intervalos de datas padrão.</span><span class="sxs-lookup"><span data-stu-id="0dd44-130">These fields include the fields for the status and standard date ranges.</span></span>  

<span data-ttu-id="0dd44-131">Essencialmente, os cupons agora são validação adicional sobre os descontos de varejo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-131">Essentially, coupons are now additional validation on top of retail discounts.</span></span> <span data-ttu-id="0dd44-132">O cupom fornece códigos de cupom e códigos de barras, juntamente com intervalos de datas, os limites de uso e a propriedade exigida pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="0dd44-132">The coupon provides the coupon codes and bar codes, together with date ranges, the usage limits, and the customer required property.</span></span> <span data-ttu-id="0dd44-133">O desconto fornece o conjunto de produtos para o qual o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="0dd44-133">The discount provides the set of products that the coupon is valid for.</span></span> <span data-ttu-id="0dd44-134">Os grupos de preços de desconto fornecem o conjunto de clientes, canais ou catálogos para os quais o cupom é válido.</span><span class="sxs-lookup"><span data-stu-id="0dd44-134">The discount's price groups provide the set of customers, channels, or catalogs that the coupon is valid for.</span></span>

## <a name="system-setup-for-coupons"></a><span data-ttu-id="0dd44-135">Configuração do sistema para cupons</span><span class="sxs-lookup"><span data-stu-id="0dd44-135">System setup for coupons</span></span> 

<span data-ttu-id="0dd44-136">Antes de configurar um cupom, você deve configurar o código da barra de cupom e duas sequências de números de cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-136">Before you can set up a coupon, you must set up the coupon bar code and two coupon number sequences.</span></span> 

1.  <span data-ttu-id="0dd44-137">Na página **Caracteres de máscara**, crie um novo caractere de máscara para o código de cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-137">On the **Mask characters** page, create a new mask character for the coupon code.</span></span> <span data-ttu-id="0dd44-138">Você pode selecionar qualquer caractere não utilizado.</span><span class="sxs-lookup"><span data-stu-id="0dd44-138">You can select any unused character.</span></span>
2.  <span data-ttu-id="0dd44-139">Na página **Configuração de máscara de código de barras**, crie uma nova a máscara de código de barras.</span><span class="sxs-lookup"><span data-stu-id="0dd44-139">On the **Bar code mask setup** page, create a new bar code mask.</span></span> <span data-ttu-id="0dd44-140">Defina o campo **Tipo** como **Cupom**.</span><span class="sxs-lookup"><span data-stu-id="0dd44-140">Set the **Type** field to **Coupon**.</span></span>
3.  <span data-ttu-id="0dd44-141">Na página **Configuração de código de barras**, crie um novo código de barras que usa a máscara de código de barras que você criou.</span><span class="sxs-lookup"><span data-stu-id="0dd44-141">On the **Bar code setup** page, create a new bar code that uses the bar code mask that you just created.</span></span>
4.  <span data-ttu-id="0dd44-142">Na página **Sequências numéricas**, crie duas novas sequências numéricas.</span><span class="sxs-lookup"><span data-stu-id="0dd44-142">On the **Number sequences** page, create two new number sequences.</span></span> <span data-ttu-id="0dd44-143">Uma sequência é para a ID do código de cupom, e outra sequência for para o número de cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-143">One sequence is for the coupon code ID, and the other sequence is for the coupon number.</span></span> <span data-ttu-id="0dd44-144">A ID do código de cupom é o identificador exclusivo para cada código de cupom para um cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-144">The coupon code ID is the unique identifier for each coupon code for a coupon.</span></span> <span data-ttu-id="0dd44-145">O número do cupom é o identificador exclusivo do cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-145">The coupon number is the unique identifier for a coupon.</span></span> <span data-ttu-id="0dd44-146">Cada cupom pode ter vários códigos e os códigos de barras que disparam um cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-146">Each coupon can have multiple codes and bar codes that trigger the coupon.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0dd44-147">Para ambas as sequências numéricas, você deve definir o campo **Escopo** como **Empresa**.</span><span class="sxs-lookup"><span data-stu-id="0dd44-147">For both number sequences, you must set the **Scope** field to **Company**.</span></span> <span data-ttu-id="0dd44-148">Na maioria dos casos, você deve gerar automaticamente os números sequenciais.</span><span class="sxs-lookup"><span data-stu-id="0dd44-148">In most cases, you should automatically generate both sequence numbers.</span></span>

5.  <span data-ttu-id="0dd44-149">Na página **Parâmetros compartilhados de varejo**, na guia **Códigos de barras**, selecione o código de barras criado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="0dd44-149">On the **Retail shared parameters** page, on the **Bar codes** tab, select the bar code that you created earlier.</span></span>
6.  <span data-ttu-id="0dd44-150">Na página **Parâmetros de varejo**, na guia **Sequências numéricas**, selecione as sequências numéricas que você criou para o número do cupom e a ID do código de cupom.</span><span class="sxs-lookup"><span data-stu-id="0dd44-150">On the **Retail parameters** page, on the **Number sequences** tab, select the number sequences that you created for the coupon number and coupon code ID.</span></span>
7.  <span data-ttu-id="0dd44-151">Agora você pode abrir a página **Cupons** e criar novos cupons.</span><span class="sxs-lookup"><span data-stu-id="0dd44-151">You can now open the **Coupons** page and create new coupons.</span></span>

## <a name="the-effect-of-partial-updates-on-coupons"></a><span data-ttu-id="0dd44-152">O efeito das atualizações parciais nos cupons</span><span class="sxs-lookup"><span data-stu-id="0dd44-152">The effect of partial updates on coupons</span></span>

<span data-ttu-id="0dd44-153">A funcionalidade de cupom abrange vários recursos distintos no Dynamics 365 para varejo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-153">Coupon functionality comprises multiple distinct features in Dynamics 365 for Retail.</span></span> <span data-ttu-id="0dd44-154">A sede do Microsoft Dynamics 365 para varejo (HQ) e o canal podem ser parcialmente atualizados em todos os componentes.</span><span class="sxs-lookup"><span data-stu-id="0dd44-154">Microsoft Dynamics 365 for Retail headquarters (HQ) and the channel can be partially updated across components.</span></span> <span data-ttu-id="0dd44-155">Portanto, é importante que você entenda como as atualizações parciais afetam a funcionalidade do cupom como um todo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-155">Therefore, it's important that you understand how partial updates affect coupon functionality as a whole.</span></span>

- <span data-ttu-id="0dd44-156">**A sede é atualizada parcialmente, mas o servidor de varejo e o PDV não serão atualizados.**</span><span class="sxs-lookup"><span data-stu-id="0dd44-156">**HQ is partially updated, but Retail server and POS aren't updated.**</span></span> <span data-ttu-id="0dd44-157">Em uma atualização da sede, as páginas de cupom e desconto são atualizadas, e o mecanismo de preço de varejo também é atualizado.</span><span class="sxs-lookup"><span data-stu-id="0dd44-157">In an HQ update, the coupon and discount pages are updated, and the retail price engine is also updated.</span></span> <span data-ttu-id="0dd44-158">Se apenas um desses dois componentes for atualizado, algumas páginas no varejo não coincidirão com os dados do cálculo do preço.</span><span class="sxs-lookup"><span data-stu-id="0dd44-158">If only one of those two components is updated, some pages in Retail won’t match the price calculation data.</span></span> <span data-ttu-id="0dd44-159">Portanto, cálculos de desconto inesperado ou erros inesperados podem ocorrer durante cálculos de desconto.</span><span class="sxs-lookup"><span data-stu-id="0dd44-159">Therefore, unexpected discount calculations or errors might occur during discount calculations.</span></span>
- <span data-ttu-id="0dd44-160">**A sede é atualizada, mas o servidor de varejo e o PDV não serão atualizados (N-1).**</span><span class="sxs-lookup"><span data-stu-id="0dd44-160">**HQ is updated, but Retail server and POS aren't updated (N-1).**</span></span> <span data-ttu-id="0dd44-161">Como nem todas as lojas de varejo podem ser atualizadas ao mesmo tempo, recomendamos que você atualize a sede antes de atualizar lojas de varejo.</span><span class="sxs-lookup"><span data-stu-id="0dd44-161">Because not all retail stores can be updated at the same time, we recommend that you update HQ before you update retail stores.</span></span> <span data-ttu-id="0dd44-162">No cenário N-1, novas funcionalidades relacionadas a cupons não estarão disponíveis em lojas que ainda não foram atualizadas.</span><span class="sxs-lookup"><span data-stu-id="0dd44-162">In the N-1 scenario, new functionality that is related to coupons won't be available in stores that haven’t been updated yet.</span></span> <span data-ttu-id="0dd44-163">Por exemplo, a funcionalidade do cupom introduz as linhas "excluir".</span><span class="sxs-lookup"><span data-stu-id="0dd44-163">For example, the coupon functionality introduces “exclude” lines.</span></span> <span data-ttu-id="0dd44-164">Se você usar linhas de exclusão com desconto, elas não serão aplicadas em uma loja de varejo que esteja executando uma versão anterior.</span><span class="sxs-lookup"><span data-stu-id="0dd44-164">If you use exclude lines on a discount, they won't be applied in a retail store that is running an earlier version.</span></span>
- <span data-ttu-id="0dd44-165">**A sede não é atualizada, mas o servidor de varejo e o PDV são atualizados (N+1).**</span><span class="sxs-lookup"><span data-stu-id="0dd44-165">**HQ isn't updated, but Retail server and POS are updated (N+1).**</span></span> <span data-ttu-id="0dd44-166">Como o mecanismo de preço atualizado no servidor de varejo pode lidar com códigos de desconto convencionais durante os cálculos de preços, a atualização não deve ter impacto funcional nesse cenário.</span><span class="sxs-lookup"><span data-stu-id="0dd44-166">Because the updated price engine in Retail server can handle legacy discount codes during price calculations, the update should have no functional impact in this scenario.</span></span>

