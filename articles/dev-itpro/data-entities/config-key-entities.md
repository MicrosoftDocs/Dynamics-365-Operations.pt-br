---
title: "Chaves de configuração e entidades de dados"
description: "Este tópico descreve o relacionamento entre as chaves de configuração e as entidades de dados no Microsoft Dynamics 365 for Finance and Operations, Enterprise edition."
author: Sunil-Garg
manager: AnnBe
ms.date: 01/01/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application user
ms.reviewer: margoc
ms.search.scope: Operations
ms.custom: 25341
ms.assetid: 8e214c95-616b-4ee1-b5a4-fa5ce5147f2c
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2018-01-01
ms.dyn365.ops.version: Platform update 13
ms.translationtype: HT
ms.sourcegitcommit: af7f9a373496eee4df354d5dd9e5a25c51317c43
ms.openlocfilehash: f9ea932b48d57baad4b4ab66069191ebd7cbbd6c
ms.contentlocale: pt-br
ms.lasthandoff: 02/27/2018

---

# <a name="configuration-keys-and-data-entities"></a><span data-ttu-id="e4d02-103">Chaves de configuração e entidades de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-103">Configuration keys and data entities</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="e4d02-104">Antes de usar entidades de dados para importar ou exportar dados, recomendamos que primeiro determine o impacto de chaves de configuração nas entidades de dados que você pretende usar.</span><span class="sxs-lookup"><span data-stu-id="e4d02-104">Before you use data entities to import or export data, we recommended that you first determine the impact of configuration keys on the data entities that you are planning to use.</span></span> 

<span data-ttu-id="e4d02-105">Para saber mais sobre chaves de configuração no Finance and Operations, consulte o [Relatório de códigos de licença e chaves de configuração](../sysadmin/license-codes-configuration-keys-report.md).</span><span class="sxs-lookup"><span data-stu-id="e4d02-105">To learn more about configuration keys in Finance and Operations, see the [License codes and configuration keys report](../sysadmin/license-codes-configuration-keys-report.md).</span></span>

### <a name="configuration-key-assignments"></a><span data-ttu-id="e4d02-106">Atribuições da chave de configuração</span><span class="sxs-lookup"><span data-stu-id="e4d02-106">Configuration key assignments</span></span>
<span data-ttu-id="e4d02-107">As chaves de configuração podem ser atribuídas a um ou a todos os seguintes artefatos.</span><span class="sxs-lookup"><span data-stu-id="e4d02-107">Configuration keys can be assigned to one or all of the following artifacts.</span></span>
-   <span data-ttu-id="e4d02-108">Entidades de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-108">Data entities</span></span>
-   <span data-ttu-id="e4d02-109">Tabelas usadas como fontes de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-109">Tables used as data sources</span></span>
-   <span data-ttu-id="e4d02-110">Campos de tabela</span><span class="sxs-lookup"><span data-stu-id="e4d02-110">Table fields</span></span>
-   <span data-ttu-id="e4d02-111">Campos da entidade de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-111">Data entity fields</span></span>

<span data-ttu-id="e4d02-112">A tabela a seguir resume como valores de chave de configuração em diferentes artefatos que estão subjacentes em um objeto alteram o comportamento esperado do objeto.</span><span class="sxs-lookup"><span data-stu-id="e4d02-112">The following table summarizes how configuration key values on the different artifacts that underlie an object change the expected behavior of the object.</span></span>

| <span data-ttu-id="e4d02-113">Configuração da chave de configuração na entidade de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-113">Configuation key setting on data entity</span></span> | <span data-ttu-id="e4d02-114">Definição da chave de configuração na tabela</span><span class="sxs-lookup"><span data-stu-id="e4d02-114">Configuration key setting on table</span></span> | <span data-ttu-id="e4d02-115">Definição da chave de configuração no campo da tabela</span><span class="sxs-lookup"><span data-stu-id="e4d02-115">Configuration key setting on table field</span></span> | <span data-ttu-id="e4d02-116">Chave de configuração no campo da entidade de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-116">Configuration key on data entity field</span></span> | <span data-ttu-id="e4d02-117">Comportamento esperado</span><span class="sxs-lookup"><span data-stu-id="e4d02-117">Expected behavior</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------------------------|-----------------------------|-----------------------------------|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e4d02-118">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-118">Disabled</span></span>                          | <span data-ttu-id="e4d02-119">Não avaliado</span><span class="sxs-lookup"><span data-stu-id="e4d02-119">Not evaluated</span></span>               | <span data-ttu-id="e4d02-120">Não avaliado</span><span class="sxs-lookup"><span data-stu-id="e4d02-120">Not evaluated</span></span>                     | <span data-ttu-id="e4d02-121">Não avaliado</span><span class="sxs-lookup"><span data-stu-id="e4d02-121">Not evaluated</span></span>                   | <span data-ttu-id="e4d02-122">Se a chave de configuração para a entidade de dados estiver desabilitada, a entidade de dados não será funcional.</span><span class="sxs-lookup"><span data-stu-id="e4d02-122">If the configuration key for the data entity is disabled, the data entity will not be functional.</span></span> <span data-ttu-id="e4d02-123">Não importa se as chaves de configuração nas tabelas e campos subjacentes estão habilitadas ou desabilitadas.</span><span class="sxs-lookup"><span data-stu-id="e4d02-123">It does not matter whether the configuration keys in the underlying tables and fields are enabled or disabled.</span></span>                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="e4d02-124">Habilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-124">Enabled</span></span>                           | <span data-ttu-id="e4d02-125">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-125">Disabled</span></span>                    | <span data-ttu-id="e4d02-126">Não avaliado</span><span class="sxs-lookup"><span data-stu-id="e4d02-126">Not evaluated</span></span>                     | <span data-ttu-id="e4d02-127">Não avaliado</span><span class="sxs-lookup"><span data-stu-id="e4d02-127">Not evaluated</span></span>                   | <span data-ttu-id="e4d02-128">Se a chave de configuração para uma entidade de dados estiver habilitada, a estrutura de gerenciamento de dados verifica a chave de configuração em cada uma das tabelas subjacentes.</span><span class="sxs-lookup"><span data-stu-id="e4d02-128">If the configuration key for a data entity is enabled, the data management framework checks the configuration key on each of the underlying tables.</span></span> <span data-ttu-id="e4d02-129">Se a chave de configuração de uma tabela estiver desativada, essa tabela não ficará disponível na entidade de dados para uso funcional.</span><span class="sxs-lookup"><span data-stu-id="e4d02-129">If the configuration key for a table is disabled, that table will not be available in the data entity for functional use.</span></span> <span data-ttu-id="e4d02-130">Se a chave de configuração de uma tabela for desabilitada, as definições da chave de configuração da entidade de dados e da tabela não serão avaliadas.</span><span class="sxs-lookup"><span data-stu-id="e4d02-130">If a table's configuration key is disabled, the table and data entity configuration key settings are not evaluated.</span></span> <span data-ttu-id="e4d02-131">Se a tabela principal na entidade tiver sua chave de configuração desativada, então o sistema atuará como se a chave de configuração da entidade estivesse desativada.</span><span class="sxs-lookup"><span data-stu-id="e4d02-131">If the primary table in the entity has its configuration key disabled, then the system will act as though the entity’s configuration key were disabled.</span></span> |
| <span data-ttu-id="e4d02-132">Habilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-132">Enabled</span></span>                           | <span data-ttu-id="e4d02-133">Habilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-133">Enabled</span></span>                     | <span data-ttu-id="e4d02-134">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-134">Disabled</span></span>                          | <span data-ttu-id="e4d02-135">Não avaliado</span><span class="sxs-lookup"><span data-stu-id="e4d02-135">Not evaluated</span></span>                   | <span data-ttu-id="e4d02-136">Se a chave de configuração de uma entidade de dados estiver habilitada, as chaves de configuração das tabelas subjacentes serão habilitadas, a estrutura de gerenciamento de dados verificará a chave de configuração nos campos nas tabelas.</span><span class="sxs-lookup"><span data-stu-id="e4d02-136">If the configuration key for a data entity is enabled, and the underlying tables configuration keys are enabled, the data management framework will check the configuration key on of the fields in the tables.</span></span> <span data-ttu-id="e4d02-137">Se a chave de configuração de um campo for desabilitada, esse campo não ficará disponível na entidade de dados para uso funcional, mesmo se o campo da entidade de dados correspondente tiver a chave de configuração habilitada.</span><span class="sxs-lookup"><span data-stu-id="e4d02-137">If the configuration key for a field is disabled, that field will not be available in the data entity for functional use even if the corresponding data entity field has the configuration key enabled.</span></span>                                                                                                                                   |
| <span data-ttu-id="e4d02-138">Habilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-138">Enabled</span></span>                           | <span data-ttu-id="e4d02-139">Habilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-139">Enabled</span></span>                     | <span data-ttu-id="e4d02-140">Habilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-140">Enabled</span></span>                           | <span data-ttu-id="e4d02-141">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="e4d02-141">Disabled</span></span>                        | <span data-ttu-id="e4d02-142">Se a chave de configuração estiver habilitada em todos os outros níveis, mas a chave de configuração do campo da entidade não estiver habilitada, então o campo não ficará disponível para uso na entidade de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-142">If the configuration key is enabled at all other levels, but the entity field configuration key is not enabled, then the field will not be available for use in the data entity.</span></span>                                                                                                                                                                                                                                                                                                                                                                          |

> [!NOTE]
> <span data-ttu-id="e4d02-143">Se uma entidade tiver outra entidade como uma fonte de dados, então as semânticas acima serão aplicadas de uma maneira recursiva.</span><span class="sxs-lookup"><span data-stu-id="e4d02-143">If an entity has another entity as a data source then, the above semantics are applied in a recursive manner.</span></span>

### <a name="entity-list-refresh"></a><span data-ttu-id="e4d02-144">Atualização da lista de entidades</span><span class="sxs-lookup"><span data-stu-id="e4d02-144">Entity list refresh</span></span>
<span data-ttu-id="e4d02-145">Quando a lista da entidades é atualizada, a estrutura de gerenciamento de dados cria os metadados da chave de configuração para uso no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="e4d02-145">When the entity list is refreshed, the data management framework builds the configuration key metadata for runtime use.</span></span> <span data-ttu-id="e4d02-146">Esses metadados são criados com a lógica descrita acima.</span><span class="sxs-lookup"><span data-stu-id="e4d02-146">This metadata is built using the logic described above.</span></span> <span data-ttu-id="e4d02-147">Recomendamos que você aguarde pela conclusão da atualização da lista de entidades antes de usar trabalhos e entidades na estrutura de gerenciamento de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-147">We strongly recommend that you  wait for the entity list refresh to complete before using jobs and entities in the data management framework.</span></span> <span data-ttu-id="e4d02-148">Se você não aguardar, os metadados da chave de configuração talvez não sejam atualizados e poderão ter resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-148">If you don't wait, the configuration key metadata may not be up to date and could result in unexpected outcomes.</span></span> <span data-ttu-id="e4d02-149">Quando a lista de entidades está sendo atualizada, a seguinte mensagem é exibida na página de listagem da entidade.</span><span class="sxs-lookup"><span data-stu-id="e4d02-149">When the entity list is being refreshed, the following message is shown in the entity list page.</span></span>

![Atualização da lista de entidades](./media/Entity_refresh_list.png)

### <a name="data-entity-list-page"></a><span data-ttu-id="e4d02-151">Página de listagem de entidade de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-151">Data entity list page</span></span>
<span data-ttu-id="e4d02-152">A página de listagem de entidade de dados no espaço de trabalho Gerenciamento de dados mostra as definições da chave de configuração para as entidades.</span><span class="sxs-lookup"><span data-stu-id="e4d02-152">The data entity list page in the Data management workspace shows the configuration key settings for the entities.</span></span> <span data-ttu-id="e4d02-153">Comece nesta página para compreender o impacto das chaves de configuração na entidade de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-153">Start from this page  to understand the impact from configuration keys on the data entity.</span></span>
<span data-ttu-id="e4d02-154">Essa informações são mostradas usando os metadados que são criados somente durante a atualização da entidade.</span><span class="sxs-lookup"><span data-stu-id="e4d02-154">This information is shown using the metadata that is built during entity refresh.</span></span> <span data-ttu-id="e4d02-155">A coluna da chave de configuração exibe o nome da chave de configuração associado à entidade de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-155">The configuration key column shows the name of the configuration key that is associated with the data entity.</span></span> <span data-ttu-id="e4d02-156">Se essa coluna estiver em branco, isso significa que não há chave de configuração associada à entidade de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-156">If this column is blank it means that there is no configuration key associated with the data entity.</span></span> <span data-ttu-id="e4d02-157">A coluna de status da chave de configuração mostra o estado da chave de configuração.</span><span class="sxs-lookup"><span data-stu-id="e4d02-157">The configuration key status column shows the state of the configuration key.</span></span> <span data-ttu-id="e4d02-158">Se tiver uma marca de seleção, isso significa que a chave está habilitada.</span><span class="sxs-lookup"><span data-stu-id="e4d02-158">If it has a checkmark, it means the key is enabled.</span></span> <span data-ttu-id="e4d02-159">Se estiver em branco, significa que a chave está desabilitada ou não há chave associada.</span><span class="sxs-lookup"><span data-stu-id="e4d02-159">If it is blank, it means either the key is disabled or there is no key associated.</span></span>

![Página de listagem da entidade](./media/Data_entity_list_page.png)

### <a name="target-fields"></a><span data-ttu-id="e4d02-161">Campos de destino</span><span class="sxs-lookup"><span data-stu-id="e4d02-161">Target fields</span></span>
<span data-ttu-id="e4d02-162">A próxima etapa é analisar a entidade de dados para exibir o impacto das chaves de configuração em tabelas e campos.</span><span class="sxs-lookup"><span data-stu-id="e4d02-162">The next step is to drill into the data entity to view the impact of configuration keys on tables and fields.</span></span> <span data-ttu-id="e4d02-163">O formulário de campos de destino de uma entidade de dados mostra a chave de configuração e as informações de status da chave para as tabelas e campos relacionados na entidade de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-163">The target fields form for a data entity shows configuration key and the key status information for the related tables and fields in the data entity.</span></span>  <span data-ttu-id="e4d02-164">Se a própria entidade de dados tiver sua chave de configuração desabilitada, uma mensagem de aviso será exibida informando que as tabelas e os campos nos campos de destino dessa entidade não estarão disponíveis, independentemente do status da chave de configuração.</span><span class="sxs-lookup"><span data-stu-id="e4d02-164">If the data entity itself has its configuration key disabled, a warning message is shown informing that the tables and fields in the target fields form for this entity will not be available at all regardless of their configuration key status.</span></span>

![Campos de destino](./media/Target_fields_1.png)

### <a name="child-entities"></a><span data-ttu-id="e4d02-166">Entidades filhas</span><span class="sxs-lookup"><span data-stu-id="e4d02-166">Child entities</span></span> 
<span data-ttu-id="e4d02-167">Determinadas entidades têm outras entidades como fontes de dados, ou são entidades de dados compostas: as informações da chave de configuração destas entidades são exibidas no formulário de entidades filha.</span><span class="sxs-lookup"><span data-stu-id="e4d02-167">Certain entities have other entities as data sources, or are composite data entities: configuration key information for these entities is shown in the Child entities form.</span></span> <span data-ttu-id="e4d02-168">Use este formulário de forma semelhante para a página de listagem das entidades descrita acima.</span><span class="sxs-lookup"><span data-stu-id="e4d02-168">Use this form in the similar way to the entities list page described above.</span></span> <span data-ttu-id="e4d02-169">O formulário de campos de destino da entidade filha também comporta-se conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="e4d02-169">The target fields form for the child entity also behaves like what is described above.</span></span>

![Campos de destino](./media/Target_fields_2.png)

### <a name="using-data-entities"></a><span data-ttu-id="e4d02-171">Usando entidades de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-171">Using data entities</span></span>
<span data-ttu-id="e4d02-172">Após entender o impacto total, se houver, das chaves de configuração nas entidades de dados que você deseja usar, você agora pode continuar usando as entidades de dados adicionando-as aos projetos de dados.</span><span class="sxs-lookup"><span data-stu-id="e4d02-172">After understanding the full impact, if any, of configuration keys on the data entities that you would like to use, you can now proceed to using the data entities by adding them to data projects.</span></span> 

### <a name="run-time-validations-for-configuration-keys"></a><span data-ttu-id="e4d02-173">Validação de tempo de execução das chaves de configuração</span><span class="sxs-lookup"><span data-stu-id="e4d02-173">Run time validations for configuration keys</span></span>
<span data-ttu-id="e4d02-174">Usando os metadados da chave de configuração criados durante a lista de atualizações da entidade, as validações do tempo de execução são executadas nos seguintes casos de uso.</span><span class="sxs-lookup"><span data-stu-id="e4d02-174">Using the configuration key metadata built during entity refresh list, run time validations are performed in the following use cases.</span></span>

-   <span data-ttu-id="e4d02-175">Quando uma entidade de dados for adicionada a um trabalho</span><span class="sxs-lookup"><span data-stu-id="e4d02-175">When a data entity is added to a job</span></span>

-   <span data-ttu-id="e4d02-176">Quando os cliques de usuário são 'validados' na lista de entidades</span><span class="sxs-lookup"><span data-stu-id="e4d02-176">When user clicks ‘validate’ on the entity list</span></span>

-   <span data-ttu-id="e4d02-177">Quando o usuário carrega um pacote de dados em um projeto de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-177">When the user loads a data package into a data project</span></span>

-   <span data-ttu-id="e4d02-178">Quando o usuário carregar um modelo para um projeto de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-178">When the user loads a template into a data project</span></span>

-   <span data-ttu-id="e4d02-179">Quando um projeto de dados existente for carregado</span><span class="sxs-lookup"><span data-stu-id="e4d02-179">When an existing data project is loaded</span></span>

-   <span data-ttu-id="e4d02-180">Quando um modelo é carregado para um projeto de dados</span><span class="sxs-lookup"><span data-stu-id="e4d02-180">When a template is loaded into a data project</span></span>

-   <span data-ttu-id="e4d02-181">Antes que o trabalho de exportação/importação seja executado, (lote, não lote, recorrente, Odata)</span><span class="sxs-lookup"><span data-stu-id="e4d02-181">Before the export/import job is executed (batch, non-batch, recurring, Odata)</span></span>

-   <span data-ttu-id="e4d02-182">Quando o usuário gera o mapeamento</span><span class="sxs-lookup"><span data-stu-id="e4d02-182">When the user generates mapping</span></span>

-   <span data-ttu-id="e4d02-183">Quando o usuário mapeia os campos na interface do mapeamento</span><span class="sxs-lookup"><span data-stu-id="e4d02-183">When the user maps fields in the mapping UI</span></span>

-   <span data-ttu-id="e4d02-184">Quando o usuário adiciona somente 'campos importáveis'</span><span class="sxs-lookup"><span data-stu-id="e4d02-184">When the user adds only 'importable fields'</span></span>


### <a name="managing-configuration-key-changes"></a><span data-ttu-id="e4d02-185">Gerenciando alterações da chave de configuração</span><span class="sxs-lookup"><span data-stu-id="e4d02-185">Managing configuration key changes</span></span>
<span data-ttu-id="e4d02-186">A qualquer momento que você atualizar as chaves de configuração na entidade, tabela ou nível de campo, a lista de entidades na estrutura de gerenciamento de dados deve ser atualizada.</span><span class="sxs-lookup"><span data-stu-id="e4d02-186">Anytime that you update configuration keys at the entity, table or field level, the entity list in the data management framework must be refreshed.</span></span> <span data-ttu-id="e4d02-187">Este procedimento garante que a estrutura selecionará as definições de chave de configuração mais recentes.</span><span class="sxs-lookup"><span data-stu-id="e4d02-187">This process ensures that the framework picks up the latest configuration key settings.</span></span> <span data-ttu-id="e4d02-188">Até a lista de entidades ser atualizada, a seguinte advertência será mostrada na página de listagem da entidade.</span><span class="sxs-lookup"><span data-stu-id="e4d02-188">Until the entity list is refreshed, the following warning will be shown in the entity list page.</span></span> <span data-ttu-id="e4d02-189">As alterações da chave de configuração atualizadas terão efeito imediatamente após a lista de entidades ser atualizada.</span><span class="sxs-lookup"><span data-stu-id="e4d02-189">The updated configuration key changes will take effect immediately after the entity list is refreshed.</span></span> <span data-ttu-id="e4d02-190">Recomendamos que você valide os projetos e trabalhos de dados existentes para certificar-se de que eles funcionam como esperado, depois que as alterações das chaves de configuração entrarem em vigor.</span><span class="sxs-lookup"><span data-stu-id="e4d02-190">We recommend that you validate existing data projects and jobs to make sure that they function as expected after the configuration keys changes are put in effect.</span></span>

![Campos de destino](./media/Target_fields_3.png)


