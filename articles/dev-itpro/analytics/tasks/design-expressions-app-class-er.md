--- 
title: "Criar expressões de ER para chamar métodos de classe de aplicativo"
description: "Este guia fornece informações sobre como reutilizar a lógica de aplicativo existente em configurações de ER (relatório eletrônico) chamando métodos necessários de classes de aplicativos em expressões de ER."
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: e782d33f3748524491dace28008cd9148ae70529
ms.openlocfilehash: fdacd852eeed33b443a3c79b96fc4c4af04bb6b2
ms.contentlocale: pt-br
ms.lasthandoff: 08/09/2018

---
# <a name="design-er-expressions-to-call-application-class-methods"></a><span data-ttu-id="a35e7-103">Criar expressões de ER para chamar métodos de classe de aplicativo</span><span class="sxs-lookup"><span data-stu-id="a35e7-103">Design ER expressions to call application class methods</span></span>

[!include [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="a35e7-104">Este guia fornece informações sobre como reutilizar a lógica de aplicativo existente em configurações de ER (relatório eletrônico) chamando métodos necessários de classes de aplicativos em expressões de ER.</span><span class="sxs-lookup"><span data-stu-id="a35e7-104">This guide provides information about how to reuse the existing application logic in Electronic reporting (ER) configurations by calling required methods of application classes in ER expressions.</span></span> <span data-ttu-id="a35e7-105">Os valores de argumentos para chamar classes podem ser definidos dinamicamente no tempo de execução: por exemplo, com base em informações no documento de análise para garantir sua exatidão.</span><span class="sxs-lookup"><span data-stu-id="a35e7-105">Values of arguments for calling classes can be defined dynamically at run-time: for example, based on information in the parsing document to ensure its correctness.</span></span> <span data-ttu-id="a35e7-106">Neste guia, você criará as configurações de ER necessárias para a empresa de exemplo, Litware, Inc. Esse procedimento é criado para usuários com a função atribuída de Administrador de sistema ou Desenvolvedor de relatório eletrônico.</span><span class="sxs-lookup"><span data-stu-id="a35e7-106">In this guide, you will create the required ER configurations for the sample company, Litware, Inc. This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> 

<span data-ttu-id="a35e7-107">Estas etapas podem ser concluídas usando qualquer conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="a35e7-107">These steps can be completed using any data set.</span></span> <span data-ttu-id="a35e7-108">Você também deve baixar e salvar o próximo arquivo localmente: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span><span class="sxs-lookup"><span data-stu-id="a35e7-108">You must also download and save the following file locally: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span></span>

<span data-ttu-id="a35e7-109">Para concluir essas etapas, você deve primeiro concluir as etapas do procedimento “ER Criar um provedor de configuração e marcá-lo como ativo“.</span><span class="sxs-lookup"><span data-stu-id="a35e7-109">To complete these steps, you must first complete the steps in the procedure, “ER Create a configuration provider and mark it as active.”</span></span>

1. <span data-ttu-id="a35e7-110">Ir para Administração da organização > Espaços de trabalho > Relatório eletrônico.</span><span class="sxs-lookup"><span data-stu-id="a35e7-110">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="a35e7-111">Verifique se o provedor de configuração da empresa exemplo, Litware, Inc., está disponível e marcado como ativo.</span><span class="sxs-lookup"><span data-stu-id="a35e7-111">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="a35e7-112">Se não visualizar esse provedor de configuração, você deve primeiro concluir as etapas do procedimento "Criar um provedor de configuração e marcá-lo como ativo".</span><span class="sxs-lookup"><span data-stu-id="a35e7-112">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active”.</span></span>   
    * <span data-ttu-id="a35e7-113">Suponhamos que você esteja criando um processo para analisar extratos bancários de entrada para uma atualização de dados do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a35e7-113">Let’s assume that you are designing a process for parsing incoming bank statements for an application data update.</span></span> <span data-ttu-id="a35e7-114">Você receberá os extratos bancários de entrada como arquivos TXT que contêm códigos IBAN.</span><span class="sxs-lookup"><span data-stu-id="a35e7-114">You will receive the incoming bank statements as TXT files that contain IBAN codes.</span></span> <span data-ttu-id="a35e7-115">Como parte do processo de importação de extratos bancários, você precisará validar a exatidão desses códigos IBAN usando a lógica que já está disponível no Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="a35e7-115">As part of the bank statement import process, you need to validate the correctness of this IBAN codes using the logic that is already available in Dynamics 365 for Finance and Operations.</span></span>   

## <a name="import-a-new-er-model-configuration"></a><span data-ttu-id="a35e7-116">Importar uma nova configuração de modelo de ER</span><span class="sxs-lookup"><span data-stu-id="a35e7-116">Import a new ER model configuration</span></span>
1. <span data-ttu-id="a35e7-117">Na lista, localize e selecione o PDV desejado.</span><span class="sxs-lookup"><span data-stu-id="a35e7-117">In the list, find and select the desired record.</span></span>
    * <span data-ttu-id="a35e7-118">Selecione o bloco do provedor Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a35e7-118">Select the Microsoft provider tile.</span></span>  
2. <span data-ttu-id="a35e7-119">Clique em Repositórios.</span><span class="sxs-lookup"><span data-stu-id="a35e7-119">Click Repositories.</span></span>
3. <span data-ttu-id="a35e7-120">Clique em Mostrar filtros.</span><span class="sxs-lookup"><span data-stu-id="a35e7-120">Click Show filters.</span></span>
4. <span data-ttu-id="a35e7-121">Adicionar um campo de filtro 'Nome do tipo'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-121">Add a filter field ‘Type name’.</span></span> <span data-ttu-id="a35e7-122">No campo Nome, digite o valor “recursos”, selecione o operador de filtro "contém" e clique em Aplicar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-122">In the Name field, enter the value “resources”, select the “contains” filter operator, and then click Apply.</span></span>
5. <span data-ttu-id="a35e7-123">Clique em Abrir.</span><span class="sxs-lookup"><span data-stu-id="a35e7-123">Click Open.</span></span>
6. <span data-ttu-id="a35e7-124">Na árvore, selecione 'Modelo de pagamento'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-124">In the tree, select 'Payment model'.</span></span>
    * <span data-ttu-id="a35e7-125">Se o botão Importar na Guia Rápida Versões não estiver habilitado, você já importou a versão 1 da configuração de ER 'Modelo de pagamento'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-125">If the Import button on the Versions FastTab is not enabled, you have already imported the version 1 one of the ER configuration ‘Payment model’.</span></span> <span data-ttu-id="a35e7-126">Você pode ignorar as etapas restantes nesta subtarefa.</span><span class="sxs-lookup"><span data-stu-id="a35e7-126">You can skip the rest steps in this sub-task.</span></span>   
7. <span data-ttu-id="a35e7-127">Clique em Importar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-127">Click Import.</span></span>
8. <span data-ttu-id="a35e7-128">Clique em Sim.</span><span class="sxs-lookup"><span data-stu-id="a35e7-128">Click Yes.</span></span>
9. <span data-ttu-id="a35e7-129">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="a35e7-129">Close the page.</span></span>
10. <span data-ttu-id="a35e7-130">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="a35e7-130">Close the page.</span></span>

## <a name="add-a-new-er-format-configuration"></a><span data-ttu-id="a35e7-131">Adicionar uma nova configuração de formato de ER</span><span class="sxs-lookup"><span data-stu-id="a35e7-131">Add a new ER format configuration</span></span>
1. <span data-ttu-id="a35e7-132">Clique em Configurações de relatórios.</span><span class="sxs-lookup"><span data-stu-id="a35e7-132">Click Reporting configurations.</span></span>
    * <span data-ttu-id="a35e7-133">Adicionar um novo formato de ER para analisar extratos bancários de entrada no formato TXT.</span><span class="sxs-lookup"><span data-stu-id="a35e7-133">Add a new ER format to parse incoming bank statements in TXT format.</span></span>  
2. <span data-ttu-id="a35e7-134">Na árvore, selecione 'Modelo de pagamento'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-134">In the tree, select 'Payment model'.</span></span>
3. <span data-ttu-id="a35e7-135">Clique em Criar configuração para abrir a caixa de diálogo do menu.</span><span class="sxs-lookup"><span data-stu-id="a35e7-135">Click Create configuration to open the dialog menu.</span></span>
4. <span data-ttu-id="a35e7-136">No campo Novo, insira 'Formato baseado no modelo de dados PaymentModel'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-136">In the New field, enter 'Format based on data model PaymentModel'.</span></span>
5. <span data-ttu-id="a35e7-137">No campo Nome, digite 'Formato de importação de extrato bancário (exemplo)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-137">In the Name field, type 'Bank statement import format (sample)'.</span></span>
    * <span data-ttu-id="a35e7-138">Formato de importação de extrato bancário (exemplo)</span><span class="sxs-lookup"><span data-stu-id="a35e7-138">Bank statement import format (sample)</span></span>  
6. <span data-ttu-id="a35e7-139">Selecione Sim no campo Dá suporte à importação de dados.</span><span class="sxs-lookup"><span data-stu-id="a35e7-139">Select Yes in the Supports data import field.</span></span>
7. <span data-ttu-id="a35e7-140">Clique em Criar configuração.</span><span class="sxs-lookup"><span data-stu-id="a35e7-140">Click Create configuration.</span></span>

## <a name="design-the-er-format-configuration---format"></a><span data-ttu-id="a35e7-141">Criar a configuração de formato de ER - formato</span><span class="sxs-lookup"><span data-stu-id="a35e7-141">Design the ER format configuration - format</span></span>
1. <span data-ttu-id="a35e7-142">Clique em Designer.</span><span class="sxs-lookup"><span data-stu-id="a35e7-142">Click Designer.</span></span>
    * <span data-ttu-id="a35e7-143">O formato criado representa a estrutura prevista do arquivo externo no formato TXT.</span><span class="sxs-lookup"><span data-stu-id="a35e7-143">The designed format represents the expected structure of the external file in TXT format.</span></span>  
2. <span data-ttu-id="a35e7-144">Clique em Adicionar raiz para abrir a caixa de diálogo do menu.</span><span class="sxs-lookup"><span data-stu-id="a35e7-144">Click Add root to open the dialog menu.</span></span>
3. <span data-ttu-id="a35e7-145">Na árvore, selecione 'Texto\Sequência'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-145">In the tree, select 'Text\Sequence'.</span></span>
4. <span data-ttu-id="a35e7-146">No campo Nome, digite "Raiz".</span><span class="sxs-lookup"><span data-stu-id="a35e7-146">In the Name field, type 'Root'.</span></span>
    * <span data-ttu-id="a35e7-147">Raiz</span><span class="sxs-lookup"><span data-stu-id="a35e7-147">Root</span></span>  
5. <span data-ttu-id="a35e7-148">No campo Caracteres especiais, selecione 'Nova linha - Windows (CR LF)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-148">In the Special characters field, select 'New line - Windows (CR LF)'.</span></span>
    * <span data-ttu-id="a35e7-149">A opção 'Nova linha - Windows (CR LF)' foi selecionada no campo 'Caracteres especiais'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-149">The option ‘New line - Windows (CR LF)’ has been selected in the ‘Special characters’ field.</span></span> <span data-ttu-id="a35e7-150">Com base nessa configuração, cada linha no arquivo de análise é considerada um registro separado.</span><span class="sxs-lookup"><span data-stu-id="a35e7-150">Based on this setting, each line in the parsing file is considered a separate record.</span></span>  
6. <span data-ttu-id="a35e7-151">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="a35e7-151">Click OK.</span></span>
7. <span data-ttu-id="a35e7-152">Clique em Adicionar para abrir a caixa de diálogo suspensa.</span><span class="sxs-lookup"><span data-stu-id="a35e7-152">Click Add to open the drop dialog.</span></span>
8. <span data-ttu-id="a35e7-153">Na árvore, selecione 'Texto\Sequência'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-153">In the tree, select 'Text\Sequence'.</span></span>
9. <span data-ttu-id="a35e7-154">No campo Nome, digite 'Linhas'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-154">In the Name field, type 'Rows'.</span></span>
    * <span data-ttu-id="a35e7-155">Linhas</span><span class="sxs-lookup"><span data-stu-id="a35e7-155">Rows</span></span>  
10. <span data-ttu-id="a35e7-156">No campo Multiplicidade, selecione 'Um muitos'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-156">In the Multiplicity field, select 'One many'.</span></span>
    * <span data-ttu-id="a35e7-157">A opção 'Um muitos' foi selecionada no campo 'Multiplicidade'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-157">The option ‘One many’ has been selected in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="a35e7-158">Com base nessa configuração, espera-se que pelo menos uma linha seja apresentada no arquivo de análise.</span><span class="sxs-lookup"><span data-stu-id="a35e7-158">Based on this setting, it is expected that at least one line will be presented in the parsing file.</span></span>  
11. <span data-ttu-id="a35e7-159">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="a35e7-159">Click OK.</span></span>
12. <span data-ttu-id="a35e7-160">Na árvore, selecione 'Raiz\Linhas'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-160">In the tree, select 'Root\Rows'.</span></span>
13. <span data-ttu-id="a35e7-161">Clique em Adicionar sequência.</span><span class="sxs-lookup"><span data-stu-id="a35e7-161">Click Add Sequence.</span></span>
14. <span data-ttu-id="a35e7-162">No campo Nome, digite 'Campos'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-162">In the Name field, type 'Fields'.</span></span>
    * <span data-ttu-id="a35e7-163">Campos</span><span class="sxs-lookup"><span data-stu-id="a35e7-163">Fields</span></span>  
15. <span data-ttu-id="a35e7-164">No campo Multiplicidade, selecione 'Exatamente um'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-164">In the Multiplicity field, select 'Exactly one'.</span></span>
16. <span data-ttu-id="a35e7-165">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="a35e7-165">Click OK.</span></span>
17. <span data-ttu-id="a35e7-166">Na árvore, selecione 'Raiz\Linhas\Campos'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-166">In the tree, select 'Root\Rows\Fields'.</span></span>
18. <span data-ttu-id="a35e7-167">Clique em Adicionar para abrir a caixa de diálogo suspensa.</span><span class="sxs-lookup"><span data-stu-id="a35e7-167">Click Add to open the drop dialog.</span></span>
19. <span data-ttu-id="a35e7-168">Na árvore, selecione 'Texto\Cadeia de caracteres'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-168">In the tree, select 'Text\String'.</span></span>
20. <span data-ttu-id="a35e7-169">No campo Nome, digite 'IBAN'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-169">In the Name field, type 'IBAN'.</span></span>
    * <span data-ttu-id="a35e7-170">IBAN</span><span class="sxs-lookup"><span data-stu-id="a35e7-170">IBAN</span></span>  
21. <span data-ttu-id="a35e7-171">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="a35e7-171">Click OK.</span></span>
    * <span data-ttu-id="a35e7-172">Configurou-se que cada linha no arquivo de análise contém o único código IBAN.</span><span class="sxs-lookup"><span data-stu-id="a35e7-172">It has been configured that each line in the parsing file contains the only IBAN code.</span></span>  
22. <span data-ttu-id="a35e7-173">Clique em Salvar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-173">Click Save.</span></span>

## <a name="design-the-er-format-configuration--mapping-to-data-model"></a><span data-ttu-id="a35e7-174">Criar a configuração de formato de ER – mapeamento para modelo de dados</span><span class="sxs-lookup"><span data-stu-id="a35e7-174">Design the ER format configuration – mapping to data model</span></span>
1. <span data-ttu-id="a35e7-175">Clique em Mapear formato para modelo.</span><span class="sxs-lookup"><span data-stu-id="a35e7-175">Click Map format to model.</span></span>
2. <span data-ttu-id="a35e7-176">Clique em Novo.</span><span class="sxs-lookup"><span data-stu-id="a35e7-176">Click New.</span></span>
3. <span data-ttu-id="a35e7-177">No campo Definição, digite 'BankToCustomerDebitCreditNotificationInitiation'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-177">In the Definition field, type 'BankToCustomerDebitCreditNotificationInitiation'.</span></span>
    * <span data-ttu-id="a35e7-178">BankToCustomerDebitCreditNotificationInitiation</span><span class="sxs-lookup"><span data-stu-id="a35e7-178">BankToCustomerDebitCreditNotificationInitiation</span></span>  
4. <span data-ttu-id="a35e7-179">Resolver altera a definição.</span><span class="sxs-lookup"><span data-stu-id="a35e7-179">ResolveChanges the Definition.</span></span>
5. <span data-ttu-id="a35e7-180">No campo Nome, digite 'Mapeamento para modelo de dados'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-180">In the Name field, type 'Mapping to data model'.</span></span>
    * <span data-ttu-id="a35e7-181">Mapeamento para modelo de dados</span><span class="sxs-lookup"><span data-stu-id="a35e7-181">Mapping to data model</span></span>  
6. <span data-ttu-id="a35e7-182">Clique em Salvar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-182">Click Save.</span></span>
7. <span data-ttu-id="a35e7-183">Clique em Designer.</span><span class="sxs-lookup"><span data-stu-id="a35e7-183">Click Designer.</span></span>
8. <span data-ttu-id="a35e7-184">Na árvore, selecione "Dynamics 365 for Operations\Classe".</span><span class="sxs-lookup"><span data-stu-id="a35e7-184">In the tree, select 'Dynamics 365 for Operations\Class'.</span></span>
9. <span data-ttu-id="a35e7-185">Clique em Adicionar raiz.</span><span class="sxs-lookup"><span data-stu-id="a35e7-185">Click Add root.</span></span>
    * <span data-ttu-id="a35e7-186">Adicionar uma nova fonte de dados para chamar a lógica de aplicativo existente para validação de códigos IBAN.</span><span class="sxs-lookup"><span data-stu-id="a35e7-186">Add a new data source to call the existing application logic for IBAN codes validation.</span></span>  
10. <span data-ttu-id="a35e7-187">No campo Nome, digite 'check_codes'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-187">In the Name field, type 'check_codes'.</span></span>
    * <span data-ttu-id="a35e7-188">check_codes</span><span class="sxs-lookup"><span data-stu-id="a35e7-188">check_codes</span></span>  
11. <span data-ttu-id="a35e7-189">No campo Classe, digite 'ISO7064'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-189">In the Class field, type 'ISO7064'.</span></span>
    * <span data-ttu-id="a35e7-190">ISO7064</span><span class="sxs-lookup"><span data-stu-id="a35e7-190">ISO7064</span></span>  
12. <span data-ttu-id="a35e7-191">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="a35e7-191">Click OK.</span></span>
13. <span data-ttu-id="a35e7-192">Na árvore, expanda 'format'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-192">In the tree, expand 'format'.</span></span>
14. <span data-ttu-id="a35e7-193">Na árvore, expanda 'formato\Raiz: Sequência(Root)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-193">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
15. <span data-ttu-id="a35e7-194">Na árvore, selecione 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-194">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
16. <span data-ttu-id="a35e7-195">Clique em Associar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-195">Click Bind.</span></span>
17. <span data-ttu-id="a35e7-196">Na árvore, expanda 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-196">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
18. <span data-ttu-id="a35e7-197">Na árvore, expanda 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)\Campos: Sequência 1..1 (Fields)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-197">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
19. <span data-ttu-id="a35e7-198">Na árvore, selecione 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)\Campos: Sequência 1..1 (Fields)\IBAN: String(IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-198">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
20. <span data-ttu-id="a35e7-199">Na árvore, expanda 'Pagamentos = format.Root.Rows'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-199">In the tree, expand 'Payments = format.Root.Rows'.</span></span>
21. <span data-ttu-id="a35e7-200">Na árvore, expanda 'Pagamentos = format.Root.Rows\Conta do Credor(CreditorAccount)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-200">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)'.</span></span>
22. <span data-ttu-id="a35e7-201">Na árvore, expanda 'Pagamentos = format.Root.Rows\Conta do Credor(CreditorAccount)\Identificação'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-201">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification'.</span></span>
23. <span data-ttu-id="a35e7-202">Na árvore, selecione 'Pagamentos = format.Root.Rows\Conta do Credor(CreditorAccount)\Identificação\IBAN'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-202">In the tree, select 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification\IBAN'.</span></span>
24. <span data-ttu-id="a35e7-203">Clique em Associar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-203">Click Bind.</span></span>
25. <span data-ttu-id="a35e7-204">Clique na guia Validações.</span><span class="sxs-lookup"><span data-stu-id="a35e7-204">Click the Validations tab.</span></span>
26. <span data-ttu-id="a35e7-205">Clique em Novo.</span><span class="sxs-lookup"><span data-stu-id="a35e7-205">Click New.</span></span>
    * <span data-ttu-id="a35e7-206">Adicionar uma nova regra de validação que exibe um erro para qualquer linha no arquivo de análise que contenha um código IBAN inválido.</span><span class="sxs-lookup"><span data-stu-id="a35e7-206">Add a new validation rule that displays an error for any line in the parsing file that contains invalid IBAN code.</span></span>  
27. <span data-ttu-id="a35e7-207">Clique em Editar condição.</span><span class="sxs-lookup"><span data-stu-id="a35e7-207">Click Edit condition.</span></span>
28. <span data-ttu-id="a35e7-208">Na árvore, expanda 'check_codes'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-208">In the tree, expand 'check_codes'.</span></span>
29. <span data-ttu-id="a35e7-209">Na árvore, selecione 'check_codes\verifyMOD1271_36'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-209">In the tree, select 'check_codes\verifyMOD1271_36'.</span></span>
30. <span data-ttu-id="a35e7-210">Clique em Adicionar fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a35e7-210">Click Add data source.</span></span>
31. <span data-ttu-id="a35e7-211">No campo Fórmula, digite 'check_codes.verifyMOD1271_36('.</span><span class="sxs-lookup"><span data-stu-id="a35e7-211">In the Formula field, enter 'check_codes.verifyMOD1271_36('.</span></span>
    * <span data-ttu-id="a35e7-212">check_codes.verifyMOD1271_36(</span><span class="sxs-lookup"><span data-stu-id="a35e7-212">check_codes.verifyMOD1271_36(</span></span>  
32. <span data-ttu-id="a35e7-213">Na árvore, expanda 'format'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-213">In the tree, expand 'format'.</span></span>
33. <span data-ttu-id="a35e7-214">Na árvore, expanda 'formato\Raiz: Sequência(Root)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-214">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
34. <span data-ttu-id="a35e7-215">Na árvore, expanda 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-215">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
35. <span data-ttu-id="a35e7-216">Na árvore, expanda 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)\Campos: Sequência 1..1 (Fields)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-216">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
36. <span data-ttu-id="a35e7-217">Na árvore, selecione 'formato\Raiz: Sequência(Root)\Linhas: Sequência 1..\* (Rows)\Campos: Sequência 1..1 (Fields)\IBAN: String(IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-217">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
37. <span data-ttu-id="a35e7-218">Clique em Adicionar fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a35e7-218">Click Add data source.</span></span>
38. <span data-ttu-id="a35e7-219">No campo Fórmula, digite 'check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-219">In the Formula field, enter 'check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="a35e7-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="a35e7-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span></span>  
39. <span data-ttu-id="a35e7-221">Clique em Salvar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-221">Click Save.</span></span>
40. <span data-ttu-id="a35e7-222">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="a35e7-222">Close the page.</span></span>
    * <span data-ttu-id="a35e7-223">A condição de validação foi configurada para retornar FALSE para qualquer código IBAN inválido, chamando o método existente 'verifyMOD1271_36' da classe de aplicativo 'ISO7064'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-223">The validation condition has been configured to return FALSE for any invalid IBAN code by calling the existing method ‘verifyMOD1271_36’ of the application class ‘ISO7064’.</span></span> <span data-ttu-id="a35e7-224">Observe que o valor do código IBAN é definido dinamicamente no tempo de execução como o argumento do método de chamada baseado no conteúdo do arquivo TXT de análise.</span><span class="sxs-lookup"><span data-stu-id="a35e7-224">Note that the value of the IBAN code is defined dynamically at run-time as the argument of the calling method based on the content of the parsing TXT file.</span></span>   
41. <span data-ttu-id="a35e7-225">Clique em Editar mensagem.</span><span class="sxs-lookup"><span data-stu-id="a35e7-225">Click Edit message.</span></span>
42. <span data-ttu-id="a35e7-226">No campo Fórmula, digite 'CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)'.</span><span class="sxs-lookup"><span data-stu-id="a35e7-226">In the Formula field, enter 'CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="a35e7-227">CONCATENATE("Código IBAN inválido encontrado:  ", format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="a35e7-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span></span>  
43. <span data-ttu-id="a35e7-228">Clique em Salvar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-228">Click Save.</span></span>
44. <span data-ttu-id="a35e7-229">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="a35e7-229">Close the page.</span></span>
45. <span data-ttu-id="a35e7-230">Clique em Salvar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-230">Click Save.</span></span>
46. <span data-ttu-id="a35e7-231">Feche a página.</span><span class="sxs-lookup"><span data-stu-id="a35e7-231">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="a35e7-232">Executar o mapeamento de formato</span><span class="sxs-lookup"><span data-stu-id="a35e7-232">Run the format mapping</span></span>
<span data-ttu-id="a35e7-233">Para fins de teste, execute o mapeamento de formato usando o arquivo SampleIncomingMessage.txt, que foi baixado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a35e7-233">For testing purposes, execute the format mapping using the SampleIncomingMessage.txt file that you downloaded.</span></span> <span data-ttu-id="a35e7-234">A saída gerada inclui dados que serão importados do arquivo TXT selecionado e preenchidos no modelo de dados personalizado durante a importação real.</span><span class="sxs-lookup"><span data-stu-id="a35e7-234">The generated output includes data that will be imported from the selected TXT file and populated to the custom data model during the real import.</span></span>   
1. <span data-ttu-id="a35e7-235">Clique em Executar.</span><span class="sxs-lookup"><span data-stu-id="a35e7-235">Click Run.</span></span>
    * <span data-ttu-id="a35e7-236">Clique em Procurar e navegue até o arquivo SampleIncomingMessage.txt, que foi baixado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="a35e7-236">Click Browse and navigate to the SampleIncomingMessage.txt file that you previously downloaded.</span></span>  
2. <span data-ttu-id="a35e7-237">Clique em OK.</span><span class="sxs-lookup"><span data-stu-id="a35e7-237">Click OK.</span></span>
    * <span data-ttu-id="a35e7-238">Examine a saída no formato XML, que representa os dados que foram importados do arquivo selecionado e transferidos para o modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="a35e7-238">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="a35e7-239">Observe que apenas 3 linhas do arquivo TXT importado foram processadas.</span><span class="sxs-lookup"><span data-stu-id="a35e7-239">Note that only 3 lines of the imported TXT file were processed.</span></span> <span data-ttu-id="a35e7-240">O código IBAN na linha 4, que não é válido, foi ignorado e uma mensagem de erro é fornecida no Log de informações.</span><span class="sxs-lookup"><span data-stu-id="a35e7-240">The IBAN code on line 4 that is not valid was skipped and an error message is provided in the Infolog.</span></span>  


