---
title: Gerar formulários de FTI imprimíveis
description: Este tópico explica como usar a estrutura de relatório eletrônico (ER) para gerar formulários de fatura de texto livre (FTI) imprimíveis como documentos do Microsoft Office.
author: NickSelin
manager: AnnBe
ms.date: 07/24/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: d27a11a0d925b0f1164578f9c04e6abd4736b2b2
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/15/2019
ms.locfileid: "1554013"
---
# <a name="generate-printable-fti-forms"></a><span data-ttu-id="e2aa3-103">Gerar formulários de FTI imprimíveis</span><span class="sxs-lookup"><span data-stu-id="e2aa3-103">Generate printable FTI forms</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="e2aa3-104">A estrutura de relatório eletrônico (ER) permite gerar formulários de fatura de texto livre (FTI) imprimíveis como documentos do Microsoft Office.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-104">The Electronic reporting (ER) framework lets you generate printable free text invoice (FTI) forms as Microsoft Office documents.</span></span> <span data-ttu-id="e2aa3-105">Este tópico fornece informações sobre como criar suas próprias configurações, bem como detalhes de modelos de configuração disponíveis.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-105">This topic provides information about how to build your own configurations as well as details of available configuration templates.</span></span>

## <a name="overview"></a><span data-ttu-id="e2aa3-106">Visão Geral</span><span class="sxs-lookup"><span data-stu-id="e2aa3-106">Overview</span></span>

<span data-ttu-id="e2aa3-107">Além da capacidade existente de gerar formulários de FTI imprimíveis usando o Microsoft SQL Server Reporting Services (SSRS), agora é possível usar a estrutura de ER.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-107">In addition to the existing capability of generating printable FTI forms by using Microsoft SQL Server Reporting Services (SSRS), you can now use the ER framework.</span></span> <span data-ttu-id="e2aa3-108">Você pode gerenciar os formulários de FTI imprimíveis no Microsoft Office Excel e no Word.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-108">You can manage printable FTI forms in Microsoft Office Excel and Word.</span></span> <span data-ttu-id="e2aa3-109">Você também pode modificar o layout, o fluxo de dados e a formatação para atender a requisitos específicos sem fazer alterações no código.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-109">You can also modify the layout, data flow, and formatting to meet specific requirements without making code changes.</span></span>

> [!NOTE]
> <span data-ttu-id="e2aa3-110">Para começar com uma visão geral das configurações de ER existentes para este exemplo de solução de formulários de FTI imprimíveis, você pode acessar diretamente a seção **Baixar modelo de configurações de ER para gerar formulários de FTI imprimíveis** posteriormente neste tópico.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-110">If you want to start with an overview of existing ER configurations for this sample of the printable FTI forms solution, you can go directly to section **Download sample ER configurations to generate printable FTI forms** later in this topic.</span></span>

## <a name="create-customized-configurations-for-fti-printable-forms"></a><span data-ttu-id="e2aa3-111">Criar configurações personalizadas para formulários de FTI imprimíveis</span><span class="sxs-lookup"><span data-stu-id="e2aa3-111">Create customized configurations for FTI printable forms</span></span>
<span data-ttu-id="e2aa3-112">Como parte de suas soluções personalizadas para formulários de FTI imprimíveis, você deve criar um conjunto de configurações de ER.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-112">As part of your customized solution for printable FTI forms, you must create a set of ER configurations.</span></span>

### <a name="configure-the-er-data-model"></a><span data-ttu-id="e2aa3-113">Configurar o modelo de dados de ER</span><span class="sxs-lookup"><span data-stu-id="e2aa3-113">Configure the ER data model</span></span>
<span data-ttu-id="e2aa3-114">Seu aplicativo deve incluir o modelo de dados de ER contendo um modelo de dados que descreva o domínio comercial do faturamento do cliente.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-114">Your application must include the ER data model configuration that contains a data model that describes the customer invoicing business domain.</span></span> <span data-ttu-id="e2aa3-115">Como requisito, o nome do modelo de dados deve ser **CustomersInvoicing**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-115">As a requirement, the name of the data model must be **CustomersInvoicing**.</span></span> <span data-ttu-id="e2aa3-116">Para obter informações sobre como criar modelos de dados de ER, consulte [Criar um modelo de dados de domínio específico para relatório eletrônico (ER)](tasks/er-design-domain-specific-data-model-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-116">For information about how to design ER data models, see [Design a domain-specific data model for electronic reporting (ER)](tasks/er-design-domain-specific-data-model-2016-11.md).</span></span>

### <a name="configure-the-er-model-mapping"></a><span data-ttu-id="e2aa3-117">Configurar o mapeamento de modelo de ER</span><span class="sxs-lookup"><span data-stu-id="e2aa3-117">Configure the ER model mapping</span></span>
<span data-ttu-id="e2aa3-118">Seu aplicativo deve incluir o mapeamento de ER do modelo de dados CustomersInvoicing.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-118">Your application must include the ER model mapping for the CustomersInvoicing data model.</span></span> <span data-ttu-id="e2aa3-119">O mapeamento de modelo pode estar na configuração do modelo de dados de ER ou na configuração de mapeamento de ER.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-119">The model mapping can be in either the ER data model configuration or the ER model mapping configuration.</span></span> <span data-ttu-id="e2aa3-120">Contudo, o nome do descritor raiz do mapeamento de modelo deve ser **FreeTextInvoice**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-120">However, the name of the root descriptor of the model mapping must be **FreeTextInvoice**.</span></span>

<span data-ttu-id="e2aa3-121">O mapeamento deve conter as seguintes fontes de dados:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-121">The mapping must contain the following data sources:</span></span>

- <span data-ttu-id="e2aa3-122">Tipo de fonte de dados: **Registros da tabela**</span><span class="sxs-lookup"><span data-stu-id="e2aa3-122">Data source type: **Table records**</span></span>

    - <span data-ttu-id="e2aa3-123">Essa fonte de dados deve ser chamada **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-123">This data source must be named **CustInvoiceJour**.</span></span>
    - <span data-ttu-id="e2aa3-124">Deve se referir à tabela do aplicativo CustInvoiceJour.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-124">It must refer to the CustInvoiceJour application table.</span></span>
    - <span data-ttu-id="e2aa3-125">É usada no tempo de execução para passar do aplicativo para o modelo de ER mapeando a lista de faturas que foram selecionadas para impressão.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-125">It's used at runtime to pass from the application to the ER model mapping the list of invoices that have been selected for printing.</span></span>

- <span data-ttu-id="e2aa3-126">Tipo de fonte de dados: **Objeto**</span><span class="sxs-lookup"><span data-stu-id="e2aa3-126">Data source type: **Object**</span></span>

    - <span data-ttu-id="e2aa3-127">Essa fonte de dados deve ser chamada **PrintMgmtPrintSettingDetail**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-127">This data source must be named **PrintMgmtPrintSettingDetail**.</span></span>
    - <span data-ttu-id="e2aa3-128">Deve se referir à classe do aplicativo **PrintMgmtPrintSettingDetail**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-128">It must refer to the **PrintMgmtPrintSettingDetail** application class.</span></span>
    - <span data-ttu-id="e2aa3-129">É usada no tempo de execução para passar do aplicativo para o modelo de ER mapeando os detalhes das configurações de gerenciamento de impressão do formato de ER em execução.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-129">It's used at runtime to pass from the application to the ER model mapping details of the print management settings for the ER format that is running.</span></span>

<span data-ttu-id="e2aa3-130">Os detalhes da integração de aplicativo com a estrutura de ER podem ser encontrados na classe **ERPrintMgmtReportFormatSubscriber** (modelo de integração do pacote de aplicativos de ER) no código-fonte do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-130">The details of the application integration with the ER framework can be found in the **ERPrintMgmtReportFormatSubscriber** class (ER Application Suite integration model) in the source code of the application.</span></span>

<span data-ttu-id="e2aa3-131">Para obter mais informações sobre a criação de mapeamentos de modelo de ER, consulte [Definir o mapeamento de modelo e selecionar fontes de dados para relatório eletrônico (ER)](tasks/er-define-model-mapping-select-data-sources-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-131">For more information about the design of ER model mappings, see [Define model mapping and select data sources for electronic reporting (ER)](tasks/er-define-model-mapping-select-data-sources-2016-11.md).</span></span>

### <a name="configure-the-er-format"></a><span data-ttu-id="e2aa3-132">Configurar o formato de ER</span><span class="sxs-lookup"><span data-stu-id="e2aa3-132">Configure the ER format</span></span>
<span data-ttu-id="e2aa3-133">Na instância do seu aplicativo, você deve ter a configuração de formato de ER que será usada para gerar formulários de FTI.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-133">In your application instance, you must have the ER format configuration that will be used to generate FTI forms.</span></span> 

> [!NOTE]
> <span data-ttu-id="e2aa3-134">Essa configuração de formato deve ser criada para o modelo de dados CustomersInvoicing e deve usar o mapeamento de modelo com o descritor raiz **FreeTextInvoice**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-134">This format configuration must be created for the CustomersInvoicing data model, and it must use the model mapping that has the **FreeTextInvoice** root descriptor.</span></span>

<span data-ttu-id="e2aa3-135">Para obter informações sobre como configurar formatos de ER, consulte [Criar uma configuração de formato para relatório eletrônico (ER)](tasks/er-format-configuration-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-135">For information about how to configure ER formats, see [Create a format configuration for electronic reporting (ER)](tasks/er-format-configuration-2016-11.md).</span></span> <span data-ttu-id="e2aa3-136">Para obter informações sobre como criar formatos de ER para gerar relatórios no formato OpenXML, consulte [Criar uma configuração para gerar relatórios no formato OpenXML para relatório eletrônico (ER)](tasks/er-design-reports-openxml-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-136">For information about how to design ER formats to generate reports in OpenXML format, see [Design a configuration for generating reports in OpenXML format for electronic reporting (ER)](tasks/er-design-reports-openxml-2016-11.md).</span></span>

## <a name="configure-print-management"></a><span data-ttu-id="e2aa3-137">Configurar gerenciamento de impressão</span><span class="sxs-lookup"><span data-stu-id="e2aa3-137">Configure print management</span></span>
<span data-ttu-id="e2aa3-138">Para gerar formulários de FTI usando a estrutura de ER, você pode atribuir os formatos de ER da mesma forma que você atribui relatórios de SSRS.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-138">To generate FTI forms by using the ER framework, you can assign ER formats in the same way that you assign SSRS reports.</span></span> <span data-ttu-id="e2aa3-139">Para associar o formato de ER a todos os FTIs de contas a receber, acesse **Contas a receber** \> **Configuração** \> **Formulários** \> **Configuração de formulário** \> **Geral** \> **Gerenciamento de impressão** \> **Fatura de texto livre** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-139">To associate the ER format with all Accounts receivable FTIs, go to **Accounts receivable** \> **Setup** \> **Forms** \> **Form setup** \> **General** \> **Print management** \> **Free text invoice** \> **Original**.</span></span> <span data-ttu-id="e2aa3-140">Para associar o formato de ER a um cliente ou fatura específicos, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-140">To associate the ER format with a specific customer or invoice, follow these steps.</span></span>

1. <span data-ttu-id="e2aa3-141">Acesse **Contas a receber** \> **Faturas** \> **Todas as faturas de texto livre**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-141">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="e2aa3-142">Selecione o FTI para associar o formato de ER e abra a página **Configuração de gerenciamento de impressão**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-142">Select the FTI to associate the ER format with, and open the **Print management setup** page.</span></span>
3. <span data-ttu-id="e2aa3-143">Selecione o nível de documento para especificar o escopo das faturas para processamento.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-143">Select the document level to specify the scope of invoices for processing.</span></span>
4. <span data-ttu-id="e2aa3-144">Selecione o formato de ER especificado para o nível de documento.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-144">Select the ER format for the specified document level.</span></span>

![Configuração de gerenciamento de impressão](media/FTIbyGER-PMSetting.png)

> [!NOTE]
> <span data-ttu-id="e2aa3-146">Somente os formatos de ER que usam o descritor raiz **FreeTextInvoice** do modelo de dados **CustomersInvoicing** aparecem no campo **Pesquisa de formato de relatório** para o formato selecionado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-146">Only ER formats that use the **FreeTextInvoice** root descriptor of the **CustomersInvoicing** data model appear in the **Report format lookup** field for the selected format.</span></span>

## <a name="generate-fti-forms"></a><span data-ttu-id="e2aa3-147">Gerar formulários de FTI</span><span class="sxs-lookup"><span data-stu-id="e2aa3-147">Generate FTI forms</span></span>
<span data-ttu-id="e2aa3-148">Os formulários de FTI são gerados na estrutura de ER da mesma forma que os relatórios de SSRS são gerados.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-148">FTI forms are generated in the ER framework in the same way that SSRS reports are generated.</span></span>

<span data-ttu-id="e2aa3-149">Para gerar formulários de FTI, você pode selecionar faturas por intervalo ou por seleção.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-149">To generate FTI forms, you can select invoices either by range or by selection.</span></span> 

![Seleção de fatura](media/FTIbyGER-InvoiceSelection.png)

![Visualização de fatura](media/FTIbyGER-InvoiceExcelPreview.png)

<span data-ttu-id="e2aa3-152">Quando você usa formatos de ER para imprimir formulários de FTI dessa forma, os destinos padrão do arquivo de ER são usados.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-152">When you use ER formats to print FTI forms in this way, the default ER file destinations are used.</span></span> <span data-ttu-id="e2aa3-153">Você não pode alterar o destino.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-153">You can't change the destination.</span></span> <span data-ttu-id="e2aa3-154">Para obter mais informações sobre como configurar os destinos de ER para formatos de ER, consulte [Destinos de relatório eletrônico](electronic-reporting-destinations.md).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-154">For more information about how to configure the ER destinations for ER formats, see [Electronic reporting destinations](electronic-reporting-destinations.md).</span></span>

<span data-ttu-id="e2aa3-155">Você também pode gerar formulários de FTI ao lançar um FTI, ativando **Imprimir fatura** e desativando **Usar os destinos do gerenciamento de impressão**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-155">You can also generate FTI forms when you post an FTI, by turning **Print invoice** on and turning **Use print management destinations** off.</span></span>

> [!NOTE]
> <span data-ttu-id="e2aa3-156">Quando você usa formatos de ER para imprimir formulários de FTI dessa forma, os destinos padrão do arquivo de ER são usados.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-156">When you use ER formats to print FTI forms in this way, the default ER file destinations are used.</span></span> <span data-ttu-id="e2aa3-157">Você pode alterar o destino padrão no tempo de execução se o destino já tiver sido configurado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-157">You can change the default destination at runtime if the destination has already been configured.</span></span> <span data-ttu-id="e2aa3-158">Para alterar o destino, você deve ter o seguinte privilégio de segurança:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-158">To change the destination, you must have the following security privilege:</span></span>
>
> - <span data-ttu-id="e2aa3-159">**Nome:** ERFormatDestinationRuntimeMaintain</span><span class="sxs-lookup"><span data-stu-id="e2aa3-159">**Name:** ERFormatDestinationRuntimeMaintain</span></span>
> - <span data-ttu-id="e2aa3-160">**Rótulo:** manter destino de formato de relatório eletrônico durante o tempo de execução</span><span class="sxs-lookup"><span data-stu-id="e2aa3-160">**Label:** Maintain electronic reporting format destination during runtime</span></span>

![Destino de relatório eletrônico](media/FTIbyGER-ERFileDestinationSetting.png)

![Destino em formato de relatório eletrônico](media/FTIbyGER-ERFileDestinationUsage.png)

<span data-ttu-id="e2aa3-163">A estrutura de ER é compatível com os seguintes destinos para documentos gerados:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-163">The ER framework currently supports the following destinations for generated documents:</span></span>

- <span data-ttu-id="e2aa3-164">**Arquivo baixado** – Os formulários gerados são oferecidos como downloads que você pode salvar usando o navegador.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-164">**Downloaded file** – Generated forms are offered as downloads that you can save by using the browser.</span></span>
- <span data-ttu-id="e2aa3-165">**Tela** – o Microsoft Office 365 é usado para visualizar os formulários de FTI gerados no formato do Excel.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-165">**Screen** – Microsoft Office 365 Excel is used to preview generated FTI forms in Excel format.</span></span>
- <span data-ttu-id="e2aa3-166">Pasta do **SharePoint** – os formulários gerados são armazenados com base nas configurações da estrutura de gerenciamento de documentos.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-166">**SharePoint folder** – Generated forms are stored based on the settings of the Document management framework.</span></span>
- <span data-ttu-id="e2aa3-167">**Arquivo do aplicativo** – os formulários gerados são armazenados como anexos de registros de log de execução no Armazenamento do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-167">**Application archive** – Generated forms are stored as attachments of execution log records in the Microsoft Azure Storage.</span></span>
- <span data-ttu-id="e2aa3-168">**Email** – Os formulários gerados são enviados como anexos de email.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-168">**Email** – Generated forms are sent as email attachments.</span></span>

> [!NOTE]
> <span data-ttu-id="e2aa3-169">Você não pode enviar os formulários de FTI gerados diretamente para a impressora, porque atualmente não há suporte para a impressão direta que usa o Dynamics Printer Routing Agent.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-169">You can't send the FTI forms that are generated directly to the printer, because direct printing that uses the Dynamics Printer Routing Agent isn't currently supported.</span></span>

## <a name="download-sample-er-configurations-to-generate-printable-fti-forms"></a><span data-ttu-id="e2aa3-170">Baixar exemplo de configurações de ER para gerar formulários de FTI imprimíveis</span><span class="sxs-lookup"><span data-stu-id="e2aa3-170">Download sample ER configurations to generate printable FTI forms</span></span>
<span data-ttu-id="e2aa3-171">Você pode baixar exemplos de configurações de ER para usar como um modelo para sua solução de FTI.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-171">You can download sample ER configurations to use as a template for your FTI solution.</span></span> <span data-ttu-id="e2aa3-172">As configurações são armazenadas na biblioteca de ativos compartilhados do Microsoft Dynamics Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-172">The configurations are stored in the Shared asset library in Microsoft Dynamics Lifecycle Services (LCS).</span></span> <span data-ttu-id="e2aa3-173">As configurações incluem:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-173">The configurations include:</span></span>

- <span data-ttu-id="e2aa3-174">A configuração **Modelo de faturamento do cliente** contém o mapeamento exigido do modelo de dados e do modelo.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-174">The **Customer invoicing model** configuration contains the required data model and model mapping.</span></span>
- <span data-ttu-id="e2aa3-175">A configuração **Relatório de FTI do cliente (GER)** contém o formato de exemplo.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-175">The **Customer FTI report (GER)** configuration contains the sample format.</span></span>

> [!NOTE]
> <span data-ttu-id="e2aa3-176">Essas configurações foram criadas como exemplos para ajudar a esclarecer possíveis cenários.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-176">These configurations have been created as samples to help clarify possible scenarios.</span></span> <span data-ttu-id="e2aa3-177">O futuro dessas configurações depende dos resultados dessa avaliação e de qualquer feedback recebido.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-177">The future of these configurations depends on the results of this evaluation and any feedback that is received.</span></span>

### <a name="features-that-are-implemented-in-the-sample-er-format"></a><span data-ttu-id="e2aa3-178">Recursos implementados no exemplo de formato de ER</span><span class="sxs-lookup"><span data-stu-id="e2aa3-178">Features that are implemented in the sample ER format</span></span>
<span data-ttu-id="e2aa3-179">Na configuração do exemplo de formato de ER, um arquivo do Excel é usado como modelo para gerar formulários de FTI.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-179">In the sample ER format configuration, an Excel file is used as a template to generate FTI forms.</span></span>

![Designer de formato](media/FTIbyGER-ERFormat.png)

<span data-ttu-id="e2aa3-181">Atualmente, esse exemplo de formato de ER é compatível com os seguintes recursos para gerar formulários de FTI:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-181">Currently, this sample ER format supports the following features to generate FTI forms:</span></span>

- <span data-ttu-id="e2aa3-182">Os formulários de FTI são gerados para as faturas originais lançadas e para as faturas originais ainda não publicadas.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-182">FTI forms are generated for both original invoices that have been posted and original invoices that haven't yet been posted.</span></span> <span data-ttu-id="e2aa3-183">Não há suporte para faturas corrigidas e notas de crédito.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-183">Corrected invoices and credit notes aren't supported.</span></span>
- <span data-ttu-id="e2aa3-184">Os formulários de FTI são gerados no idioma da fatura.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-184">FTI forms are generated in the invoice language.</span></span> <span data-ttu-id="e2aa3-185">O formato dos valores e datas nos formulários gerados é baseado nas configurações da localidade do cliente do usuário.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-185">The format of values and dates in the generated forms is based on the settings of the user's client locale.</span></span>
- <span data-ttu-id="e2aa3-186">As faturas geradas mostrarão notificações de indisponibilidade de dados se não houver linhas nas faturas processadas.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-186">Generated invoices show data unavailability notifications if there are no lines in the invoices that are processed.</span></span>
- <span data-ttu-id="e2aa3-187">Os cabeçalhos de faturas geradas são baseados no formato do papel que foi selecionado para o formulário de FTI na página **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-187">Generated invoice headers are based on the paper format that has been selected for the FTI form on the **Accounts receivable parameters** page.</span></span> <span data-ttu-id="e2aa3-188">Os detalhes da empresa aparecem no cabeçalho do formulário de faturas geradas somente se o formato do papel estiver em branco.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-188">Company details appear in the header of the generated invoice form only if the paper format is blank.</span></span>
- <span data-ttu-id="e2aa3-189">Os formulários de faturas geradas mostraram números de isenção de impostos da empresa e do cliente quando a opção apropriada foi selecionada para o formulário de FTI na página **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-189">Generated invoice forms show company and customer tax exempt numbers when the appropriate option has been selected for the FTI form on the **Accounts receivable parameters** page.</span></span>
- <span data-ttu-id="e2aa3-190">As seções de linhas de faturas geradas e totais de fatura mostram os detalhes monetários da fatura padrão na moeda de registro da fatura.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-190">The generated invoice lines and invoice totals sections show the default invoice's monetary details in the invoice registration currency.</span></span>
- <span data-ttu-id="e2aa3-191">A seção de totais de faturas geradas pode mostrar detalhes monetários na moeda euro e na moeda de registro da fatura quando a opção **Imprimir o valor na moeda representando o euro** estiver habilitada na página **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-191">The generated invoice totals section can show monetary details in the euro currency and the invoice registration currency when the **Print amount in currency representing the euro** option is enabled on the **Accounts receivable parameters** page.</span></span>
- <span data-ttu-id="e2aa3-192">Os formulários de faturas geradas mostram as notas de fatura de processo disponíveis, com base nas configurações na página **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-192">Generated invoice forms show any process invoice notes that are available, based on settings on the **Accounts receivable parameters** page.</span></span> <span data-ttu-id="e2aa3-193">As notas são incluídas para a fatura inteira e para cada linha da fatura.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-193">Notes are included for both the whole invoice and each invoice line.</span></span>
- <span data-ttu-id="e2aa3-194">Os formulários de faturas geradas incluem notas para o formulário de FTI do cliente e o idioma da fatura de processamento quando foram configurados na lista de notas do formulário de AR.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-194">Generated invoice forms include notes for the customer FTI form and the processing invoice language when they have been configured in the AR form notes list.</span></span>
- <span data-ttu-id="e2aa3-195">Dependendo das configurações de gerenciamento de impressão, as faturas geradas incluem texto de rodapé personalizado quando foi configurado para o idioma da fatura, o formato de ER e o escopo do documento de FTI.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-195">Depending on the Print management settings, generated invoices include custom footer text when it has been configured for the invoice language, the ER format, and the FTI document scope.</span></span>
- <span data-ttu-id="e2aa3-196">A seção de totais de formulários de faturas geradas inclui todas as informações sobre desconto à vista disponíveis.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-196">The totals section of generated invoice forms includes any cash discount information that is available.</span></span>
- <span data-ttu-id="e2aa3-197">A seção de agenda de pagamento dos formulários de faturas geradas inclui todos os detalhes sobre agenda de pagamento disponíveis.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-197">The payment schedule section of generated invoice forms includes any payment schedule details that are available.</span></span>
- <span data-ttu-id="e2aa3-198">A seção de marcação dos formulários de faturas geradas inclui todas as transações de encargos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-198">The markup section of generated invoice forms includes any charges transactions that are available.</span></span>
- <span data-ttu-id="e2aa3-199">Os formulários de faturas geradas incluem detalhes sobre impostos, com base na configuração **Especificação de imposto** na página **Parâmetros de contas a receber**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-199">Generated invoice forms include sales tax details, based on the **Sales tax specification** setting on the **Accounts receivable parameters** page.</span></span> <span data-ttu-id="e2aa3-200">Esta seção pode mostrar detalhes sobre impostos apenas na moeda de registro da fatura ou na moeda de registro da fatura e na moeda contábil da empresa ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-200">This section can show tax details either in the invoice registration currency only, or in the invoice registration currency and the company accounting currency at the same time.</span></span>
- <span data-ttu-id="e2aa3-201">Os formulários de faturas geradas mostram detalhes da notificação de débito direto.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-201">Generated invoice forms show direct debit notification details.</span></span> <span data-ttu-id="e2aa3-202">Por exemplo, mostram quando o método de pagamento com a ID da carta de ordem de débito direto foi selecionado para a fatura, quando a fatura de processamento foi registrada na moeda euro e quando a ID da carta de ordem de débito direto foi definida para a fatura.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-202">For example, they show when the method of payment that has the mandatory direct debit mandate ID was selected for the invoice, when the processing invoice was registered in the euro currency, and when the direct debit mandate ID was defined for the invoice.</span></span>
- <span data-ttu-id="e2aa3-203">As faturas geradas mostram todos os detalhes sobre pagamento antecipado disponíveis para faturas lançadas.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-203">Generated invoices show any prepayment details that are available for posted invoices.</span></span>
- <span data-ttu-id="e2aa3-204">Formulários de faturas geradas podem ser enviados a um cliente de fatura como anexo de email.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-204">Generated invoice forms can be sent to an invoice customer as an email attachment.</span></span> <span data-ttu-id="e2aa3-205">O destino adequado do arquivo de ER deve ser configurado para o formato de ER sendo usado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-205">The appropriate ER file destination should be configured for the ER format that is being used.</span></span>

### <a name="countryregion-specific-features"></a><span data-ttu-id="e2aa3-206">Recursos específicos do país/região</span><span class="sxs-lookup"><span data-stu-id="e2aa3-206">Country/region-specific features</span></span> 
<span data-ttu-id="e2aa3-207">Os seguintes recursos específicos do país/região estão incluídos no exemplo de formato de ER para mostrar como requisitos específicos podem ser tratados nas configurações de ER.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-207">The following country/region-specific features are included in the sample ER format to show how specific requirements can be handled in ER configurations.</span></span>

#### <a name="norway"></a><span data-ttu-id="e2aa3-208">Noruega</span><span class="sxs-lookup"><span data-stu-id="e2aa3-208">Norway</span></span>
<span data-ttu-id="e2aa3-209">O termo Registro da empresa é colocado no cabeçalho do formulário de faturas geradas quando a fatura é processada para uma entidade legal configurada da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-209">The Enterprise register term is put on the header of the generated invoice form when the invoice is processed for a legal entity that is configured in the following manner:</span></span>

- <span data-ttu-id="e2aa3-210">O contexto do país/região da Noruega é usado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-210">The country/region context for Norway is used.</span></span>
- <span data-ttu-id="e2aa3-211">O parâmetro **Imprimir Foretaksregisteret** está ativo em documentos de vendas.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-211">The **Print Foretaksregisteret** parameter is active on sales documents.</span></span>

#### <a name="spain"></a><span data-ttu-id="e2aa3-212">Espanha</span><span class="sxs-lookup"><span data-stu-id="e2aa3-212">Spain</span></span>
<span data-ttu-id="e2aa3-213">O termo **Regime especial para método contábil de caixa** é colocado no cabeçalho do formulário de faturas geradas quando a fatura é processada para uma entidade legal configurada da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-213">The **Special regime for cash accounting method** term is put on the header of the generated invoice form when the invoice is processed for a legal entity that is configured in the following manner:</span></span>

- <span data-ttu-id="e2aa3-214">O contexto do país/região da Espanha é usado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-214">The country/region context for Spain is used.</span></span>
- <span data-ttu-id="e2aa3-215">O regime especial para o método de contabilidade de pagamento à vista é ativado na data de processamento da fatura.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-215">The special regime for the cash accounting method is enabled on the invoice processing date.</span></span>

<span data-ttu-id="e2aa3-216">Quando detalhes de desconto à vista, como o valor do desconto à vista e o valor líquido da linha da fatura, estiverem disponíveis, serão apresentados na seção de totais da fatura do formulário de faturas geradas no momento em que este tiver sido processado para uma entidade legal configurada da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-216">When cash discount details, such as the cash discount amount and invoice line net amount, are available, they are presented in the invoice totals section of the generated invoice form when it has been processed for a legal entity that is configured in the following manner:</span></span>

- <span data-ttu-id="e2aa3-217">O contexto do país/região da Espanha é usado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-217">The country/region context for Spain is used.</span></span>
- <span data-ttu-id="e2aa3-218">**O desconto à vista é aplicado na fatura** é ativado na opção de fatura (**Parâmetros da contabilidade** \> **Seção de imposto**).</span><span class="sxs-lookup"><span data-stu-id="e2aa3-218">**Cash discount is applied in the invoice** is turned on in the invoice option (**General ledger parameters** \> **Sales tax section**).</span></span>

#### <a name="italy"></a><span data-ttu-id="e2aa3-219">Itália</span><span class="sxs-lookup"><span data-stu-id="e2aa3-219">Italy</span></span>
<span data-ttu-id="e2aa3-220">A marca de descontos sobre mercadorias é incluída nas linhas de fatura da fatura gerada quando está sendo processada para uma entidade legal configurada usando o contexto do país/região da Itália.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-220">The goods discount mark is included on the invoice lines of the generated invoice when it's being processed for a legal entity that is configured using the country/region context for Italy.</span></span>

#### <a name="finland"></a><span data-ttu-id="e2aa3-221">Finlândia</span><span class="sxs-lookup"><span data-stu-id="e2aa3-221">Finland</span></span>
<span data-ttu-id="e2aa3-222">Além do formulário de faturas geradas, guias de transferência de dinheiro por débito direto podem ser criadas da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-222">In addition to the generated invoice form, Giro money transfer slips can be generated as follows:</span></span>

- <span data-ttu-id="e2aa3-223">Para a entidade legal que usa o contexto do país/região da Finlândia e que tem pelo menos uma conta bancária marcada como **Conta de débito direto** e **Código de barras do banco**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-223">For the legal entity that uses the country/region context for Finland, and that has at least one bank account that is marked as **Giro account** and **Bank bar code**.</span></span> 
- <span data-ttu-id="e2aa3-224">Para uma fatura marcada como necessária para o anexo do pagamento associado **Finlandês**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-224">For an invoice that is marked as required for the **Finnish** associated payment attachment.</span></span>

![Guia de débito direto](media/FTIbyGER-GiroSlip.PNG)

> [!NOTE]
> <span data-ttu-id="e2aa3-226">O exemplo de formato de ER foi configurado para gerar opcionalmente os comprovantes de transferência de dinheiro por débito direto na planilha separada.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-226">The sample ER format has been configured to optionally generate the Giro money transfer slips in the separate worksheet.</span></span>

> [!NOTE]
> <span data-ttu-id="e2aa3-227">Primeiro, você deve instalar a fonte usada para gerar o código de barras na máquina local, no qual o formulário de faturas geradas no formato Excel será visualizado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-227">You must first install the font that is used to generate the bar code on the local machine where the generated invoice form in Excel format will be previewed.</span></span>

### <a name="use-the-sample-er-format-to-configure-email-destinations"></a><span data-ttu-id="e2aa3-228">Usar o exemplo de formato de ER para configurar destinos de email</span><span class="sxs-lookup"><span data-stu-id="e2aa3-228">Use the sample ER format to configure email destinations</span></span>
<span data-ttu-id="e2aa3-229">Use os seguintes elementos do exemplo de formato de ER para configurar destinos de email:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-229">Use the following elements of the sample ER format to configure email destinations:</span></span>

- <span data-ttu-id="e2aa3-230">O endereço de email de um contato do cliente pode ser acessado por meio da seguinte expressão de ER: **model.InvoiceBase.Contact.ElectronicMail**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-230">The email address of a customer contact can be accessed through the following ER expression: **model.InvoiceBase.Contact.ElectronicMail**.</span></span>
- <span data-ttu-id="e2aa3-231">O texto do assunto do email pode ser acessado por meio da seguinte expressão de ER: **Emailing.TxtToUse.Subject**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-231">The email subject text can be accessed through the following ER expression: **Emailing.TxtToUse.Subject**.</span></span>
- <span data-ttu-id="e2aa3-232">O texto do corpo do email pode ser acessado por meio da seguinte expressão de ER: **Emailing.TxtToUse.Body**.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-232">The email body text can be accessed through the following ER expression: **Emailing.TxtToUse.Body**.</span></span>

![Configurações de destino](media/FTIbyGER-ERFileDestinationSettingEmail.png)

<span data-ttu-id="e2aa3-234">O texto padrão do assunto e do corpo do email é definido no exemplo de formato de ER.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-234">The default text of the email's subject and body is defined in the sample ER format.</span></span> <span data-ttu-id="e2aa3-235">O idioma dependerá dos rótulos do formato.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-235">The language depends on the format's labels.</span></span> <span data-ttu-id="e2aa3-236">Esse texto padrão será usado para emails se um modelo de email da organização personalizado com a ID **ERFTITMP** tiver sido adicionado.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-236">This default text will be used for emails if a custom organization email template that has the predefined **ERFTITMP** ID hasn't been added.</span></span>

> [!NOTE]
> <span data-ttu-id="e2aa3-237">A ID de modelo de email **ERFTITMP** foi definida no exemplo de formato de ER.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-237">The **ERFTITMP** email template ID has been defined in the sample ER format.</span></span> <span data-ttu-id="e2aa3-238">Pode ser alterada conforme necessário em um novo formato de ER criado a partir desse exemplo de formato.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-238">It can be changed as required in a new ER format that is created from this sample format.</span></span>

<span data-ttu-id="e2aa3-239">Se o modelo de email da organização com a ID **ERFTITMP** tiver sido adicionado para a entidade legal em relação à qual você está processando a fatura, o modelo do texto de assunto e corpo do email será usado para gerar o email.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-239">If the organization email template that has the predefined **ERFTITMP** ID has been added for the legal entity that you're processing the invoice for, the template for the email subject and body text will be used to generate the email.</span></span> 

![Modelos de email da organização](media/FTIbyGER-EmailTemplate.png)

![Carregar modelo de email](media/FTIbyGER-EmailTemplateBody.png)

<span data-ttu-id="e2aa3-242">A expressão de ER **Emailing.TxtToUse.Subject** do exemplo de formato de ER está configurada para substituir qualquer ocorrência do espaço reservado %1 pela ID da fatura de processamento.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-242">The **Emailing.TxtToUse.Subject** ER expression of the sample ER format is configured to replace any occurrences of the placeholder %1 by the processing invoice ID.</span></span>

<span data-ttu-id="e2aa3-243">A expressão **Emailing.TxtToUse.Body** do exemplo do formato está configurada para as seguintes substituições de espaços reservados:</span><span class="sxs-lookup"><span data-stu-id="e2aa3-243">The **Emailing.TxtToUse.Body** expression of the sample format is configured for the following substitutions for placeholders:</span></span>

- <span data-ttu-id="e2aa3-244">"%1" é substituído pelo nome da pessoa de contato do cliente.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-244">"%1" is replaced with the name of the customer's contact person.</span></span>
- <span data-ttu-id="e2aa3-245">"%2" é substituído pelo nome da empresa.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-245">"%2" is replaced with the company name.</span></span>
- <span data-ttu-id="e2aa3-246">"%3" é substituído pelo nome do cliente.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-246">"%3" is replaced with the customer name.</span></span>
- <span data-ttu-id="e2aa3-247">"%4" é substituído pelo nome da pessoa de contato da empresa.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-247">"%4" is replaced with the name of the company's contact person.</span></span>
- <span data-ttu-id="e2aa3-248">"%5" é substituído pelo cargo da pessoa de contato da empresa.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-248">"%5" is replaced with the job title of the company's contact person.</span></span>
- <span data-ttu-id="e2aa3-249">"%6" é substituído pelo endereço de email da pessoa de contato da empresa.</span><span class="sxs-lookup"><span data-stu-id="e2aa3-249">"%6" is replaced with the email address of the company's contact person.</span></span>

![Email](media/FTIbyGER-Email.PNG)

## <a name="additional-resources"></a><span data-ttu-id="e2aa3-251">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="e2aa3-251">Additional resources</span></span>
[<span data-ttu-id="e2aa3-252">Visão geral de Relatório eletrônico</span><span class="sxs-lookup"><span data-stu-id="e2aa3-252">Electronic reporting overview</span></span>](general-electronic-reporting.md)
