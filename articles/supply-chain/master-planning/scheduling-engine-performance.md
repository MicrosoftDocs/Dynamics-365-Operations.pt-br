---
title: Melhorar o desempenho do mecanismo de agendamento
description: Este tópico fornece informações sobre o mecanismo de agendamento e sobre como melhorar o desempenho.
author: ChristianRytt
manager: tfehr
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: kamaybac
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: 1c1b940754021956998fe27ba16020d4b16aedf1
ms.sourcegitcommit: 092ef6a45f515b38be2a4481abdbe7518a636f85
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/16/2020
ms.locfileid: "4422496"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="e61ce-103">Melhorar o desempenho do mecanismo de agendamento</span><span class="sxs-lookup"><span data-stu-id="e61ce-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="e61ce-104">O mecanismo de agendamento de recursos é usado ao agendar roteiros para ordens de produção planejadas e liberadas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="e61ce-105">O mecanismo foi lançado originalmente como parte do Dynamics AX 2012 e passou por várias melhorias desde seu lançamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="e61ce-106">O [problema no agendamento de trabalhos](https://en.wikipedia.org/wiki/Job_shop_scheduling) é um problema extremamente complexo no qual o tempo da solução aumenta exponencialmente com o número de variáveis de decisão.</span><span class="sxs-lookup"><span data-stu-id="e61ce-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="e61ce-107">Muitas vezes, os clientes configuram roteiros de produção e dados relacionados de forma que resulta em um problema de agendamento que não pode ser resolvido em um tempo razoável, mesmo no hardware mais moderno.</span><span class="sxs-lookup"><span data-stu-id="e61ce-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="e61ce-108">Este tópico o ajudará a compreender o mecanismo de agendamento e a forma como uma configuração específica pode ter influência sobre o desempenho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="e61ce-109">Quando se trata de melhorar o desempenho do agendamento, as orientações gerais recomendam reduzir a complexidade do problema que o mecanismo precisa solucionar.</span><span class="sxs-lookup"><span data-stu-id="e61ce-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="e61ce-110">Alguns dos principais fatores que podem afetar o desempenho incluem:</span><span class="sxs-lookup"><span data-stu-id="e61ce-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="e61ce-111">Roteiros com muitas operações</span><span class="sxs-lookup"><span data-stu-id="e61ce-111">Routes with many operations</span></span>
- <span data-ttu-id="e61ce-112">Roteiros com operações paralelas</span><span class="sxs-lookup"><span data-stu-id="e61ce-112">Routes with parallel operations</span></span>
- <span data-ttu-id="e61ce-113">Operações com quantidade de recursos maior que um</span><span class="sxs-lookup"><span data-stu-id="e61ce-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="e61ce-114">Operações com vários recursos aplicáveis</span><span class="sxs-lookup"><span data-stu-id="e61ce-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="e61ce-115">Uso de links rígidos</span><span class="sxs-lookup"><span data-stu-id="e61ce-115">Use of hard links</span></span>
- <span data-ttu-id="e61ce-116">Uso de capacidade finita</span><span class="sxs-lookup"><span data-stu-id="e61ce-116">Use of finite capacity</span></span>
- <span data-ttu-id="e61ce-117">O número de diferentes calendários usados</span><span class="sxs-lookup"><span data-stu-id="e61ce-117">The number of different calendars used</span></span>
- <span data-ttu-id="e61ce-118">O número de slots de horário de trabalho por dia no calendário</span><span class="sxs-lookup"><span data-stu-id="e61ce-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="e61ce-119">Duração total do roteiro</span><span class="sxs-lookup"><span data-stu-id="e61ce-119">Total duration of the route</span></span>
- <span data-ttu-id="e61ce-120">Executar vários mecanismos de agendamento em paralelo</span><span class="sxs-lookup"><span data-stu-id="e61ce-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="e61ce-121">Visão geral do fluxo de agendamento básico</span><span class="sxs-lookup"><span data-stu-id="e61ce-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="e61ce-122">Para entender como uma determinada configuração pode afetar o desempenho, é importante compreender um pouco sobre como o processo flui, tanto dentro do mecanismo quanto no código X++ que o envolve.</span><span class="sxs-lookup"><span data-stu-id="e61ce-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="e61ce-123">O processo básico de agendamento de uma ordem consiste em três etapas principais:</span><span class="sxs-lookup"><span data-stu-id="e61ce-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="e61ce-124">**Carregando dados** – Aqui, os modelos de dados X++ são transformados no modelo de dados interno do mecanismo na forma de trabalhos e restrições.</span><span class="sxs-lookup"><span data-stu-id="e61ce-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="e61ce-125">**Agendamento** – Esta é a principal origem de agendamento que processa o modelo e as restrições específicas e gera um resultado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="e61ce-126">Durante esse processo, o mecanismo solicita as informações de horários de trabalho e as reservas de capacidade existentes do X++ conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="e61ce-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="e61ce-127">**Salvar dados** – O resultado do mecanismo na forma de slots de reserva de capacidade de trabalho é processado pelo código X++ para economizar reservas de capacidade e atualizar as horas de início e de término de trabalhos/operação/ordem.</span><span class="sxs-lookup"><span data-stu-id="e61ce-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="e61ce-128">Carregar dados no mecanismo</span><span class="sxs-lookup"><span data-stu-id="e61ce-128">Load data into the engine</span></span>

<span data-ttu-id="e61ce-129">O mecanismo de agendamento tem um modelo de dados mais abstrato do que o banco de dados do Supply Chain Management porque foi criado como um mecanismo genérico que pode lidar com diferentes fontes de dados.</span><span class="sxs-lookup"><span data-stu-id="e61ce-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="e61ce-130">Os conceitos de roteiro, operações secundárias e tempo de execução precisam ser "traduzidos" para o modelo de trabalho e de restrição genérico que o mecanismo expõe.</span><span class="sxs-lookup"><span data-stu-id="e61ce-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="e61ce-131">A lógica para a criação do modelo tem uma quantidade significativa de lógica comercial e é diferente dependendo dos dados de origem.</span><span class="sxs-lookup"><span data-stu-id="e61ce-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="e61ce-132">A classe X++ responsável é `WrkCtrScheduler` e tem classes derivadas para ordens de produção planejadas, ordens de produção liberadas e previsões de projeto.</span><span class="sxs-lookup"><span data-stu-id="e61ce-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="e61ce-133">Como exemplo, considere um roteiro mostrado na tabela e imagem a seguir, que parece relativamente simples.</span><span class="sxs-lookup"><span data-stu-id="e61ce-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="e61ce-134">Oper.</span><span class="sxs-lookup"><span data-stu-id="e61ce-134">Oper.</span></span> <span data-ttu-id="e61ce-135">Nº</span><span class="sxs-lookup"><span data-stu-id="e61ce-135">No.</span></span> | <span data-ttu-id="e61ce-136">Prioridade</span><span class="sxs-lookup"><span data-stu-id="e61ce-136">Priority</span></span> | <span data-ttu-id="e61ce-137">Tempo de preparação</span><span class="sxs-lookup"><span data-stu-id="e61ce-137">Setup time</span></span> | <span data-ttu-id="e61ce-138">Tempo de execução</span><span class="sxs-lookup"><span data-stu-id="e61ce-138">Run time</span></span> | <span data-ttu-id="e61ce-139">Tempo de espera posterior</span><span class="sxs-lookup"><span data-stu-id="e61ce-139">Queue time after</span></span> | <span data-ttu-id="e61ce-140">Quantidade de recursos</span><span class="sxs-lookup"><span data-stu-id="e61ce-140">Quantity of resources</span></span> | <span data-ttu-id="e61ce-141">Avançar</span><span class="sxs-lookup"><span data-stu-id="e61ce-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="e61ce-142">10</span><span class="sxs-lookup"><span data-stu-id="e61ce-142">10</span></span> | <span data-ttu-id="e61ce-143">Principal</span><span class="sxs-lookup"><span data-stu-id="e61ce-143">Primary</span></span> | <span data-ttu-id="e61ce-144">1.00</span><span class="sxs-lookup"><span data-stu-id="e61ce-144">1.00</span></span> | <span data-ttu-id="e61ce-145">2.00</span><span class="sxs-lookup"><span data-stu-id="e61ce-145">2.00</span></span> | | <span data-ttu-id="e61ce-146">1</span><span class="sxs-lookup"><span data-stu-id="e61ce-146">1</span></span> | <span data-ttu-id="e61ce-147">20</span><span class="sxs-lookup"><span data-stu-id="e61ce-147">20</span></span> |
| <span data-ttu-id="e61ce-148">10</span><span class="sxs-lookup"><span data-stu-id="e61ce-148">10</span></span> | <span data-ttu-id="e61ce-149">Secundário&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="e61ce-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="e61ce-150">1</span><span class="sxs-lookup"><span data-stu-id="e61ce-150">1</span></span> | <span data-ttu-id="e61ce-151">20</span><span class="sxs-lookup"><span data-stu-id="e61ce-151">20</span></span> |
| <span data-ttu-id="e61ce-152">20</span><span class="sxs-lookup"><span data-stu-id="e61ce-152">20</span></span> | <span data-ttu-id="e61ce-153">Principal</span><span class="sxs-lookup"><span data-stu-id="e61ce-153">Primary</span></span> | | <span data-ttu-id="e61ce-154">3.00</span><span class="sxs-lookup"><span data-stu-id="e61ce-154">3.00</span></span> | <span data-ttu-id="e61ce-155">1.00</span><span class="sxs-lookup"><span data-stu-id="e61ce-155">1.00</span></span> | <span data-ttu-id="e61ce-156">3</span><span class="sxs-lookup"><span data-stu-id="e61ce-156">3</span></span> | <span data-ttu-id="e61ce-157">0</span><span class="sxs-lookup"><span data-stu-id="e61ce-157">0</span></span> |

<span data-ttu-id="e61ce-158">![Exemplo de diagrama de roteiros](media/scheduling-engine-route.png "Exemplo de diagrama de roteiros")</span><span class="sxs-lookup"><span data-stu-id="e61ce-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="e61ce-159">Ao enviá-lo para o mecanismo, ele é dividido em oito trabalhos, conforme mostrado na ilustração a seguir (selecione a imagem para ampliá-la).</span><span class="sxs-lookup"><span data-stu-id="e61ce-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="e61ce-160">[![Trabalhos do mecanismo de agendamento](media/scheduling-engine-jobs.png "Trabalhos do mecanismo de agendamento")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="e61ce-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="e61ce-161">O link padrão entre dois trabalhos é `FinishStart`, o que significa que a hora de término de um trabalho deve ser anterior à hora de início de outro trabalho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="e61ce-162">Como a configuração deve ser executada pelo mesmo recurso que posteriormente fará o processo, há restrições `OnSameResource` entre eles.</span><span class="sxs-lookup"><span data-stu-id="e61ce-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="e61ce-163">Entre os trabalhos da operação principal e secundária para 10, há links `StartStart` e `FinishFinish`, o que significa que os trabalhos devem ser iniciados e concluídos na mesma hora, e há restrições `NotOnSameResource`, o que impedirá que o mesmo recurso seja principal e secundário.</span><span class="sxs-lookup"><span data-stu-id="e61ce-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="e61ce-164">Para a operação 20, na qual a quantidade de recursos foi definida como 3, o trabalho de processo foi dividido em três trabalhos distintos, nos quais todos os trabalhos devem ser executados na mesma hora.</span><span class="sxs-lookup"><span data-stu-id="e61ce-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="e61ce-165">Nesse caso, o grupo de roteiros foi configurado para não reservar capacidade para fila depois das horas, que é o motivo pelo qual há apenas um único trabalho para a fila depois.</span><span class="sxs-lookup"><span data-stu-id="e61ce-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="e61ce-166">O mecanismo de agendamento só entende os conceitos de trabalho e não tem noção de operações.</span><span class="sxs-lookup"><span data-stu-id="e61ce-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="e61ce-167">Isso significa que, ao executar o agendamento de operações, as operações também são divididas em trabalhos, embora não sejam persistentes no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e61ce-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="e61ce-168">Para cada trabalho, também definiremos o que é o requisito de capacidade do trabalho (o número de segundos necessário).</span><span class="sxs-lookup"><span data-stu-id="e61ce-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="e61ce-169">Dependendo de como os requisitos de recursos foram definidos, para cada trabalho, também podemos enviar uma lista de todos os recursos possíveis aplicáveis em que o trabalho pode ser executado e qual é o requisito de capacidade para esse recurso específico.</span><span class="sxs-lookup"><span data-stu-id="e61ce-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="e61ce-170">Embora a lista de recursos aplicáveis seja enviada durante a criação do modelo, o mecanismo ainda precisará garantir que a atribuição de recursos seja realmente válida por toda a duração do trabalho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="e61ce-171">Componentes internos do mecanismo de agendamento</span><span class="sxs-lookup"><span data-stu-id="e61ce-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="e61ce-172">Interface do mecanismo de agendamento</span><span class="sxs-lookup"><span data-stu-id="e61ce-172">Scheduling engine interface</span></span>

<span data-ttu-id="e61ce-173">Para ter uma ideia de como o mecanismo funciona internamente, é melhor verificar a funcionalidade que ele expõe externamente.</span><span class="sxs-lookup"><span data-stu-id="e61ce-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="e61ce-174">No X ++, a interface principal é `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="e61ce-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="e61ce-175">Ele tem os métodos descritos nas subseções a seguir.</span><span class="sxs-lookup"><span data-stu-id="e61ce-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="e61ce-176">Mecanismo geral</span><span class="sxs-lookup"><span data-stu-id="e61ce-176">General engine</span></span>

| <span data-ttu-id="e61ce-177">**Método**</span><span class="sxs-lookup"><span data-stu-id="e61ce-177">**Method**</span></span> | <span data-ttu-id="e61ce-178">**Finalidade**</span><span class="sxs-lookup"><span data-stu-id="e61ce-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="e61ce-179">Agenda todos os trabalhos carregados e retorna o código de erro.</span><span class="sxs-lookup"><span data-stu-id="e61ce-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="e61ce-180">Obtém o resultado do agendamento e o primeiro trabalho de erro para a sequência identificada por um trabalho específico.</span><span class="sxs-lookup"><span data-stu-id="e61ce-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="e61ce-181">Valida as reservas de capacidade para todos os trabalhos armazenados pelo mecanismo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="e61ce-182">Envia um carimbo de data/hora para o mecanismo definido em todas as novas reservas de capacidade para os trabalhos agendados no cache do mecanismo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="e61ce-183">Adiciona um prefixo de propriedade ao conjunto de propriedades usado quando a capacidade é agregada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="e61ce-184">Adiciona um recurso ao pool de recursos do mecanismo de agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="e61ce-185">Adiciona um grupo de recursos ao grupo de recursos do mecanismo de agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="e61ce-186">Adiciona um recurso como membro a um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="e61ce-187">Adiciona uma meta de otimização de agendamento (duração ou prioridade).</span><span class="sxs-lookup"><span data-stu-id="e61ce-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="e61ce-188">Trabalhos individuais</span><span class="sxs-lookup"><span data-stu-id="e61ce-188">Individual jobs</span></span>

| <span data-ttu-id="e61ce-189">**Método**</span><span class="sxs-lookup"><span data-stu-id="e61ce-189">**Method**</span></span> | <span data-ttu-id="e61ce-190">**Finalidade**</span><span class="sxs-lookup"><span data-stu-id="e61ce-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="e61ce-191">Adiciona um registro de informações do trabalho que informa o mecanismo sobre um trabalho que deve ser agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="e61ce-192">Adiciona uma restrição que um trabalho deve ser concluído em uma data e hora especificadas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="e61ce-193">Adiciona uma restrição de que um trabalho deve ser iniciado em uma data e hora especificadas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="e61ce-194">Define a restrição que um trabalho pode abranger durante um número máximo especificado de dias.</span><span class="sxs-lookup"><span data-stu-id="e61ce-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="e61ce-195">Adiciona a restrição de que o trabalho deve ser agendado em um recurso específico.</span><span class="sxs-lookup"><span data-stu-id="e61ce-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="e61ce-196">Adiciona uma prioridade de associação de trabalho para um par (trabalho, nível de restrição).</span><span class="sxs-lookup"><span data-stu-id="e61ce-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="e61ce-197">Um valor de prioridade mais alto significa que as variáveis de trabalho serão associadas antes.</span><span class="sxs-lookup"><span data-stu-id="e61ce-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="e61ce-198">O trabalho será processado antes dos trabalhos com valor de prioridade menor na mesma sequência.</span><span class="sxs-lookup"><span data-stu-id="e61ce-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="e61ce-199">Adiciona informações de capacidade máxima de um trabalho (como o tempo de execução necessário para o trabalho), não importa em qual recurso o trabalho é executado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="e61ce-200">Adiciona um recurso ao conjunto de recursos que pode ser usado para executar um trabalho e declara a capacidade necessária quando executado no recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="e61ce-201">Adiciona informações de meta de trabalho para um nível de restrição específico (hora de término mais antiga ou hora de início mais recente).</span><span class="sxs-lookup"><span data-stu-id="e61ce-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="e61ce-202">Adiciona a prioridade a ser usada quando um trabalho é agendado em um recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="e61ce-203">Especifica um tempo de trabalho que depende do recurso no qual o trabalho será agendado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="e61ce-204">Especifica um tempo de trabalho que não depende do recurso no qual o trabalho será agendado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="e61ce-205">Marca um trabalho para agendamento no nível de grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="e61ce-206">Define se um resgate é permitido para um trabalho em um recurso (se o mecanismo tiver permissão para agendar o trabalho em slots de capacidade não contínuos).</span><span class="sxs-lookup"><span data-stu-id="e61ce-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="e61ce-207">Define o número de recursos necessários para agendar um trabalho (somente para o agendamento de operações).</span><span class="sxs-lookup"><span data-stu-id="e61ce-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="e61ce-208">Restrições entre trabalhos</span><span class="sxs-lookup"><span data-stu-id="e61ce-208">Constraints between jobs</span></span>

| <span data-ttu-id="e61ce-209">**Método**</span><span class="sxs-lookup"><span data-stu-id="e61ce-209">**Method**</span></span> | <span data-ttu-id="e61ce-210">**Finalidade**</span><span class="sxs-lookup"><span data-stu-id="e61ce-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="e61ce-211">Adiciona um link (como término\>início) entre dois trabalhos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="e61ce-212">Define a restrição de que um trabalho não pode ser concluído antes que outros trabalhos sejam concluídos, além de um tempo de atraso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="e61ce-213">Adiciona uma restrição de que os slots de capacidade reservados para os trabalhos devem estar nos horários trabalho em interseção para os dois recursos usados pelos trabalhos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="e61ce-214">Adicionar uma restrição que define como os trabalhos são sequenciados quando uma determinada quantidade de um item pode ser movida entre dois recursos, enquanto o primeiro recurso ainda não terminou de ser processado, de forma que o segundo recurso possa iniciar o processamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="e61ce-215">Adiciona uma restrição de que dois trabalhos não devem ser agendados no mesmo recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="e61ce-216">Adiciona uma restrição de que dois trabalhos devem usar o mesmo recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="e61ce-217">Adiciona uma restrição de que um trabalho deve ser concluído com reservas de capacidade para os mesmos slots de horário que o trabalho principal.</span><span class="sxs-lookup"><span data-stu-id="e61ce-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="e61ce-218">Adiciona informações sobre o trabalho que é o principal em um conjunto de trabalhos paralelos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="e61ce-219">Agente de resolução</span><span class="sxs-lookup"><span data-stu-id="e61ce-219">Solver</span></span>

<span data-ttu-id="e61ce-220">O próprio mecanismo é basicamente um agente especializado de resolução de restrição com heurística personalizada adicionada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="e61ce-221">O agente de resolução se baseia em dois elementos principais: variáveis e restrições.</span><span class="sxs-lookup"><span data-stu-id="e61ce-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="e61ce-222">Variável</span><span class="sxs-lookup"><span data-stu-id="e61ce-222">Variable</span></span>

<span data-ttu-id="e61ce-223">Uma variável representa um domínio de valores possíveis.</span><span class="sxs-lookup"><span data-stu-id="e61ce-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="e61ce-224">O mecanismo de agendamento tem dois tipos de variáveis:</span><span class="sxs-lookup"><span data-stu-id="e61ce-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="e61ce-225">**Variável DateTime** - Tem um domínio de todas as datas e horas, e o domínio pode ser restringido ao mover o limite inferior e superior para a hora da variável mais próxima.</span><span class="sxs-lookup"><span data-stu-id="e61ce-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="e61ce-226">**Variável Recurso** - Tem um domínio de recursos aplicáveis, e o domínio pode ser restringido ao eliminar recursos da lista.</span><span class="sxs-lookup"><span data-stu-id="e61ce-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="e61ce-227">Restrição</span><span class="sxs-lookup"><span data-stu-id="e61ce-227">Constraint</span></span>

<span data-ttu-id="e61ce-228">Uma restrição atua nas variáveis restringindo seus domínios, mas também depende de variáveis, de forma que ela é ativada quando as variáveis são alteradas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="e61ce-229">O processo de "propagação de restrições" é quando uma restrição executa sua função principal e relata novamente a lógica principal, se for bem-sucedido.</span><span class="sxs-lookup"><span data-stu-id="e61ce-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="e61ce-230">Uma variável é considerada como limitada quando não pode ser restrita ainda mais, o que, para a variável DateTime, significa que o limite superior e inferior é o mesmo e, para a variável Recurso, que ele tem apenas um único recurso aplicável.</span><span class="sxs-lookup"><span data-stu-id="e61ce-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="e61ce-231">Quando todas as variáveis são limites, uma solução é encontrada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="e61ce-232">Níveis de restrição</span><span class="sxs-lookup"><span data-stu-id="e61ce-232">Constraint levels</span></span>

<span data-ttu-id="e61ce-233">Quando o agendamento é executado como parte da fase de cobertura do requisições de materiais (MRP), as ordens serão agendadas para antes da data de requisição.</span><span class="sxs-lookup"><span data-stu-id="e61ce-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="e61ce-234">No entanto, se não for possível encontrar um agendamento que é iniciado hoje ou depois e concluído antes da data da requisição, a direção do agendamento mudará para depois de hoje.</span><span class="sxs-lookup"><span data-stu-id="e61ce-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="e61ce-235">Essa principal regra comercial é tratada organizando as restrições em níveis.</span><span class="sxs-lookup"><span data-stu-id="e61ce-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="e61ce-236">Se nenhuma solução for encontrada ao usar as restrições no nível mais alto, as restrições desse nível serão todas ignoradas, e o nível mais baixo será tentado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="e61ce-237">Na prática, isso significa que, para o agendamento regressivo, o modelo terá um nível 1 com metas de trabalho da hora de início mais recente, considerando a restrição de hora de término máxima (a data da requisição) e um nível 0 com metas de trabalho da hora inicial mais antiga e considerando a restrição de hora de início mínima de hoje.</span><span class="sxs-lookup"><span data-stu-id="e61ce-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="e61ce-238">Algoritmo</span><span class="sxs-lookup"><span data-stu-id="e61ce-238">Algorithm</span></span>

<span data-ttu-id="e61ce-239">As etapas principais do algoritmo do mecanismo são:</span><span class="sxs-lookup"><span data-stu-id="e61ce-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="e61ce-240">Localize sequências (cadeias de trabalhos) que podem ser resolvidas separadamente.</span><span class="sxs-lookup"><span data-stu-id="e61ce-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="e61ce-241">Tentar encontrar uma solução inicial da sequência para o nível mais alto de restrição.</span><span class="sxs-lookup"><span data-stu-id="e61ce-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="e61ce-242">Classifique os trabalhos na sequência com base na meta e nas prioridades do trabalho, de forma que um trabalho inicial possa ser encontrado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="e61ce-243">Execute loops dos trabalhos na seguinte sequência:</span><span class="sxs-lookup"><span data-stu-id="e61ce-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="e61ce-244">Localize todas as restrições que precisam ser propagadas e execute a propagação.</span><span class="sxs-lookup"><span data-stu-id="e61ce-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="e61ce-245">Se todas as variáveis do trabalho foram limitadas, uma solução para esse trabalho foi encontrada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="e61ce-246">Se uma das variáveis não pôde ser limitada sem violar as restrições, reverta a associação de variável, tente um valor diferente no domínio (para a variável de recurso) e execute novamente a propagação da restrição.</span><span class="sxs-lookup"><span data-stu-id="e61ce-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="e61ce-247">Se nenhuma solução foi encontrada, todas as restrições no nível de restrição atual serão removidas, o nível de restrição será diminuído (se houver níveis inferiores disponíveis) e a pesquisa de solução será repetida com o novo conjunto de restrições.</span><span class="sxs-lookup"><span data-stu-id="e61ce-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="e61ce-248">Se uma solução possível foi encontrada, a fase de otimização será iniciada, que tentará encontrar uma solução melhor até que o tempo limite de otimização seja atingido ou que todas as combinações de recursos tenham se esgotado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="e61ce-249">O agente de resolução de restrições não está ciente das especificações do algoritmo de agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="e61ce-250">É na definição e na combinação das várias restrições que a "mágica" acontece.</span><span class="sxs-lookup"><span data-stu-id="e61ce-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="e61ce-251">Determinar horários de trabalho</span><span class="sxs-lookup"><span data-stu-id="e61ce-251">Determining working times</span></span>

<span data-ttu-id="e61ce-252">Uma grande parte das restrições (internas) no mecanismo controla o horário de trabalho e a capacidade de um recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="e61ce-253">Basicamente, a tarefa é percorrer os slots de horário de trabalho para um recurso de um determinado ponto em uma determinada direção e localizar um intervalo longo o suficiente no qual a capacidade necessária de trabalho (tempo) pode ser ajustada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="e61ce-254">Para isso, o mecanismo precisa saber os horários de trabalho de um recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="e61ce-255">Ao contrário dos dados do modelo principal, os horários de trabalho são *carregados lentamente*, o que significa que eles são carregados no mecanismo, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="e61ce-255">Opposite to the main model data, the working times are *lazy loaded*, meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="e61ce-256">O motivo dessa abordagem é que, em geral, há horários de trabalho no Supply Chain Management de um calendário para um período muito longo, e geralmente há muitos calendários, portanto, os dados seriam muito grandes para serem pré-carregados.</span><span class="sxs-lookup"><span data-stu-id="e61ce-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="e61ce-257">As informações do calendário são solicitadas pelo mecanismo em partes, invocando o método da classe X++ `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span><span class="sxs-lookup"><span data-stu-id="e61ce-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="e61ce-258">A solicitação é para uma ID de calendário específica em um intervalo de tempo específico.</span><span class="sxs-lookup"><span data-stu-id="e61ce-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="e61ce-259">Dependendo do estado do cache do servidor no Supply Chain Management, cada uma dessas solicitações pode resultar em várias chamadas de banco de dados, o que leva muito tempo (em relação ao tempo computacional em si).</span><span class="sxs-lookup"><span data-stu-id="e61ce-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="e61ce-260">Além disso, se o calendário contém definições de horário de trabalho muito elaboradas com muitos intervalos de tempo de trabalho por dia, isso aumenta o tempo necessário para o carregamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="e61ce-261">Quando os dados de horário de trabalho são carregados no mecanismo de agendamento, eles são mantidos no seu cache interno para o calendário específico, o que significa que, se algum outro trabalho ou recurso estiver usando o mesmo calendário, as próximas pesquisas poderão ser executadas rapidamente da memória.</span><span class="sxs-lookup"><span data-stu-id="e61ce-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="e61ce-262">Uma causa comum de desempenho incorreto é se uma ID de calendário separada for usada para cada recurso, pois os dados precisarão ser solicitados para cada calendário, mesmo que o conteúdo dos calendários possa ser o mesmo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="e61ce-263">Capacidade finita</span><span class="sxs-lookup"><span data-stu-id="e61ce-263">Finite capacity</span></span>

<span data-ttu-id="e61ce-264">Ao usar a capacidade finita, os slots de horário de trabalho do calendário são divididos e reduzidos com base nas reservas de capacidade existentes.</span><span class="sxs-lookup"><span data-stu-id="e61ce-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="e61ce-265">Essas reservas também são buscadas por meio da mesma classe `WrkCtrSchedulingInteropDataProvider` que os calendários, mas, em vez disso, usam o método `getCapacityReservations`.</span><span class="sxs-lookup"><span data-stu-id="e61ce-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="e61ce-266">Ao agendar durante o planejamento mestre, as reservas para o plano mestre específico são consideradas e, se habilitadas na página **Parâmetros do planejamento mestre**, as reservas das ordens de produção confirmadas também serão incluídas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="e61ce-267">Da mesma forma, ao agendar uma ordem de produção, também é uma opção incluir reservas de ordens planejadas existentes, embora isso não seja tão comum quanto o contrário.</span><span class="sxs-lookup"><span data-stu-id="e61ce-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="e61ce-268">O uso da capacidade finita causará demora no agendamento devido a vários motivos:</span><span class="sxs-lookup"><span data-stu-id="e61ce-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="e61ce-269">A busca de informações sobre capacidade no banco de dados é uma operação lenta, e o cache do servidor de informações sobre capacidade normalmente não é tão bom para horários de trabalho, pois eles não são compartilhados entre os recursos, como calendários normalmente são.</span><span class="sxs-lookup"><span data-stu-id="e61ce-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="e61ce-270">O número de slots de horário de trabalho aumentam devido às divisões, e os slots para um período maior normalmente devem ser investigados antes que uma solução possa ser encontrada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="e61ce-271">Depois que o agendamento for concluído, uma verificação de reservas conflitantes deverá ser realizada (consulte a seção "Executar mecanismos de agendamento em paralelo" para obter detalhes).</span><span class="sxs-lookup"><span data-stu-id="e61ce-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="e61ce-272">Examinar as combinações de recursos</span><span class="sxs-lookup"><span data-stu-id="e61ce-272">Examining the resource combinations</span></span>

<span data-ttu-id="e61ce-273">Se a sequência de trabalhos tiver somente os links `FinishStart` padrão, o que significa que ela forma uma cadeia simples sem ramificações, um resultado ideal (visto da ordem única, não várias ordens) poderá ser alcançado ao encontrar a melhor solução para o primeiro trabalho e avançar para encontrar a melhor solução para o próximo trabalho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="e61ce-274">A melhor solução para um trabalho significa encontrar o recurso que pode obter a data de início e término do trabalho mais próximas da meta do trabalho (no agendamento antecipado, isso significa obter a data de término do trabalho o mais cedo possível), ainda respeitando as restrições.</span><span class="sxs-lookup"><span data-stu-id="e61ce-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="e61ce-275">Quando houver trabalhos paralelos, encontrar uma solução pode envolver a verificação de diferentes combinações de recursos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="e61ce-276">O número de possíveis combinações de recursos é o produto do número de recursos aplicáveis para os trabalhos paralelos conectados.</span><span class="sxs-lookup"><span data-stu-id="e61ce-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="e61ce-277">Principalmente ao agendar uma ordem regressivamente a partir de uma data de requisição, pode demorar muito para a lógica perceber que não há solução para o problema que fará com que os trabalhos paralelos ocorram antes da data de hoje, pois será necessário verificar todas as combinações, já que pode haver alguns recursos que tinham maior eficiência ou um calendário diferente que pode gerar um resultado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="e61ce-278">Isso significa que, se nenhum limite for definido, ele será executado por muito tempo antes de alterar a direção para depois.</span><span class="sxs-lookup"><span data-stu-id="e61ce-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="e61ce-279">Essa lógica de combinação também significa que adicionar mais recursos aplicáveis pode tornar o mecanismo mais lento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="e61ce-280">Se ocorrerem problemas de desempenho durante a execução de operações paralelas e agendamento com capacidade infinita, isso poderá ser corrigido parcialmente, fazendo com que o criador de roteiros decida qual recurso deve ser usado e, em seguida, atribuir o recurso diretamente na operação (porque, na maioria dos casos, o mecanismo sempre acabará selecionando o mesmo recurso e, portanto, o resultado final será o mesmo).</span><span class="sxs-lookup"><span data-stu-id="e61ce-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="e61ce-281">Links rígidos</span><span class="sxs-lookup"><span data-stu-id="e61ce-281">Hard links</span></span>

<span data-ttu-id="e61ce-282">Definir o tipo de link entre dois trabalhos para rígido garante que não haja intervalo de tempo entre o término de um trabalho e o início do próximo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="e61ce-283">Isso pode ser muito útil em cenários como quando o metal é aquecido em um trabalho e, em seguida, processado no próximo, no qual não é desejável que o metal esfrie.</span><span class="sxs-lookup"><span data-stu-id="e61ce-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="e61ce-284">Com links flexíveis e agendamento antecipado padrão, se o roteiro formar uma cadeia simples sem ramificações, um resultado poderá ser alcançado ao encontrar uma solução para o primeiro trabalho que atenda às suas próprias restrições e avançar na cadeia, propagando a hora de término do trabalho anterior, para o próximo trabalho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="e61ce-285">Se o trabalho atual não encontrar nenhuma capacidade, a hora de início dele será atrasada ainda mais, sem consequências para a possível criação de lacunas entre os trabalhos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="e61ce-286">No entanto, com links rígidos (principalmente em conexão com capacidade finita) para o mesmo cenário, o fato de que um trabalho posterior na cadeia não consegue encontrar capacidade significará que todos os trabalhos agendados anteriores precisarão ser "arrastados" um por um e, portanto, reagendados várias vezes.</span><span class="sxs-lookup"><span data-stu-id="e61ce-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="e61ce-287">Principalmente em cenários com alta carga para vários recursos, os links rígidos podem causar uma reação em cadeia, em que os trabalhos afetarão uns aos outros, e várias iterações precisarão ser feitas antes de o resultado se estabilizar em um agendamento viável.</span><span class="sxs-lookup"><span data-stu-id="e61ce-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="e61ce-288">Executar mecanismos de agendamento em paralelo</span><span class="sxs-lookup"><span data-stu-id="e61ce-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="e61ce-289">Ao executar o agendamento como parte de uma execução de planejamento mestre onde são usados auxiliares, cada um dos threads de auxiliares de planejamento mestre também pode selecionar tarefas de agendamento de ordem de produção.</span><span class="sxs-lookup"><span data-stu-id="e61ce-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="e61ce-290">Isso significa que vários mecanismos de agendamento podem ser executados ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="e61ce-291">Embora o multithread em geral seja um benefício de desempenho muito significativo, há também algumas desvantagens funcionais quando se trata de agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="e61ce-292">No MRP, todas as ordens de produção para um determinado nível da lista de materiais (BOM) são agendadas em sequência de datas de requisições, o que significa que as ordens com a data de requisição mais antiga devem ser agendadas primeiro e, assim, têm a maior probabilidade de obter a capacidade disponível do recurso.</span><span class="sxs-lookup"><span data-stu-id="e61ce-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="e61ce-293">No entanto, com vários mecanismos selecionando com base na lista de ordens não agendadas, a sequência não é mais garantida, pois uma pode ser concluída mais rapidamente do que a outra.</span><span class="sxs-lookup"><span data-stu-id="e61ce-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="e61ce-294">Além disso, ao agendar o uso da capacidade finita e quando várias instâncias de mecanismo estão tentando agendar ordens que podem estar usando os mesmos recursos no mesmo intervalo de tempo, pode ocorrer uma condição de concorrência.</span><span class="sxs-lookup"><span data-stu-id="e61ce-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="e61ce-295">O número dessas condições de concorrência é registrado no campo **Conflitos de agendamento** na página de histórico de planos mestre.</span><span class="sxs-lookup"><span data-stu-id="e61ce-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="e61ce-296">A lógica de resolução de conflitos é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="e61ce-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="e61ce-297">Agende uma ordem (sem bloqueio) e obtenha reservas de capacidade.</span><span class="sxs-lookup"><span data-stu-id="e61ce-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="e61ce-298">Faça o bloqueio.</span><span class="sxs-lookup"><span data-stu-id="e61ce-298">Take the lock.</span></span>
- <span data-ttu-id="e61ce-299">Verifique se há reservas de capacidade mais recentes para os recursos agendados no intervalo de tempo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="e61ce-300">Em caso negativo, anote a capacidade e libere o bloqueio.</span><span class="sxs-lookup"><span data-stu-id="e61ce-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="e61ce-301">Em caso afirmativo, libere o bloqueio e agende novamente a ordem desde o início.</span><span class="sxs-lookup"><span data-stu-id="e61ce-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="e61ce-302">Portanto, ao agendar com várias instâncias de mecanismo, o resultado não é totalmente determinístico porque dependerá do tempo exato de cada um dos threads.</span><span class="sxs-lookup"><span data-stu-id="e61ce-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="e61ce-303">Desempenho do agendamento de operações</span><span class="sxs-lookup"><span data-stu-id="e61ce-303">Operation scheduling performance</span></span>

<span data-ttu-id="e61ce-304">Embora o agendamento de operações também seja conhecido como planejamento da capacidade de corte, do ponto de vista de um mecanismo, ele poderá ser um problema mais difícil de ser resolvido se a capacidade finita for usada, pois mais dados serão necessários para determinar a viabilidade.</span><span class="sxs-lookup"><span data-stu-id="e61ce-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="e61ce-305">A capacidade de um grupo de recursos depende de quais e quantos recursos são membros do grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="e61ce-306">Um grupo de recursos em si não tem capacidade alguma; ele só terá capacidade quando os recursos forem membros do grupo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="e61ce-307">Como a associação do grupo de recursos pode variar ao longo do tempo, a capacidade deve ser avaliada por dia.</span><span class="sxs-lookup"><span data-stu-id="e61ce-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="e61ce-308">No agendamento de operações, o calendário do grupo de recursos é usado para determinar as horas de início e término de cada operação.</span><span class="sxs-lookup"><span data-stu-id="e61ce-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="e61ce-309">Isso significa que o calendário do grupo de recursos insere um limite de quanto tempo as operações podem ser agendadas para uma operação em um dia, em um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="e61ce-310">Ao contrário do calendário dos recursos específicos, os dados de eficiência do calendário são ignorados para o grupo de recursos, pois eles simplesmente denotam os horários de abertura, e não a capacidade real.</span><span class="sxs-lookup"><span data-stu-id="e61ce-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="e61ce-311">Por exemplo, se o horário de trabalho de um grupo de recursos em uma data específica for das 8:00 às 16:00, uma operação não poderá colocar mais carga no grupo de recursos do que pode ser feito em 8 horas, independentemente do quanto de capacidade o grupo de recursos disponibilizou no total nesse dia.</span><span class="sxs-lookup"><span data-stu-id="e61ce-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="e61ce-312">Entretanto, a capacidade disponível pode limitar ainda mais a carga.</span><span class="sxs-lookup"><span data-stu-id="e61ce-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="e61ce-313">A carga do agendamento de trabalhos em todos os recursos incluídos no grupo de recursos em um determinado dia é considerada quando a capacidade disponível do grupo de recursos é calculada no mesmo dia.</span><span class="sxs-lookup"><span data-stu-id="e61ce-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="e61ce-314">Para cada data, o cálculo é:</span><span class="sxs-lookup"><span data-stu-id="e61ce-314">For each date, the calculation is:</span></span>

<span data-ttu-id="e61ce-315">*Capacidade do grupo de recursos disponível = capacidade de recursos no grupo com base no calendário &ndash; Carga de trabalho agendada nos recursos do grupo &ndash; Carga de operações agendada nos recursos no grupo &ndash; Carga de operações agendada no grupo de recursos*</span><span class="sxs-lookup"><span data-stu-id="e61ce-315">*Available resource group capacity = Capacity for resources in the group based on their calendar &ndash; Job scheduled load on the resources in the group &ndash; Operations scheduled load on the resources in the group &ndash; Operations scheduled load on the resource group*</span></span>

<span data-ttu-id="e61ce-316">Na guia **Requisitos de recursos** da operação de roteiro, os requisitos de recursos podem ser especificados usando um recurso específico (nesse caso, a operação será agendada com esse recurso), para um grupo de recursos, para um tipo de recurso ou para um ou mais recursos, habilidade, curso ou certificado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-316">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="e61ce-317">Embora o uso de todas essas opções forneça uma grande flexibilidade na criação do roteiro, também complica o agendamento para o mecanismo, pois a capacidade deve ser considerada por "propriedade" (o nome abstrato usado no mecanismo para capacidade, habilidades, etc.).</span><span class="sxs-lookup"><span data-stu-id="e61ce-317">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="e61ce-318">A capacidade do grupo de recursos para uma capacidade é a soma da capacidade de todos os recursos no grupo de recursos que têm a capacidade em questão.</span><span class="sxs-lookup"><span data-stu-id="e61ce-318">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="e61ce-319">Se um recurso no grupo tiver uma capacidade, ele será considerado independentemente do nível de capacidade necessário.</span><span class="sxs-lookup"><span data-stu-id="e61ce-319">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="e61ce-320">No agendamento de operações, a capacidade disponível para um determinado recurso de um grupo de recursos será reduzida quando for carregada com uma operação que exige o recurso em questão.</span><span class="sxs-lookup"><span data-stu-id="e61ce-320">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="e61ce-321">Se a operação exigir mais de um recurso, a capacidade será reduzida para todos os recursos necessários.</span><span class="sxs-lookup"><span data-stu-id="e61ce-321">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="e61ce-322">Para cada data, o cálculo necessário é:</span><span class="sxs-lookup"><span data-stu-id="e61ce-322">For each date, the required calculation is:</span></span>

<span data-ttu-id="e61ce-323">*Capacidade disponível para um recurso = capacidade para o recurso &ndash; Carga de trabalho agendada nos recursos com o recurso específico, incluído no grupo de grupo de recursos &ndash; Carga de operações agendada nos recursos com o recurso específico, incluído no grupo de recursos &ndash; Carga de operações agendada no próprio grupo de recursos, que exige o recurso específico*</span><span class="sxs-lookup"><span data-stu-id="e61ce-323">*Available capacity for a capability = Capacity for the capability &ndash; Job scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resource group itself that require the specific capability*</span></span>

<span data-ttu-id="e61ce-324">Isso significa que, se houver carga em um recurso específico, ela será considerada no cálculo da capacidade disponível do grupo de recursos por capacidade, pois a carga em um recurso específico reduz sua contribuição para a capacidade do grupo de recursos, não importa se a carga do recurso específico for para essa capacidade específica.</span><span class="sxs-lookup"><span data-stu-id="e61ce-324">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="e61ce-325">Se houver carga no nível do grupo de recursos, ela será considerada no cálculo da capacidade disponível do grupo de recursos por capacidade somente se a carga for de uma operação que exija a capacidade específica.</span><span class="sxs-lookup"><span data-stu-id="e61ce-325">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="e61ce-326">A lógica acima é complicada, pois é a mesma para cada tipo de "propriedade", de forma que o uso do agendamento de operações com capacidade finita exige que um volume significativo de dados seja carregado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-326">The above logic is complicated, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="e61ce-327">Exibir a entrada e a saída do mecanismo de agendamento</span><span class="sxs-lookup"><span data-stu-id="e61ce-327">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="e61ce-328">Para obter detalhes específicos sobre a entrada e a saída do processo de agendamento, habilite o log acessando **Administração da organização \> Configuração \> Agendamento \> Ferramenta cockpit de rastreamento de agendamento**.</span><span class="sxs-lookup"><span data-stu-id="e61ce-328">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit**.</span></span>

<span data-ttu-id="e61ce-329">Nesta página, primeiro selecione **Habilitar log** no Painel de ações.</span><span class="sxs-lookup"><span data-stu-id="e61ce-329">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="e61ce-330">Em seguida, execute o agendamento da ordem de produção.</span><span class="sxs-lookup"><span data-stu-id="e61ce-330">Then run the scheduling for the production order.</span></span> <span data-ttu-id="e61ce-331">Ao concluir, retorne à página **Ferramenta cockpit de rastreamento de agendamento** e selecione **Desabilitar log** no Painel de ações.</span><span class="sxs-lookup"><span data-stu-id="e61ce-331">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="e61ce-332">Atualize a página e uma nova linha será exibida na grade.</span><span class="sxs-lookup"><span data-stu-id="e61ce-332">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="e61ce-333">Selecione a nova linha e selecione **Download** no Painel de ações.</span><span class="sxs-lookup"><span data-stu-id="e61ce-333">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="e61ce-334">Isso gerará uma pasta compactada .zip, contendo os seguintes arquivos:</span><span class="sxs-lookup"><span data-stu-id="e61ce-334">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="e61ce-335">**Log.txt** - Este é o arquivo de log que descreve as etapas pelas quais o mecanismo passa.</span><span class="sxs-lookup"><span data-stu-id="e61ce-335">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="e61ce-336">É muito elaborado e pode ser um pouco difícil, mas quando usado como parte do experimento com a configuração de roteiro para resolver problemas de desempenho, a primeira coisa a procurar é a diferença no tempo entre a primeira e a última linha, pois isso lhe dará o tempo exato que o agendador gastou.</span><span class="sxs-lookup"><span data-stu-id="e61ce-336">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="e61ce-337">**XmlModel.xml** - Contém o modelo criado em X++ e no qual o mecanismo é operado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-337">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="e61ce-338">O `JobId` usado no arquivo se correlaciona com o `RecId` da tabela de origem que contém os trabalhos (`ReqRouteJob` ou `ProdRouteJob`).</span><span class="sxs-lookup"><span data-stu-id="e61ce-338">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="e61ce-339">O mais comum a se notar neste arquivo é que as datas fornecidas em `ConstraintJobStartsAt` e `ConstraintJobEndsAt` são as esperadas, que a propriedade `JobGoal` está definida corretamente e que os trabalhos estão relacionados entre si por meio das restrições `JobLink`.</span><span class="sxs-lookup"><span data-stu-id="e61ce-339">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="e61ce-340">**XmlSlots.xml** - Contém todos os horários de trabalho e as reservas de capacidade que o mecanismo solicitou.</span><span class="sxs-lookup"><span data-stu-id="e61ce-340">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="e61ce-341">Os horários de trabalho e as reservas do calendário só serão solicitadas pelo mecanismo para os períodos em que tenta inserir os trabalhos (e um buffer extra). Portanto, se o arquivo contiver tempos muito distantes no futuro, poderá ser uma indicação de um problema com a configuração.</span><span class="sxs-lookup"><span data-stu-id="e61ce-341">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="e61ce-342">Os nós `ResourceProperty` mostrarão, para cada recurso, a qual grupo de recursos e capacidades ele está associado para quais períodos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-342">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="e61ce-343">**Result.xml** - Contém o resultado da execução do agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-343">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="e61ce-344">Observe que a funcionalidade de rastreamento pode adicionar uma sobrecarga de desempenho significativa, portanto, use-a apenas na investigação do agendamento de ordens específicas de forma controlada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-344">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="e61ce-345">Se ela estiver ativada durante a execução de um planejamento mestre, ela alcançará rapidamente o seu limite de tamanho e parará.</span><span class="sxs-lookup"><span data-stu-id="e61ce-345">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="e61ce-346">Solucionar problemas de desempenho</span><span class="sxs-lookup"><span data-stu-id="e61ce-346">Troubleshooting performance</span></span>

<span data-ttu-id="e61ce-347">Conforme explicado em todas as seções anteriores, há algumas armadilhas no que se refere à configuração e ao uso do mecanismo de agendamento, que podem causar problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-347">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="e61ce-348">A lista de verificação a seguir pode ser usada para solucionar problemas desse tipo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-348">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="e61ce-349">É importante observar todos os detalhes, pois normalmente é uma combinação de vários fatores que resulta em problemas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-349">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="e61ce-350">Executar o agendamento como parte do MRP quando não for necessário</span><span class="sxs-lookup"><span data-stu-id="e61ce-350">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="e61ce-351">Mesmo que os roteiros sejam usados para fins do controle de produção, como custos e relatórios, talvez não seja necessário considerá-los durante o MRP.</span><span class="sxs-lookup"><span data-stu-id="e61ce-351">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="e61ce-352">Em alguns casos, o prazo de entrega padrão especificado da produção do item será suficiente para o planejamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-352">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="e61ce-353">Para desativar o agendamento de roteiro, defina o limite de tempo de capacidade como zero.</span><span class="sxs-lookup"><span data-stu-id="e61ce-353">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="e61ce-354">Se o agendamento deve ser feito, o limite de tempo de capacidade deve ser cuidadosamente definido porque talvez não seja necessário considerar os roteiros para a extensão total do limite de tempo de cobertura do MRP.</span><span class="sxs-lookup"><span data-stu-id="e61ce-354">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="e61ce-355">Observe que, se a ordem não for agendada durante o MRP, ela deverá ser agendada quando a ordem planejada for confirmada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-355">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="e61ce-356">Isso significa que o processo de confirmação levará mais tempo, de forma que, dependendo de quantas ordens planejadas sugeridas forem confirmadas, o ganho de desempenho durante o MRP poderá ser perdido na confirmação.</span><span class="sxs-lookup"><span data-stu-id="e61ce-356">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="e61ce-357">Roteiro com operações desnecessárias</span><span class="sxs-lookup"><span data-stu-id="e61ce-357">Route with unnecessary operations</span></span>

<span data-ttu-id="e61ce-358">Ao criar o roteiro, ele tenta modelar o mundo real exatamente com todas as etapas pelas quais a produção passa.</span><span class="sxs-lookup"><span data-stu-id="e61ce-358">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="e61ce-359">Embora isso possa ser útil em alguns casos, não é bom para o desempenho, pois o modelo que o mecanismo precisa para funcionar aumenta (tanto em termos de trabalho e quanto em restrições) e mais instruções SQL serão executadas para inserção e atualização dos trabalhos e das reservas de capacidade.</span><span class="sxs-lookup"><span data-stu-id="e61ce-359">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="e61ce-360">Além disso, há o efeito downstream de ter de relatar o progresso nos trabalhos, que pode ser atenuado com lançamentos automáticos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-360">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="e61ce-361">Se os dados não forem usados para nada, eles criarão uma carga desnecessária.</span><span class="sxs-lookup"><span data-stu-id="e61ce-361">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="e61ce-362">É recomendável criar somente operações que sejam rigorosamente necessárias para o agendamento (que normalmente são os recursos de afunilamento) e/ou fins de custos.</span><span class="sxs-lookup"><span data-stu-id="e61ce-362">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="e61ce-363">Como alternativa, você deve agrupar várias operações distintas e menores em uma operação maior que representa uma parte maior do processo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-363">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="e61ce-364">Muitos recursos aplicáveis para uma operação</span><span class="sxs-lookup"><span data-stu-id="e61ce-364">Many applicable resources for an operation</span></span>

<span data-ttu-id="e61ce-365">O número de recursos aplicáveis para uma operação é determinado de acordo com os requisitos de recursos definidos na relação de operação.</span><span class="sxs-lookup"><span data-stu-id="e61ce-365">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="e61ce-366">O requisito pode ser para um recurso específico (individual) ou pode ser baseado na associação do recurso de um grupo de recursos ou uma capacidade.</span><span class="sxs-lookup"><span data-stu-id="e61ce-366">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="e61ce-367">Se o agendamento não for feito usando a capacidade finita e todos os recursos aplicáveis tiverem o mesmo calendário e a mesma eficiência, o mecanismo de agendamento sempre acabará selecionando o mesmo recurso para uma operação, mas somente depois de testar todos os recursos aplicáveis para verificar se há algum "melhor" do que os outros.</span><span class="sxs-lookup"><span data-stu-id="e61ce-367">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="e61ce-368">Nesse caso, a carga do agendamento pode ser bastante reduzida simplesmente por meio da atribuição de um recurso específico à operação no tempo de criação do roteiro.</span><span class="sxs-lookup"><span data-stu-id="e61ce-368">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="e61ce-369">Roteiro com operações paralelas</span><span class="sxs-lookup"><span data-stu-id="e61ce-369">Route with parallel operations</span></span>

<span data-ttu-id="e61ce-370">Enquanto operações paralelas (principais/secundárias) são uma ferramenta poderosa para modelar cenários, como quando um computador e um operador são necessários para executar uma tarefa específica, também é a origem de vários problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-370">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="e61ce-371">Se um requisito de um recurso individual específico for atribuído à operação principal e secundária, normalmente não será um problema.</span><span class="sxs-lookup"><span data-stu-id="e61ce-371">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="e61ce-372">Mas se houver vários recursos possíveis para cada uma das operações, isso adicionará uma complexidade computacional significativa ao agendamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-372">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="e61ce-373">Uma alternativa ao uso de operações paralelas é modelar os pares como recursos "virtuais" (que representarão a equipe que sempre vai para a operação) ou simplesmente não modelar uma das operações se não representar um afunilamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-373">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="e61ce-374">Roteiro com quantidade de recursos maior que 1</span><span class="sxs-lookup"><span data-stu-id="e61ce-374">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="e61ce-375">Se a configuração da quantidade de recursos necessários para uma operação for superior a um, o resultado será o mesmo que o uso de operações principais/secundárias, pois vários trabalhos paralelos serão enviados para o mecanismo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-375">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="e61ce-376">No entanto, nesse caso, não há uma opção de usar atribuições específicas de recursos, porque uma quantidade superior a um exige que mais de um recurso seja aplicável à operação.</span><span class="sxs-lookup"><span data-stu-id="e61ce-376">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="e61ce-377">Uso excessivo de capacidade finita</span><span class="sxs-lookup"><span data-stu-id="e61ce-377">Excessive use of finite capacity</span></span>

<span data-ttu-id="e61ce-378">O uso da capacidade finita exige que o mecanismo carregue as informações de capacidade de um banco de dados e tenha uma sobrecarga computacional, pois será mais difícil encontrar uma solução principalmente em ambientes nos quais os recursos estão reservados próximos à capacidade máxima.</span><span class="sxs-lookup"><span data-stu-id="e61ce-378">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="e61ce-379">Como resultado, é importante avaliar com cuidado se um recurso realmente precisa usar capacidade finita ou se pode estar excessivamente reservado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-379">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="e61ce-380">Como pode haver uma diferença entre os recursos de capacidade finita sobre a importância de não reservar excessivamente, é recomendável usar a opção de afunilamento em um recurso em combinação com um valor separado no plano em "Limite de tempo de capacidade para recursos de afunilamento".</span><span class="sxs-lookup"><span data-stu-id="e61ce-380">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="e61ce-381">O uso do conceito de afunilamento pode permitir que o limite de tempo de capacidade finita geral possa ser reduzido.</span><span class="sxs-lookup"><span data-stu-id="e61ce-381">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="e61ce-382">Configurar links rígidos</span><span class="sxs-lookup"><span data-stu-id="e61ce-382">Setting hard links</span></span>

<span data-ttu-id="e61ce-383">O tipo de link padrão do roteiro é *flexível*, o que significa que um intervalo de tempo é permitido entre a hora de término de uma operação e o início da próxima.</span><span class="sxs-lookup"><span data-stu-id="e61ce-383">The standard link type of the route is *soft*, which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="e61ce-384">Isso pode ter o efeito indesejado de que, se os materiais ou a capacidade não estiverem disponíveis para uma das operações por um período muito longo, a produção poderá ficar ociosa por muito tempo, o que significa um possível aumento do trabalho em andamento.</span><span class="sxs-lookup"><span data-stu-id="e61ce-384">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="e61ce-385">Isso não ocorrerá com links rígidos porque o término e o início devem alinhar-se perfeitamente.</span><span class="sxs-lookup"><span data-stu-id="e61ce-385">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="e61ce-386">Mas a definição de links rígidos dificulta o problema de agendamento porque interseções de capacidade e horário de trabalho devem ser calculadas para os dois recursos das operações.</span><span class="sxs-lookup"><span data-stu-id="e61ce-386">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="e61ce-387">Se também houver operações paralelas envolvidas, isso adicionará um período computacional significativo.</span><span class="sxs-lookup"><span data-stu-id="e61ce-387">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="e61ce-388">Se os recursos das duas operações tiverem calendários diferentes que não se sobrepõem, o problema não poderá ser resolvido.</span><span class="sxs-lookup"><span data-stu-id="e61ce-388">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="e61ce-389">Recomendamos o uso de links rígidos somente quando necessários, e considere com cuidado se é necessário para cada operação do roteiro.</span><span class="sxs-lookup"><span data-stu-id="e61ce-389">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="e61ce-390">Para reduzir o trabalho em andamento sem aplicar links rígidos, um truque é agendar a ordem duas vezes com a alteração para a direção oposta na segunda passagem.</span><span class="sxs-lookup"><span data-stu-id="e61ce-390">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="e61ce-391">Se o primeiro agendamento tiver sido realizado regressivamente a partir da data de entrega, o segundo deverá ser feito a partir da data de início agendada.</span><span class="sxs-lookup"><span data-stu-id="e61ce-391">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="e61ce-392">Isso resultará na máxima compactação dos trabalhos, de forma que o trabalho em andamento seja minimizado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-392">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="e61ce-393">Calendário separado para cada recurso</span><span class="sxs-lookup"><span data-stu-id="e61ce-393">Separate calendar for each resource</span></span>

<span data-ttu-id="e61ce-394">Uma das principais fontes de dados do mecanismo de agendamento são as informações de calendário, que podem ser caras para carregar do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e61ce-394">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="e61ce-395">Como os calendários são gerados com base nos modelos, é tentador gerar um calendário para cada recurso e ajustar as informações neste calendário quando o recurso tem tempo de inatividade e outros problemas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-395">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="e61ce-396">No entanto, isso limitará muito a capacidade do mecanismo de armazenar em cache os dados do calendário, pois seria necessário solicitar novos dados para cada recurso e pode ser uma grande fonte de problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="e61ce-396">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="e61ce-397">Em vez disso, recomendamos reutilizar os calendários o máximo possível entre os recursos e, em seguida, controlar as alterações de tempo de inatividade atribuindo uma ID de calendário diferente para um período.</span><span class="sxs-lookup"><span data-stu-id="e61ce-397">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="e61ce-398">Alto número de slots de horário de trabalho por dia do calendário</span><span class="sxs-lookup"><span data-stu-id="e61ce-398">High number of working time slots per calendar day</span></span>

<span data-ttu-id="e61ce-399">Como o mecanismo funciona examinando os intervalos de tempo individualmente para capacidade, é vantajoso minimizar o número de slots de horário por dia do calendário.</span><span class="sxs-lookup"><span data-stu-id="e61ce-399">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="e61ce-400">Por exemplo, isso pode ser feito considerando se é importante que o agendamento resultante reflita que os funcionários têm um intervalo de 5 minutos a cada hora.</span><span class="sxs-lookup"><span data-stu-id="e61ce-400">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="e61ce-401">Tempos limite de agendamento longos (ou nenhum)</span><span class="sxs-lookup"><span data-stu-id="e61ce-401">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="e61ce-402">O desempenho do mecanismo de agendamento pode ser otimizado usando parâmetros encontrados na página **Parâmetros de agendamento**.</span><span class="sxs-lookup"><span data-stu-id="e61ce-402">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="e61ce-403">As configurações **Tempo limite de agendamento habilitado** e **Tempo limite de otimização de agendamento habilitado** sempre devem estar definidas como **Sim**.</span><span class="sxs-lookup"><span data-stu-id="e61ce-403">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes**.</span></span> <span data-ttu-id="e61ce-404">Se forem definidas como **Não**, o agendamento poderá ser executado infinitamente se um roteiro inviável com muitas opções tiver sido criado.</span><span class="sxs-lookup"><span data-stu-id="e61ce-404">If set to **No**, the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="e61ce-405">O valor para **Tempo máximo de agendamento por sequência** controla o número de segundos que podem, no máximo, ser gastos na tentativa de encontrar uma solução para uma única sequência (na maioria dos casos, uma sequência corresponde a uma única ordem).</span><span class="sxs-lookup"><span data-stu-id="e61ce-405">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="e61ce-406">O valor a ser usado aqui depende muito da complexidade do roteiro e das configurações, como a capacidade finita. No máximo, cerca de 30 segundos é um bom ponto de partida.</span><span class="sxs-lookup"><span data-stu-id="e61ce-406">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="e61ce-407">O valor para **Tempo limite de tentativas de otimização** controla quantos segundos podem, no máximo, ser usados para encontrar uma solução melhor do que aquela encontrada inicialmente.</span><span class="sxs-lookup"><span data-stu-id="e61ce-407">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="e61ce-408">Isso só influenciará os roteiros que estão usando operações paralelas, pois elas tornam necessário testar combinações diferentes.</span><span class="sxs-lookup"><span data-stu-id="e61ce-408">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="e61ce-409">Os valores definidos para os tempos limite serão aplicados para o agendamento de ordens de produção liberadas e ordens planejadas como parte do MRP.</span><span class="sxs-lookup"><span data-stu-id="e61ce-409">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="e61ce-410">Como resultado, definir valores muito altos poderia adicionar significativamente ao tempo de execução do MRP durante a execução de um plano com muitas ordens de produção planejadas.</span><span class="sxs-lookup"><span data-stu-id="e61ce-410">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>
