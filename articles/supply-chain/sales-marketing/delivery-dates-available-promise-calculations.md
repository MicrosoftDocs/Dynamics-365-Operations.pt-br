---
title: Promessa de ordem
description: Este tópico fornece informações sobre promessa de ordens. As promessas de ordem ajudam você a prometer, com segurança, datas de entrega aos clientes e lhe fornece flexibilidade para que possa atender a essas datas.
author: ShylaThompson
manager: tfehr
ms.date: 04/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: SalesATP, SalesAvailableDlvDates, SalesCarrier
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 193933
ms.assetid: 676fc53a-fa25-4688-9f26-1005316763b8
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: ae3192bcf5128c09279017e3d5e8be8f42ec6975
ms.sourcegitcommit: 95f90ac3f248716abdab16d5de6ccbf059616e4b
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/03/2020
ms.locfileid: "4666761"
---
# <a name="order-promising"></a><span data-ttu-id="c172c-104">Promessa de ordem</span><span class="sxs-lookup"><span data-stu-id="c172c-104">Order promising</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="c172c-105">Este tópico fornece informações sobre promessa de ordens.</span><span class="sxs-lookup"><span data-stu-id="c172c-105">This topic provides information about order promising.</span></span> <span data-ttu-id="c172c-106">As promessas de ordem ajudam você a prometer, com segurança, datas de entrega aos clientes e lhe fornece flexibilidade para que possa atender a essas datas.</span><span class="sxs-lookup"><span data-stu-id="c172c-106">Order promising helps you reliably promise delivery dates to your customers and gives you flexibility so that you can meet those dates.</span></span>

<span data-ttu-id="c172c-107">A promessa da ordem calcula as datas de entrega e recebimento mais próximas, e se baseia no método de controle de data de entrega e nos dias de transporte.</span><span class="sxs-lookup"><span data-stu-id="c172c-107">Order promising calculates the earliest ship and receipt dates, and is based on the delivery date control method and transport days.</span></span> <span data-ttu-id="c172c-108">Você pode escolher entre quatro métodos controle de data de entrega:</span><span class="sxs-lookup"><span data-stu-id="c172c-108">You can select among four delivery date control methods:</span></span>

-   <span data-ttu-id="c172c-109">**Prazo de entrega das vendas** – Prazo de entrega das vendas é o tempo entre a criação da ordem de venda e a remessa dos itens.</span><span class="sxs-lookup"><span data-stu-id="c172c-109">**Sales lead time** – Sales lead time is the time between creation of the sales order and shipment of the items.</span></span> <span data-ttu-id="c172c-110">O cálculo de data de entrega baseia-se em um número padrão de dias, e não considera a disponibilidade de estoque, a demanda conhecida, ou o fornecimento planejado.</span><span class="sxs-lookup"><span data-stu-id="c172c-110">The delivery date calculation is based on a default number of days, and does not consider stock availability, known demand, or planned supply.</span></span>
-   <span data-ttu-id="c172c-111">**ATP (disponível para promessa)** – ATP é a quantidade de um item que está disponível e pode ser prometida a um cliente em uma data específica.</span><span class="sxs-lookup"><span data-stu-id="c172c-111">**ATP (available-to-promise)** – ATP is the quantity of an item that is available and can be promised to a customer on a specific date.</span></span> <span data-ttu-id="c172c-112">O cálculo de ATP inclui o estoque não confirmado, prazos de entrega, recebimentos planejados, e saídas.</span><span class="sxs-lookup"><span data-stu-id="c172c-112">The ATP calculation includes uncommitted inventory, lead times, planned receipts, and issues.</span></span>
-   <span data-ttu-id="c172c-113">**Margem de saída + ATP**– A data de remessa é igual a data de ATP mais a margem de saída do item.</span><span class="sxs-lookup"><span data-stu-id="c172c-113">**ATP + Issue margin** – The shipping date is equal to the ATP date plus the issue margin for the item.</span></span> <span data-ttu-id="c172c-114">A margem de saída é o tempo necessário para preparar os itens para remessa.</span><span class="sxs-lookup"><span data-stu-id="c172c-114">The issue margin is the time that is required to prepare the items for shipment.</span></span>
-   <span data-ttu-id="c172c-115">**CTP (capacidade de comprometimento)**– A disponibilidade é calculada com o detalhamento.</span><span class="sxs-lookup"><span data-stu-id="c172c-115">**CTP (capable-to-promise)** – Availability is calculated through explosion.</span></span>

> [!NOTE]
> <span data-ttu-id="c172c-116">Quando uma ordem de venda for atualizada, as informações de promessa da ordem serão atualizadas somente se a data de promessa da ordem existente não puder ser atendida, conforme ilustrado nos exemplos a seguir:</span><span class="sxs-lookup"><span data-stu-id="c172c-116">When a sales order is updated, the order promising information is only updated if the existing order promising date can't be fulfilled, as illustrated in the following examples:</span></span>
> 
> - <span data-ttu-id="c172c-117">**Exemplo 1**: a data de promessa da ordem atual é 20 de julho mas, devido à quantidade crescente, você não poderá entregar até 25 de julho.</span><span class="sxs-lookup"><span data-stu-id="c172c-117">**Example 1**: The current order promising date is July 20, but due to increased quantity, you won't be able to deliver until July 25.</span></span> <span data-ttu-id="c172c-118">Como a data atual não pode mais ser atendida, a promessa da ordem é disparada.</span><span class="sxs-lookup"><span data-stu-id="c172c-118">Because the current date can no longer be met, order promising is triggered.</span></span>
> -  <span data-ttu-id="c172c-119">**Exemplo 2**: a data de promessa da ordem atual é 20 de julho mas, devido à quantidade reduzida, agora é possível entregar em 15 de julho.</span><span class="sxs-lookup"><span data-stu-id="c172c-119">**Example 2**: The current order promising date is July 20, but due to decreased quantity, it is now possible to deliver on July 15.</span></span> <span data-ttu-id="c172c-120">No entanto, como a data atual ainda pode ser preenchida, a promessa da ordem não é disparada e 20 de julho permanece a data de promessa da ordem.</span><span class="sxs-lookup"><span data-stu-id="c172c-120">However, because the current date can still be fulfilled, order promising is not triggered, and July 20 remains the order promising date.</span></span>

## <a name="atp-calculations"></a><span data-ttu-id="c172c-121">Cálculos de ATP</span><span class="sxs-lookup"><span data-stu-id="c172c-121">ATP calculations</span></span>
<span data-ttu-id="c172c-122">A quantidade de ATP é calculada usando o método “ATP cumulativo com look-ahead”.</span><span class="sxs-lookup"><span data-stu-id="c172c-122">The ATP quantity is calculated by using the “cumulative ATP with look-ahead” method.</span></span> <span data-ttu-id="c172c-123">A principal vantagem desse cálculo de ATP é que ele pode lidar com casos nos quais a soma de saídas entre recebimentos é maior do que o último recebimento (por exemplo, quando se faz necessário usar uma quantidade de um recebimento anterior para atender a uma necessidade).</span><span class="sxs-lookup"><span data-stu-id="c172c-123">The main advantage of this ATP calculation method is that it can handle cases where the sum of issues among receipts is more than the latest receipt (for example, when a quantity from an earlier receipt must be used to meet a requirement).</span></span> <span data-ttu-id="c172c-124">O método de cálculo “ATP cumulativo com look-ahead” inclui todas as saídas até que a quantidade cumulativa para receber exceda a quantidade cumulativa para emissão.</span><span class="sxs-lookup"><span data-stu-id="c172c-124">The “cumulative ATP with look-ahead” calculation method includes all issues until the cumulative quantity to receive exceeds the cumulative quantity to issue.</span></span> <span data-ttu-id="c172c-125">Sendo assim, esse método de cálculo de ATP avalia se qualquer quantidade de um período anterior pode ser usada em um período posterior.</span><span class="sxs-lookup"><span data-stu-id="c172c-125">Therefore, this ATP calculation method evaluates whether some of the quantity from an earlier period can be used in a later period.</span></span>  

<span data-ttu-id="c172c-126">A quantidade ATP é o saldo de estoque não confirmado no primeiro período.</span><span class="sxs-lookup"><span data-stu-id="c172c-126">The ATP quantity is the uncommitted inventory balance in the first period.</span></span> <span data-ttu-id="c172c-127">Geralmente, ela é calculada para cada período no qual um recebimento é planejado.</span><span class="sxs-lookup"><span data-stu-id="c172c-127">Typically, it's calculated for each period in which a receipt is scheduled.</span></span> <span data-ttu-id="c172c-128">O programa calcula o período ATP em dias e calcula a data atual como a primeira data para a quantidade ATP.</span><span class="sxs-lookup"><span data-stu-id="c172c-128">The program calculates the ATP period in days and calculates the current date as the first date for the ATP quantity.</span></span> <span data-ttu-id="c172c-129">No primeiro período, ATP inclui o estoque disponível menos ordens de cliente que estão vencidas ou atrasadas.</span><span class="sxs-lookup"><span data-stu-id="c172c-129">In the first period, ATP includes on-hand inventory minus customer orders that are due and overdue.</span></span>  

<span data-ttu-id="c172c-130">O ATP é calculado através da seguinte fórmula:</span><span class="sxs-lookup"><span data-stu-id="c172c-130">ATP is calculated by using the following formula:</span></span>  

<span data-ttu-id="c172c-131">ATP = ATP do período anterior + Recibos do período atual – Problemas do período atual – Quantidade líquida de saída para cada período futuro até que o período em que a soma de recibos de todos os períodos futuros, até e incluindo o período futuro, seja maior que a soma de saídas, até e incluindo o período futuro.</span><span class="sxs-lookup"><span data-stu-id="c172c-131">ATP = ATP for the previous period + Receipts for the current period – Issues for the current period – Net issue quantity for each future period until the period when the sum of receipts for all future periods, up to and including the future period, exceeds the sum of issues up to and including the future period.</span></span>  

<span data-ttu-id="c172c-132">Observe que o cálculo de ATP não inclui informações sobre data de vencimento e além do limite de tempo ATP que o sistema espera quando qualquer quantidade pode ser prometida.</span><span class="sxs-lookup"><span data-stu-id="c172c-132">Notice that the ATP calculation does not include information around expiry date and beyond the ATP time fence that the system expects when any quantity can be promised.</span></span>

<span data-ttu-id="c172c-133">Quando não houver mais saídas ou emissões a serem consideradas, a quantidade ATP para as seguintes datas é a mesma que a última quantidade ATP calculada.</span><span class="sxs-lookup"><span data-stu-id="c172c-133">When there are no more issues or receipts to consider, the ATP quantity for the following dates is the same as the latest calculated ATP quantity.</span></span>  

<span data-ttu-id="c172c-134">Se nem todas as dimensões usadas para um item forem fornecidas quando a verificação de ATP for concluída, estas ainda podem ser especificadas na saída e nos recebimentos.</span><span class="sxs-lookup"><span data-stu-id="c172c-134">If not all the dimensions that are used for an item are given when the ATP check is completed, they can still be specified on the issue and receipts.</span></span> <span data-ttu-id="c172c-135">Nesse caso, no cálculo ATP, os recebimentos e saídas devem ser agregados para as dimensões existentes para reduzir o número de linhas de recebimentos e de saída usadas no cálculo ATP.</span><span class="sxs-lookup"><span data-stu-id="c172c-135">In this case, in the ATP calculation, the receipts and issues must be aggregated to the existing dimensions to reduce the number of receipt and issue lines that are used in the ATP calculation.</span></span>  

<span data-ttu-id="c172c-136">A quantidade ATP que é mostrada é sempre maior ou igual a 0 (zero).</span><span class="sxs-lookup"><span data-stu-id="c172c-136">The ATP quantity that is shown is always greater than or equal to 0 (zero).</span></span> <span data-ttu-id="c172c-137">Se o cálculo retornar uma quantidade ATP negativa (por exemplo, se a quantidade prometida anteriormente exceder a quantidade disponível), a quantidade é definida automaticamente como 0.</span><span class="sxs-lookup"><span data-stu-id="c172c-137">If the calculation returns a negative ATP quantity (for example, if the quantity that was previously promised exceeds the available quantity), the quantity is automatically set to 0.</span></span>

### <a name="example"></a><span data-ttu-id="c172c-138">Exemplo</span><span class="sxs-lookup"><span data-stu-id="c172c-138">Example</span></span>

<span data-ttu-id="c172c-139">O campo **Limite de tempo de demanda retroativa ATP** controla o recuo no tempo para procurar por ordens de demanda atrasadas ou saídas de estoque.</span><span class="sxs-lookup"><span data-stu-id="c172c-139">The **ATP backward demand time fence** field controls how far back in time to look for delayed demand orders or inventory issues.</span></span> <span data-ttu-id="c172c-140">O campo **Limite de tempo de fornecimento retroativo ATP** controla o recuo no tempo para procurar por ordens de fornecimento atrasadas ou recebimentos de estoque.</span><span class="sxs-lookup"><span data-stu-id="c172c-140">The **ATP backward supply time fence** field controls how far back in time to look for delayed supply orders or inventory receipts.</span></span> <span data-ttu-id="c172c-141">Por exemplo, se as ordens que estão vencidas somente em sete dias precisarem ser considerados no cálculo ATP, os campos devem ser definidos como **7**.</span><span class="sxs-lookup"><span data-stu-id="c172c-141">For example, if orders that are delayed by only seven days should be considered in the ATP calculation, both fields should be set to **7**.</span></span>  

<span data-ttu-id="c172c-142">Os campos **Tempo de deslocamento de demanda atrasada ATP** e **Tempo de deslocamento de fornecimento atrasado ATP** controlam quando a demanda ou fornecimento atrasados serão considerados no cálculo de ATP.</span><span class="sxs-lookup"><span data-stu-id="c172c-142">The **ATP delayed demand offset time** and **ATP delayed supply offset time** fields control when the delayed demand or supply will be considered in the ATP calculation.</span></span> <span data-ttu-id="c172c-143">Por exemplo, se a demanda e fornecimento atrasados precisarem ser considerados no cálculo de ATP depois de amanhã, ambos os campos devem ser definidos como **2**.</span><span class="sxs-lookup"><span data-stu-id="c172c-143">For example, if the delayed supply and demand should be considered in the ATP calculation the day after tomorrow, both fields should be set to **2**.</span></span> <span data-ttu-id="c172c-144">Um valor de **2** significa que a quantidade de um item em uma ordem de compra atrasada que deve ser considerada no cálculo de ATP será vista como disponível dois dias após a data atual.</span><span class="sxs-lookup"><span data-stu-id="c172c-144">A value of **2** means that the quantity of an item on a delayed purchase order that should be considered in the ATP calculation will be seen as available two days after the current date.</span></span>  

<span data-ttu-id="c172c-145">Para o exemplo a seguir, **7** é inserido nos campos **Limite de tempo de demanda retroativa ATP** e **Limite de tempo de fornecimento retroativo ATP**, e **1** é inserido nos campos **Tempo de deslocamento de demanda atrasada ATP** e **Tempo de deslocamento de fornecimento atrasado ATP**.</span><span class="sxs-lookup"><span data-stu-id="c172c-145">For the following example, **7** is entered in the **ATP backward demand time fence** and **ATP backward supply time fence** fields, and **1** is entered in the **ATP delayed demand offset time** and **ATP delayed supply offset time** fields.</span></span>  

<span data-ttu-id="c172c-146">Uma ordem de compra de 200 peças de um produto que devia ser recebida três dias atrás ainda não foi recebida.</span><span class="sxs-lookup"><span data-stu-id="c172c-146">A purchase order for 200 pieces of a product that should have been received three days ago hasn't been received yet.</span></span> <span data-ttu-id="c172c-147">Sendo assim, uma linha de ordem de venda de 75 peças do mesmo produto que devia ser enviada ontem não foi enviada.</span><span class="sxs-lookup"><span data-stu-id="c172c-147">Therefore, a sales order line for 75 pieces of the same product that should have been shipped yesterday hasn't been shipped.</span></span>  

<span data-ttu-id="c172c-148">O cliente liga e solicita 150 peças do mesmo produto.</span><span class="sxs-lookup"><span data-stu-id="c172c-148">A customer calls and wants to order 150 pieces of the same product.</span></span> <span data-ttu-id="c172c-149">Ao verificar a disponibilidade do produto, você descobre que há outra ordem de compra de 100 peças do produto que será entregue 10 dias depois.</span><span class="sxs-lookup"><span data-stu-id="c172c-149">When you verify the availability of the product, you find that another purchase order for 100 pieces of the product will be delivered 10 days later.</span></span>  

<span data-ttu-id="c172c-150">Crie uma linha de ordem de venda para o produto e insira **150** como quantidade.</span><span class="sxs-lookup"><span data-stu-id="c172c-150">You create a sales order line for the product and enter **150** as the quantity.</span></span>  

<span data-ttu-id="c172c-151">Como o método de controle da data de entrega é ATP, os dados ATP são calculados para localizar a data de remessa mais próxima possível.</span><span class="sxs-lookup"><span data-stu-id="c172c-151">Because the delivery date control is method is ATP, the ATP data is calculated to find the earliest possible ship date.</span></span> <span data-ttu-id="c172c-152">Com base nas configurações, são consideradas ordem de compra e ordem de venda que estão atrasadas e a quantidade ATP resultante para a data atual é 0.</span><span class="sxs-lookup"><span data-stu-id="c172c-152">Based on the settings, the delayed purchase order and sales order are considered, and the resulting ATP quantity for the current date is 0.</span></span> <span data-ttu-id="c172c-153">Amanhã, quando a ordem de compra atrasada tiver que ser recebida, a quantidade ATP é calculada como mais de 0 (nesse caso, calculada como 125).</span><span class="sxs-lookup"><span data-stu-id="c172c-153">Tomorrow, when the delayed purchase order is expected to be received, the ATP quantity is calculated as more than 0 (in this case, it's calculated as 125).</span></span> <span data-ttu-id="c172c-154">Entretanto, em 10 dias, quando a ordem de compra adicional de 100 peças tiver que ser recebida, a quantidade ATP se tornará mais de 150.</span><span class="sxs-lookup"><span data-stu-id="c172c-154">However, 10 days from now, when the additional purchase order for 100 pieces is expected to be received, the ATP quantity becomes more than 150.</span></span>  

<span data-ttu-id="c172c-155">Portanto, a data de remessa é definida para 10 dias, a contar de hoje, com base no cálculo ATP.</span><span class="sxs-lookup"><span data-stu-id="c172c-155">Therefore, the ship date is set to 10 days from now, based on the ATP calculation.</span></span> <span data-ttu-id="c172c-156">Sendo assim, você informa ao cliente que a quantidade solicitada pode ser entregue em 10 dias, a contar de hoje.</span><span class="sxs-lookup"><span data-stu-id="c172c-156">Therefore, you tell the customer that the requested quantity can be delivered 10 days from now.</span></span>



