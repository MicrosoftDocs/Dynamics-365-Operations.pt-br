---
title: Alocação de ciclo
description: Este tópico descreve como configurar a etapa de alocação de ciclo, incluindo como habilitar o processamento paralelo para ela.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: feee33a7d4ea3f0d9c4d671210293a28aac14f61
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823158"
---
# <a name="wave-allocation"></a><span data-ttu-id="4e320-103">Alocação de ciclo</span><span class="sxs-lookup"><span data-stu-id="4e320-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="4e320-104">O processamento do ciclo pode ser demorado e a maior parte do tempo de processamento é gasta na etapa de alocação e na etapa de criação de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4e320-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="4e320-105">Agora é possível executar cada uma dessas etapas em paralelo, o que pode melhorar o desempenho do processamento do ciclo e permitir uma taxa de transferência maior de ciclos no mesmo depósito.</span><span class="sxs-lookup"><span data-stu-id="4e320-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="4e320-106">Este tópico explica como configurar o método de alocação de ciclo para ser executado em paralelo.</span><span class="sxs-lookup"><span data-stu-id="4e320-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="4e320-107">Para obter mais informações sobre como configurar a criação de trabalho para execução em paralelo, consulte [Agendar a criação de trabalho durante o ciclo](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="4e320-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="4e320-108">Anteriormente, era possível alocar apenas um ciclo em um depósito por vez.</span><span class="sxs-lookup"><span data-stu-id="4e320-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="4e320-109">Essa restrição foi removida e substituída por uma nova restrição que só bloqueia o item e as dimensões acima da localização na hierarquia de reserva.</span><span class="sxs-lookup"><span data-stu-id="4e320-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="4e320-110">As dimensões acima do local sempre incluem as dimensões do produto.</span><span class="sxs-lookup"><span data-stu-id="4e320-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="4e320-111">Por exemplo, se um item for configurado usando *Cor*, as variantes para *Vermelho*, *Azul* e *Amarelo* poderiam ser processadas em paralelo.</span><span class="sxs-lookup"><span data-stu-id="4e320-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="4e320-112">Isso significa que, se o mesmo item com as mesmas dimensões acima da localização estiver sendo alocado por um ciclo, outros ciclos terão de esperar para adquirir um bloqueio no mesmo item e dimensões.</span><span class="sxs-lookup"><span data-stu-id="4e320-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="4e320-113">Se o bloqueio não puder ser adquirido no momento oportuno, ocorrerá um erro e o processamento do ciclo falhará.</span><span class="sxs-lookup"><span data-stu-id="4e320-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="4e320-114">Para usar o processamento paralelo, o ciclo deverá ser executado em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="4e320-115">Aprimoramentos de desempenho</span><span class="sxs-lookup"><span data-stu-id="4e320-115">Performance improvements</span></span>

<span data-ttu-id="4e320-116">Os benefícios de desempenho do processamento paralelo recaem em duas categorias:</span><span class="sxs-lookup"><span data-stu-id="4e320-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="4e320-117">**Taxa de transferência melhorada** – a taxa de transferência de ciclos geralmente aumenta, mesmo que o processamento paralelo não seja configurado, especialmente para cenários em que não há sobreposição de itens dentro dos ciclos.</span><span class="sxs-lookup"><span data-stu-id="4e320-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="4e320-118">**Melhoria da alocação para um único ciclo** – testes em dados de clientes mostraram uma melhoria de desempenho de quase 50% depois da alternância para a alocação paralela.</span><span class="sxs-lookup"><span data-stu-id="4e320-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="4e320-119">O processamento paralelo é feito por itens e dimensões acima da localização e, portanto, os aprimoramentos dependem de quantos itens diferentes um ciclo contém, a infraestrutura disponível e a duração da alocação versus a duração da criação do trabalho.</span><span class="sxs-lookup"><span data-stu-id="4e320-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="4e320-120">Configurar a alocação paralela</span><span class="sxs-lookup"><span data-stu-id="4e320-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="4e320-121">Parâmetros de gerenciamento de depósito</span><span class="sxs-lookup"><span data-stu-id="4e320-121">Warehouse management parameters</span></span>

<span data-ttu-id="4e320-122">Para usar o processamento de alocação paralela, vá para **Gerenciamento de depósito > Configuração > Parâmetros de gerenciamento de depósito**, abra a guia **Processamento do ciclo** e faça as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="4e320-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="4e320-123">**Grupo de lotes de processamento do ciclo** – selecione o grupo de lotes que o processamento inicial do ciclo deve usar.</span><span class="sxs-lookup"><span data-stu-id="4e320-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="4e320-124">O processamento subsequente da alocação pode ser feito usando diferentes grupos de lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="4e320-125">**Processar ciclos em lotes** – defina isso como *Sim* para usar o processamento paralelo.</span><span class="sxs-lookup"><span data-stu-id="4e320-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="4e320-126">**Aguardar bloqueio (ms)** – insira o tempo, em milissegundos, que uma etapa de alocação aguardará um recurso do sistema que está bloqueado por outra etapa de alocação.</span><span class="sxs-lookup"><span data-stu-id="4e320-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="4e320-127">Quando esse tempo é excedido, a onda não é processada e uma mensagem de erro é exibida.</span><span class="sxs-lookup"><span data-stu-id="4e320-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="4e320-128">Recomendamos que você aguarde pelo menos alguns segundos para permitir a alocação de uma unidade lógica seja concluída.</span><span class="sxs-lookup"><span data-stu-id="4e320-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="4e320-129">Para obter informações sobre essas e outras opções de processamento do ciclo na página **Parâmetros de gerenciamento de depósito**, consulte [Parâmetros de depósito para processamento do ciclo](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="4e320-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="4e320-130">Métodos de processo de onda</span><span class="sxs-lookup"><span data-stu-id="4e320-130">Wave process methods</span></span>

<span data-ttu-id="4e320-131">Para configurar o processamento paralelo:</span><span class="sxs-lookup"><span data-stu-id="4e320-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="4e320-132">Vá para **Gerenciamento de depósito > Configuração > Ciclos > Métodos de processo do ciclo**.</span><span class="sxs-lookup"><span data-stu-id="4e320-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="4e320-133">Selecione o método `allocateWave` na grade.</span><span class="sxs-lookup"><span data-stu-id="4e320-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="4e320-134">No Painel de Ações, selecione **Configuração da tarefa**.</span><span class="sxs-lookup"><span data-stu-id="4e320-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="4e320-135">A página **Configuração da tarefa do método de lançamento de ciclos** é aberta.</span><span class="sxs-lookup"><span data-stu-id="4e320-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="4e320-136">Essa grade lista cada depósito no qual você configurou o método `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="4e320-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="4e320-137">O processamento paralelo só será usado para os depósitos listados.</span><span class="sxs-lookup"><span data-stu-id="4e320-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="4e320-138">Use os botões do Painel de Ação para adicionar ou remover depósitos da grade, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="4e320-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="4e320-139">Para cada depósito, faça as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="4e320-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="4e320-140">**Número máximo de tarefas em lotes** – especifique o número de tarefas em lotes que devem ser usadas para a alocação do depósito selecionado.</span><span class="sxs-lookup"><span data-stu-id="4e320-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="4e320-141">O número ideal de tarefas em lotes depende da infraestrutura disponível e de outros trabalhos em lotes que estão sendo processados no servidor.</span><span class="sxs-lookup"><span data-stu-id="4e320-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="4e320-142">Os testes realizados em quatro ambientes principais dedicados ao processamento do ciclo demonstraram que o uso de oito tarefas produziu bons resultados.</span><span class="sxs-lookup"><span data-stu-id="4e320-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="4e320-143">**Grupos de lotes de processamento do ciclo** – grupos de lotes específicos podem ser usados para depósitos diferentes a fim de permitir que o processamento de alocação seja expandido por depósito.</span><span class="sxs-lookup"><span data-stu-id="4e320-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="4e320-144">Habilitar ou desabilitar a paralelização em todas as entidades legais</span><span class="sxs-lookup"><span data-stu-id="4e320-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="4e320-145">Recomendamos que você defina o método `allocateWave` a ser executado em paralelo em todas as entidades legais porque isso ajuda a melhorar o desempenho do processamento do ciclo.</span><span class="sxs-lookup"><span data-stu-id="4e320-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="4e320-146">A partir do Supply Chain Management versão 10.0.17, o recurso *Paralelização de ciclo para o método Alocar Ciclo* é habilitado por padrão para todas as instalações novas e atualizadas e não poderá ser desativado novamente.</span><span class="sxs-lookup"><span data-stu-id="4e320-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="4e320-147">Depois que esse recurso for habilitado, ocorrerá o seguinte:</span><span class="sxs-lookup"><span data-stu-id="4e320-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="4e320-148">O método `allocateWave` é atualizado para incluir uma configuração de tarefa que permite usar a página **Métodos do processo do ciclo** para definir o número de tarefas que serão executadas simultaneamente, equivalente ao número de processos paralelos.</span><span class="sxs-lookup"><span data-stu-id="4e320-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="4e320-149">Como resultado, o tempo usado na etapa de ciclo de alocação (que, em geral, é de 30% a 60% do tempo de processamento total) é reduzido por um fator equivalente ao número de tarefas.</span><span class="sxs-lookup"><span data-stu-id="4e320-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="4e320-150">Também é possível selecionar qual lote será atribuído para processar essas tarefas.</span><span class="sxs-lookup"><span data-stu-id="4e320-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="4e320-151">É importante observar que todas as entidades legais serão configuradas para processar ciclos em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="4e320-152">Para os depósitos que já foram configurados para processar ciclos em lotes, e para os depósitos que já foram configurados para usar o método `allocateWave` em paralelo, a configuração existente será mantida.</span><span class="sxs-lookup"><span data-stu-id="4e320-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="4e320-153">Por padrão, todas as novas entidades legais são configuradas para processar ciclos em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="4e320-154">Todos os novos depósitos com a opção **Processos de gerenciamento de depósito** habilitada terão o método `allocateWave` configurado para ser executado em paralelo por padrão.</span><span class="sxs-lookup"><span data-stu-id="4e320-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="4e320-155">Na página **Parâmetros de gerenciamento de depósito**, **Salvamentos de processo em lotes** está definido como *Sim* e **Aguardar bloqueio (ms)** definido para um padrão de 15 segundos.</span><span class="sxs-lookup"><span data-stu-id="4e320-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="4e320-156">Isso significa que todos os ciclos serão executados em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="4e320-157">Quando um ciclo está em execução, ele adquire um bloqueio no item e nas dimensões acima do local durante a etapa de alocação.</span><span class="sxs-lookup"><span data-stu-id="4e320-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="4e320-158">Quando outra tarefa de processamento de ciclo tenta adquirir o mesmo bloqueio para o registro idêntico, ela é bloqueado.</span><span class="sxs-lookup"><span data-stu-id="4e320-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="4e320-159">As configurações de **Aguardar bloqueio (ms)** estabelecem o tempo máximo que o sistema aguardará antes que o bloqueio seja liberado.</span><span class="sxs-lookup"><span data-stu-id="4e320-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="4e320-160">O processamento de alocação paralela exige que o processamento do ciclo seja executado em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="4e320-161">Portanto, você reduzirá o desempenho do processamento do ciclo se desativar a configuração **Salvamentos de processos em lotes**, especialmente se o processamento do ciclo estiver usando um processo paralelo, conforme definido pela configuração da tarefa para os métodos de ciclo relevantes.</span><span class="sxs-lookup"><span data-stu-id="4e320-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="4e320-162">Se necessário, você poderá desfazer cada uma das configurações feitas por padrão quando o recurso *Paralelização do ciclo para o método Alocar Ciclo* estiver habilitado automaticamente para sua instância.</span><span class="sxs-lookup"><span data-stu-id="4e320-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="4e320-163">Para fazer isto:</span><span class="sxs-lookup"><span data-stu-id="4e320-163">To do this:</span></span>

- <span data-ttu-id="4e320-164">Vá para **Gerenciamento do depósito\> Configuração \> Parâmetros de gerenciamento de depósito**.</span><span class="sxs-lookup"><span data-stu-id="4e320-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="4e320-165">Na guia **Processamento do ciclo**, aplique os valores preferidos para **Processar ciclos em lotes** e **Aguardar bloqueio (ms)**.</span><span class="sxs-lookup"><span data-stu-id="4e320-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="4e320-166">Vá para **Gerenciamento de depósito \> Configuração \> Ondas \> Métodos de processo de onda**.</span><span class="sxs-lookup"><span data-stu-id="4e320-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="4e320-167">Selecione o método `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="4e320-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="4e320-168">No Painel de Ações, selecione **Configuração da tarefa** para abrir uma página que liste cada depósito no qual o método está definido para ser executado em paralelo.</span><span class="sxs-lookup"><span data-stu-id="4e320-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="4e320-169">Modifique ou exclua o número de tarefas em lotes e o grupo de ciclos atribuído a cada depósito listado, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="4e320-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="4e320-170">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="4e320-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="4e320-171">Solucionar problemas usando o log de informações</span><span class="sxs-lookup"><span data-stu-id="4e320-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="4e320-172">Como a estrutura de lotes é usada, os erros que ocorrem durante o processamento do ciclo serão capturados como parte dos logs de informações de trabalhos em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="4e320-173">Para ler os trabalhos em lotes relacionados a um ciclo:</span><span class="sxs-lookup"><span data-stu-id="4e320-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="4e320-174">Vá para **Gerenciamento de depósito \> Ondas de saída \> Ondas de remessa \> Todas as ondas**.</span><span class="sxs-lookup"><span data-stu-id="4e320-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="4e320-175">Selecione o ciclo que deseja inspecionar.</span><span class="sxs-lookup"><span data-stu-id="4e320-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="4e320-176">No Painel de Ações, abra a guia **Ciclo** e, no grupo **Ciclo**, selecione **Trabalhos em lotes**.</span><span class="sxs-lookup"><span data-stu-id="4e320-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="4e320-177">O processamento do ciclo é de correção automática e, portanto, qualquer erro detectado durante o processamento deverá ser informado usando o log de informações.</span><span class="sxs-lookup"><span data-stu-id="4e320-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="4e320-178">Um erro típico relacionado ao processamento paralelo poderia ser dois ciclos tentando alocar o mesmo item ao mesmo tempo e um não é concluído, de tal modo que o outro ciclo não pode adquirir um bloqueio no tempo especificado.</span><span class="sxs-lookup"><span data-stu-id="4e320-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="4e320-179">Se essa situação ocorrer, o log de trabalhos em lotes conterá informações de que o bloqueio do item não pôde ser adquirido e, nesse caso, o ciclo que falhou deverá ser processado novamente.</span><span class="sxs-lookup"><span data-stu-id="4e320-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="4e320-180">Como o processamento está acontecendo em paralelo, os dados devem ser mantidos em tabelas diferentes para rastrear o estado do processamento.</span><span class="sxs-lookup"><span data-stu-id="4e320-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="4e320-181">Isso significa que os logs para os trabalhos em lotes podem conter erros, como erros de chave duplicados.</span><span class="sxs-lookup"><span data-stu-id="4e320-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="4e320-182">Os erros das tarefas em lotes também fazem parte do log de trabalhos em lotes.</span><span class="sxs-lookup"><span data-stu-id="4e320-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="4e320-183">As informações mais importantes normalmente estão na parte inferior.</span><span class="sxs-lookup"><span data-stu-id="4e320-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="4e320-184">Em casos raros, por exemplo, se a conexão SQL tiver sido encerrada, é possível que o processamento do ciclo termine em um estado inconsistente no qual o trabalho em lotes parece estar em execução, mas o processamento é interrompido.</span><span class="sxs-lookup"><span data-stu-id="4e320-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="4e320-185">O ciclo não pode manipular erros como esse e, portanto, ocorrerá uma tentativa de limpar os ciclos que falharam quando o próximo ciclo for executado.</span><span class="sxs-lookup"><span data-stu-id="4e320-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="4e320-186">Como alternativa, se o ciclo atual estiver em um estado inconsistente, execute as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="4e320-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="4e320-187">Vá para **Gerenciamento de depósito \> Ondas de saída \> Ondas de remessa \> Todas as ondas**.</span><span class="sxs-lookup"><span data-stu-id="4e320-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="4e320-188">Selecione o ciclo que precisa ser limpo.</span><span class="sxs-lookup"><span data-stu-id="4e320-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="4e320-189">No Painel de Ações, abra a guia **Ciclo** e, no grupo **Ciclo**, selecione **Limpar dados do ciclo**.</span><span class="sxs-lookup"><span data-stu-id="4e320-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="4e320-190">Solucionar problemas usando o log de progresso do ciclo</span><span class="sxs-lookup"><span data-stu-id="4e320-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="4e320-191">Se a opção **Criar log de progresso do ciclo** estiver habilitada na página **Parâmetros de gerenciamento de depósito**, um registro de log será criado sempre que a alocação de um item e suas dimensões começar e terminar.</span><span class="sxs-lookup"><span data-stu-id="4e320-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="4e320-192">Você só deverá habilitar esse log quando precisar dele, por exemplo, durante o teste inicial ou para solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="4e320-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="4e320-193">Quando esta opção estiver habilitada, você poderá exibir o log executando as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="4e320-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="4e320-194">Vá para **Gerenciamento de depósito \> Ondas de saída \> Ondas de remessa \> Todas as ondas**.</span><span class="sxs-lookup"><span data-stu-id="4e320-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="4e320-195">Selecione o ciclo que deseja inspecionar.</span><span class="sxs-lookup"><span data-stu-id="4e320-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="4e320-196">No Painel de Ação, abra a guia **Ciclo** e, no grupo **Ciclo**, selecione **Progresso**.</span><span class="sxs-lookup"><span data-stu-id="4e320-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
