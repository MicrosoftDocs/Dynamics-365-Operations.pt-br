---
title: Agendar a criação de trabalho durante o ciclo
description: Este tópico descreve como configurar e usar o método de processamento Agendar ciclo de criação de trabalho.
author: perlynne
ms.date: 01/14/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: ''
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2021-01-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: e4258c03b12a80a5bd81328ae7418835d68f82e7
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/01/2021
ms.locfileid: "5835693"
---
# <a name="schedule-work-creation-during-wave"></a><span data-ttu-id="48f13-103">Agendar a criação de trabalho durante o ciclo</span><span class="sxs-lookup"><span data-stu-id="48f13-103">Schedule work creation during wave</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="48f13-104">Use o recurso *Agendar criação de trabalho* como parte do seu processo cíclico para ajudar a aumentar o resultado do processamento em ciclos, fazendo com que o sistema crie o trabalho usando o processamento paralelo.</span><span class="sxs-lookup"><span data-stu-id="48f13-104">Use the *Schedule work creation* feature as part of your waving process to help increase wave processing throughput by having the system create work using parallel processing.</span></span>

<span data-ttu-id="48f13-105">Quando a funcionalidade estiver habilitada, o trabalho planejado será criado automaticamente, e o sistema eventualmente irá processá-lo para criar o trabalho real.</span><span class="sxs-lookup"><span data-stu-id="48f13-105">When the functionality is enabled, planned work will automatically get created, which the system will eventually process to create actual work.</span></span> <span data-ttu-id="48f13-106">Se o número de linhas de carga de ciclos atingir um limite predeterminado, o sistema criará o trabalho real mais rapidamente, aplicando o processamento paralelo assíncrono.</span><span class="sxs-lookup"><span data-stu-id="48f13-106">If the number of wave load lines reaches a predetermined threshold, the system will create actual work more quickly by applying parallel, asynchronous processing.</span></span>

## <a name="turn-on-the-scheduled-work-creation-features-in-feature-management"></a><span data-ttu-id="48f13-107">Ativar os recursos de criação de trabalho agendado no gerenciamento de recursos</span><span class="sxs-lookup"><span data-stu-id="48f13-107">Turn on the scheduled work creation features in feature management</span></span>

<span data-ttu-id="48f13-108">Para usar os recursos descritos neste tópico, eles devem ser ativados para o seu sistema.</span><span class="sxs-lookup"><span data-stu-id="48f13-108">To use the features described in this topic, they must be turned on for your system.</span></span> <span data-ttu-id="48f13-109">Use o espaço de trabalho [Gerenciamento de recurso](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) para ativar os seguintes recursos na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="48f13-109">Use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) workspace to turn on the following features in the following order:</span></span>

1. <span data-ttu-id="48f13-110">**Bloqueio de trabalho em toda a organização** - necessário para a configuração manual e automática da criação de trabalho agendado.</span><span class="sxs-lookup"><span data-stu-id="48f13-110">**Organization-wide work blocking** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="48f13-111">**Agendar criação de trabalho** - necessário para a configuração manual e automática da criação de trabalho agendado.</span><span class="sxs-lookup"><span data-stu-id="48f13-111">**Schedule work creation** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="48f13-112">**Método do ciclo "Agendar criação de trabalho" em toda a organização** - necessário para a configuração automática da criação de trabalho agendado.</span><span class="sxs-lookup"><span data-stu-id="48f13-112">**Organization-wide "Schedule work creation" wave method** - Required for automatic configuration of scheduled work creation.</span></span> <span data-ttu-id="48f13-113">Esse recurso não será necessário se você só usar a configuração manual.</span><span class="sxs-lookup"><span data-stu-id="48f13-113">You don't need this feature if you will only use manual configuration.</span></span>

<a name="Auto-enable-schedule-work-creation"></a>

## <a name="automatically-configure-scheduled-work-creation"></a><span data-ttu-id="48f13-114">Configurar automaticamente a criação do trabalho agendado</span><span class="sxs-lookup"><span data-stu-id="48f13-114">Automatically configure scheduled work creation</span></span>

<span data-ttu-id="48f13-115">Se você habilitar o recurso *método do ciclo "Agendar criação de trabalho" em toda a organização* ocorrerá o seguinte automaticamente em seu sistema:</span><span class="sxs-lookup"><span data-stu-id="48f13-115">If you enable the *Organization-wide "Schedule work creation" wave method* feature, the following automatically occurs on your system:</span></span>

- <span data-ttu-id="48f13-116">O método do ciclo *Agendar criação de trabalho* (`WHSScheduleWorkCreationWaveStepMethod`) foi adicionado e configurado para ser executado em paralelo em todas as entidades legais.</span><span class="sxs-lookup"><span data-stu-id="48f13-116">The *Schedule work creation* wave method (`WHSScheduleWorkCreationWaveStepMethod`) is added and configured to run in parallel across all legal entities.</span></span>
- <span data-ttu-id="48f13-117">Os modelos de ciclo de todas as entidades legais têm **Tipo de modelo de ciclo** definido como *Remessa* e o **Status do modelo** definido como *Válido* terá o método *Criar trabalho* substituído pelo método *Agendar criação de trabalho*.</span><span class="sxs-lookup"><span data-stu-id="48f13-117">Wave templates from all legal entities that have **Wave template type** set to *Shipping* and **Template status** set to *Valid* will have the *Create work* method replaced by the *Schedule work creation* method.</span></span> <span data-ttu-id="48f13-118">No entanto, os modelos do ciclo das entidades legais em que o método *Criar trabalho* tem permissão para serem repetidos não serão modificados.</span><span class="sxs-lookup"><span data-stu-id="48f13-118">However, wave templates from legal entities where the *Create work* method is allowed to be repeatable will not be modified.</span></span>
- <span data-ttu-id="48f13-119">As configurações de tarefas para o método *Agendar criação de trabalho* serão criadas para todos os depósitos de todas as entidades legais que têm **Usar processos de gerenciamento de depósito** habilitados.</span><span class="sxs-lookup"><span data-stu-id="48f13-119">Task configurations for the *Schedule work creation* method will be created for all warehouses from all legal entities that have **Use warehouse management processes** enabled.</span></span> <span data-ttu-id="48f13-120">Isso significa que o método *Agendar criação de trabalho* agora será executado em paralelo, por padrão.</span><span class="sxs-lookup"><span data-stu-id="48f13-120">This means that the *Schedule work creation* method will now run in parallel by default.</span></span> <span data-ttu-id="48f13-121">Os depósitos existentes para os quais você altera **Usar processos de gerenciamento de depósito** de *Não* para *Sim* também executarão esse método em paralelo por padrão.</span><span class="sxs-lookup"><span data-stu-id="48f13-121">Existing warehouses for which you change **Use warehouse management processes** from *No* to *Yes* will also run this method in parallel by default.</span></span>
- <span data-ttu-id="48f13-122">Todas as entidades legais processarão ciclos em lotes e a opção **Esperar por bloqueio (ms)** será definida como um valor padrão *60.000* ms, se tiver sido definida anteriormente como *0* ms.</span><span class="sxs-lookup"><span data-stu-id="48f13-122">All legal entities will process waves in batches and **Wait for lock (ms)** will be set to a default value of *60,000* ms if it was previously set to *0* ms.</span></span>
- <span data-ttu-id="48f13-123">Todos os novos modelos de ciclo que você criar terão o método de ciclo *Agendar criação de trabalho*, em vez do método *Criar Trabalho*.</span><span class="sxs-lookup"><span data-stu-id="48f13-123">All the new wave templates that you create will have the *Schedule work creation* wave method instead of the *Create Work* method.</span></span>

<span data-ttu-id="48f13-124">As configurações de processamento de tarefas e de ciclo existentes também serão mantidas para todas as entidades legais que já foram configuradas para processar ciclos em lotes e para todos os depósitos que já tenham sido configurados para usar o método *Agendar criação de trabalho* em paralelo.</span><span class="sxs-lookup"><span data-stu-id="48f13-124">The existing task and wave processing configurations will also be kept for all legal entities that are already configured to process waves in batches, and for all warehouses that are already configured to use the *Schedule work creation* method in parallel.</span></span>

<span data-ttu-id="48f13-125">Se necessário, você pode reverter manualmente qualquer uma ou todas as configurações feitas automaticamente ao habilitar o recurso *Método do ciclo de Agendar criação de trabalho de toda a organização*, fazendo o seguinte:</span><span class="sxs-lookup"><span data-stu-id="48f13-125">If necessary, you can manually revert any or all of the settings made automatically when you enabled the *Organization-wide Schedule work creation wave method* feature by doing the following:</span></span>

- <span data-ttu-id="48f13-126">Para modelos de ciclo, vá para **Gerenciamento de depósito \> Configuração \> Ciclos \> Modelos do ciclo**.</span><span class="sxs-lookup"><span data-stu-id="48f13-126">For wave templates, go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span> <span data-ttu-id="48f13-127">Substitua o método *Agendar criação de trabalho* por *Criar trabalho*.</span><span class="sxs-lookup"><span data-stu-id="48f13-127">Replace *Schedule work creation* method with *Create work*.</span></span>
- <span data-ttu-id="48f13-128">Para parâmetros de depósito, vá para **Gerenciamento de depósito \>Configuração \> Parâmetros de gerenciamento de depósito**.</span><span class="sxs-lookup"><span data-stu-id="48f13-128">For warehouse parameters, go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="48f13-129">Na guia **Processamento do ciclo**, aplique os valores preferidos para **Processar ciclos em lotes** e **Aguardar bloqueio (ms)**.</span><span class="sxs-lookup"><span data-stu-id="48f13-129">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="48f13-130">Para métodos de ciclo, vá para **Gerenciamento de depósito \> Configuração \> Ciclos \> Métodos de processo do ciclo**.</span><span class="sxs-lookup"><span data-stu-id="48f13-130">For the wave methods, go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="48f13-131">Selecione `WHSScheduleWorkCreationWaveStepMethod` e no Painel de Ação, selecione **Configuração da tarefa**.</span><span class="sxs-lookup"><span data-stu-id="48f13-131">Select `WHSScheduleWorkCreationWaveStepMethod` and, on the Action Pane, select **Task configuration**.</span></span> <span data-ttu-id="48f13-132">Modifique ou exclua o número de tarefas em lotes e o grupo de ciclos atribuído a cada depósito listado, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="48f13-132">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="manually-configure-scheduled-work-creation"></a><span data-ttu-id="48f13-133">Configurar manualmente a criação do trabalho agendado</span><span class="sxs-lookup"><span data-stu-id="48f13-133">Manually configure scheduled work creation</span></span>

<span data-ttu-id="48f13-134">Se você não tiver habilitado o [*recurso de método do ciclo "Agendar criação de trabalho" em toda a organização*](#Auto-enable-schedule-work-creation), poderá usar os procedimentos fornecidos nesta seção para configurar manualmente a criação de trabalho agendado, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="48f13-134">If you didn't enable the [*Organization-wide "Schedule work creation" wave method* feature](#Auto-enable-schedule-work-creation), then you can use the procedures provided in this section to manually configure scheduled work creation as needed.</span></span>

### <a name="manually-enable-batch-processing-of-waves"></a><span data-ttu-id="48f13-135">Habilitar o processamento manualmente em lotes de ciclos</span><span class="sxs-lookup"><span data-stu-id="48f13-135">Manually enable batch processing of waves</span></span>

<span data-ttu-id="48f13-136">Para aproveitar um método assíncrono paralelo para criar trabalho de depósito, o processo de ciclos deve estar sendo executado em lotes.</span><span class="sxs-lookup"><span data-stu-id="48f13-136">To take advantage of a parallel asynchronous method to create warehouse work, your wave process must be running in batch.</span></span> <span data-ttu-id="48f13-137">Para fazer essa configuração:</span><span class="sxs-lookup"><span data-stu-id="48f13-137">To set this up:</span></span>

1. <span data-ttu-id="48f13-138">Vá para **Gerenciamento de depósito \> Configuração \> Parâmetros de gerenciamento de depósito**.</span><span class="sxs-lookup"><span data-stu-id="48f13-138">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="48f13-139">Na guia **Geral**, defina a opção **Processar ciclos em lote** como *Sim*.</span><span class="sxs-lookup"><span data-stu-id="48f13-139">On the **General** tab, set **Process waves in batch** to *Yes*.</span></span> <span data-ttu-id="48f13-140">Se preferir, você também pode selecionar um **Grupo de lotes de processamento em ciclos** dedicado para impedir que o processamento de fila em lotes seja executado ao mesmo tempo que outros processos.</span><span class="sxs-lookup"><span data-stu-id="48f13-140">Optionally, you can also select a dedicated **Wave processing batch group** to prevent your batch queue processing from running at the same time as other processes.</span></span>
1. <span data-ttu-id="48f13-141">Defina o **Tempo de espera para o bloqueio (ms)**, que se aplica quando o sistema está processando vários ciclos ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="48f13-141">Set the **Wait for lock (ms) time**, which applies when the system is processing several waves at the same time.</span></span> <span data-ttu-id="48f13-142">Para a maioria dos processos em ciclos maiores, recomendamos um valor de *60.000*.</span><span class="sxs-lookup"><span data-stu-id="48f13-142">For most larger waving processes, we recommend a value of *60000*.</span></span>

### <a name="manually-enable-the-new-wave-step-method-for-existing-wave-templates"></a><span data-ttu-id="48f13-143">Habilitar manualmente o novo método de etapa de ciclo para modelos de ciclo existentes</span><span class="sxs-lookup"><span data-stu-id="48f13-143">Manually enable the new wave step method for existing wave templates</span></span>

<span data-ttu-id="48f13-144">Comece criando o novo método de etapa de ciclo e habilite-o para o processamento de tarefas assíncronas paralelas.</span><span class="sxs-lookup"><span data-stu-id="48f13-144">Start by creating the new wave step method and enabling it for parallel asynchronous task processing.</span></span>

1. <span data-ttu-id="48f13-145">Vá para **Gerenciamento de depósito \> Configuração \> Ondas \> Métodos de processo de onda**.</span><span class="sxs-lookup"><span data-stu-id="48f13-145">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span>
1. <span data-ttu-id="48f13-146">Selecione  **Gerar método novamente** e observe que *WHSScheduleWorkCreationWaveStepMethod* foi adicionado à lista de métodos de processo de ciclo que podem ser usados nos modelos de ciclo de remessa.</span><span class="sxs-lookup"><span data-stu-id="48f13-146">Select  **Regenerate method** and note that *WHSScheduleWorkCreationWaveStepMethod* has been added to the list of wave process methods you can use in your shipping wave templates.</span></span>
1. <span data-ttu-id="48f13-147">Selecione o registro com o **Nome do método** *WHSScheduleWorkCreationWaveStepMethod* e selecione **Configuração de tarefas**.</span><span class="sxs-lookup"><span data-stu-id="48f13-147">Select the record with the **Method name** *WHSScheduleWorkCreationWaveStepMethod* and select **Task configuration**.</span></span>
1. <span data-ttu-id="48f13-148">Para adicionar uma nova linha à grade, selecione **Novo** no Painel de Ações e use as seguintes configurações:</span><span class="sxs-lookup"><span data-stu-id="48f13-148">To add a new row to the grid, select **New** on the Action Pane and use the following settings:</span></span>

    - <span data-ttu-id="48f13-149">**Depósito** - Selecione o depósito que será usado para agendar o processamento de criação de trabalho.</span><span class="sxs-lookup"><span data-stu-id="48f13-149">**Warehouse** - Select the warehouse you will use to schedule work creation processing.</span></span>
    - <span data-ttu-id="48f13-150">**Número máximo de tarefas em lotes** - Especifique um número máximo de tarefas em lotes.</span><span class="sxs-lookup"><span data-stu-id="48f13-150">**Maximum number of batch tasks** - Specify a maximum number of batch tasks.</span></span> <span data-ttu-id="48f13-151">Na maioria dos casos, esse valor deve estar no intervalo de 8-16, mas recomendamos que você experimente a configuração ideal com base nos seus cenários.</span><span class="sxs-lookup"><span data-stu-id="48f13-151">In most cases, this value should be in the range from 8-16, however we recommend that you experiment with the optimal setting based on your scenarios.</span></span>
    - <span data-ttu-id="48f13-152">**Grupo de lotes de processamento em ciclos** - Selecione um grupo de lotes de processamento em ciclos dedicados para otimizar o processamento da fila de lotes.</span><span class="sxs-lookup"><span data-stu-id="48f13-152">**Wave processing batch group** - Select a dedicated wave processing batch group to optimize your batch queue processing.</span></span>

<span data-ttu-id="48f13-153">Agora, você está pronto para atualizar um modelo de ciclo existente (ou criar um novo) para usar o método de processamento em ciclos *Agendar criação de trabalho*.</span><span class="sxs-lookup"><span data-stu-id="48f13-153">Now you are ready to update an existing wave template (or create a new one) to use the *Schedule work creation* wave processing method.</span></span>

1. <span data-ttu-id="48f13-154">Vá para **Gerenciamento de depósito \> Configuração \> Ciclos \> Modelos de ciclo**.</span><span class="sxs-lookup"><span data-stu-id="48f13-154">Go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span>
1. <span data-ttu-id="48f13-155">Selecione **Editar** no Painel de Ações.</span><span class="sxs-lookup"><span data-stu-id="48f13-155">Select **Edit** on the Action Pane.</span></span>
1. <span data-ttu-id="48f13-156">No painel de lista, selecione o modelo de ciclo que deseja atualizar (se você estiver testando com dados de demonstração, poderá usar *24 Padrão de remessa*).</span><span class="sxs-lookup"><span data-stu-id="48f13-156">In the list pane, select the wave template you would like to update (if you are testing using demo data, then you could use *24 Shipping default*).</span></span>
1. <span data-ttu-id="48f13-157">Expanda a guia rápida **Métodos** e selecione a linha com o **Nome** *Agendar criação de trabalho* na grade **Métodos restantes**.</span><span class="sxs-lookup"><span data-stu-id="48f13-157">Expand the **Methods** FastTab and select the row with the **Name** *Schedule work creation* in the **Remaining methods** grid.</span></span>
1. <span data-ttu-id="48f13-158">Selecione a seta apontando para a coluna **Métodos selecionados** para mover a linha selecionada para essa coluna.</span><span class="sxs-lookup"><span data-stu-id="48f13-158">Select the arrow pointing to the **Selected methods** column to move the selected row to that column.</span></span> <span data-ttu-id="48f13-159">(Você só pode ter um método selecionado de cada vez que use o `WHSScheduleWorkCreationWaveStepMethod` ou `createWork`, de forma que a linha existente com o **Nome do método** `createWork` seja movida automaticamente para a grade **Métodos restantes**.)</span><span class="sxs-lookup"><span data-stu-id="48f13-159">(You can only have one selected method at a time that uses either `WHSScheduleWorkCreationWaveStepMethod` or `createWork`, so the existing row with **Method name** `createWork` is automatically moved to the **Remaining methods** grid.)</span></span>

## <a name="set-wave-task-processing-threshold-data"></a><span data-ttu-id="48f13-160">Definir dados do limite de processamento de tarefa de ciclo</span><span class="sxs-lookup"><span data-stu-id="48f13-160">Set wave task processing threshold data</span></span>

<span data-ttu-id="48f13-161">O sistema criará dados padrão de limite de processamento de tarefa de ciclo na primeira vez que um processo de ciclo for executado usando qualquer processamento baseado em tarefa.</span><span class="sxs-lookup"><span data-stu-id="48f13-161">The system will create default wave task processing threshold data the first time a wave process runs using any task-based processing.</span></span> <span data-ttu-id="48f13-162">Os dados são usados para controlar quando o processamento de ciclo será executado assincronamente e será baseado em tarefas, o que permite processar e criar trabalhos em paralelo.</span><span class="sxs-lookup"><span data-stu-id="48f13-162">The data is used to control when wave processing will run asynchronously and be task-based, which enables it to process and create work in parallel.</span></span>

<span data-ttu-id="48f13-163">Os dados padrão usarão inicialmente um valor limite de 15 para o número mínimo de linhas de carregamento (`MINIMUMWAVELOADLINES`).</span><span class="sxs-lookup"><span data-stu-id="48f13-163">The default data will initially use a threshold value of 15 for the minimum number of load lines (`MINIMUMWAVELOADLINES`).</span></span> <span data-ttu-id="48f13-164">Isso significa que, quando o sistema processa um ciclo com mais de 15 linhas de cargas , ele usará o processamento de tarefa assíncrona.</span><span class="sxs-lookup"><span data-stu-id="48f13-164">This means that when the system processes a wave with more than 15 loads lines, it will use asynchronous task processing.</span></span> <span data-ttu-id="48f13-165">Você pode inserir/atualizar manualmente esses dados na tabela `WHSWaveTaskProcessingThresholdParameters` em seus ambientes de teste.</span><span class="sxs-lookup"><span data-stu-id="48f13-165">You can manually insert/update this data in the `WHSWaveTaskProcessingThresholdParameters` table in your test environments.</span></span> <span data-ttu-id="48f13-166">Se você precisar alterar esta configuração em um ambiente de produção, deverá contatar o Suporte da Microsoft para solicitar a atualização.</span><span class="sxs-lookup"><span data-stu-id="48f13-166">If you need to change this setting in a production environment, you must contact Microsoft Support to request the update.</span></span>

## <a name="work-with-the-scheduled-work-creation"></a><span data-ttu-id="48f13-167">Trabalhar com a criação de trabalho agendado</span><span class="sxs-lookup"><span data-stu-id="48f13-167">Work with the scheduled work creation</span></span>

<span data-ttu-id="48f13-168">Para obter detalhes sobre como trabalhar com a criação de trabalho agendado, consulte [Criação e processamento de ciclo](wave-processing.md).</span><span class="sxs-lookup"><span data-stu-id="48f13-168">For details about how to work with scheduled work creation, see [Wave creation and processing](wave-processing.md).</span></span> 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
