---
title: Solucionar problemas de gerenciamento de custos
description: Este tópico descreve como corrigir problemas que podem ocorrer ao trabalhar com gerenciamento de custos.
author: riluan
manager: tfehr
ms.date: 10/13/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventAgingStorage, InventAgingStorageChart, InventAgingStorageDetails, InventValueProcess, InventValueReportSetup, InventClosing
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: riluan
ms.search.validFrom: 2020-10-13
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: dceaca64132857d796a16c2450a372ba05712cf5
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/15/2021
ms.locfileid: "5262444"
---
# <a name="troubleshoot-cost-management"></a><span data-ttu-id="b43fa-103">Solucionar problemas de gerenciamento de custos</span><span class="sxs-lookup"><span data-stu-id="b43fa-103">Troubleshoot cost management</span></span>

<span data-ttu-id="b43fa-104">Este tópico descreve como corrigir problemas que podem ocorrer ao trabalhar com gerenciamento de custos.</span><span class="sxs-lookup"><span data-stu-id="b43fa-104">This topic describes how to fix issues that you might encounter while working with cost management.</span></span>

## <a name="functional-gaps-between-the-inventory-valueaging-reports-and-their-storage-versions"></a><span data-ttu-id="b43fa-105">Lacunas funcionais entre os relatórios de valor de estoque/classificação por vencimento e suas versões de armazenamento</span><span class="sxs-lookup"><span data-stu-id="b43fa-105">Functional gaps between the inventory value/aging reports and their storage versions</span></span>

<span data-ttu-id="b43fa-106">Os recursos [Armazenamento de relatório de classificação por vencimento do estoque](inventory-aging-report-storage.md) e [Relatório de armazenamento de valor de estoque](inventory-value-report-storage.md) permitem que o Supply Chain Management exiba grandes volumes de transações de estoque.</span><span class="sxs-lookup"><span data-stu-id="b43fa-106">The [Inventory aging report storage](inventory-aging-report-storage.md) and [Inventory value storage report](inventory-value-report-storage.md) features enable Supply Chain Management to display large volumes of inventory transactions.</span></span> <span data-ttu-id="b43fa-107">Em cada caso, os resultados do relatório são salvos para navegação e exportação, diferentemente das versões sem armazenamento desses relatórios.</span><span class="sxs-lookup"><span data-stu-id="b43fa-107">In each case, the report results are saved for browsing and exporting, unlike with the non-storage versions of these reports.</span></span> <span data-ttu-id="b43fa-108">Contudo, algumas funcionalidades presentes nas versões sem armazenamento desses relatórios não existem nas versões com armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b43fa-108">However, some functionality that exists in the non-storage versions of these reports doesn't exist in the storage versions.</span></span> <span data-ttu-id="b43fa-109">As subseções a seguir resumem as diferenças e fornecem soluções alternativas.</span><span class="sxs-lookup"><span data-stu-id="b43fa-109">The following subsections summarize the differences and provide workarounds.</span></span>

### <a name="storage-reports-dont-include-subtotals-even-if-they-are-enabled-in-the-report-layout"></a><span data-ttu-id="b43fa-110">Os relatórios de armazenamento não incluem subtotais, mesmo se estiverem habilitados no layout do relatório</span><span class="sxs-lookup"><span data-stu-id="b43fa-110">Storage reports don't include subtotals, even if they are enabled in the report layout</span></span>

<span data-ttu-id="b43fa-111">Os subtotais podem causar problemas quando o resultado é exportado, especialmente se os usuários alterarem a sequência de registro.</span><span class="sxs-lookup"><span data-stu-id="b43fa-111">Subtotals can cause issues when the result is exported, especially if users change the record sequence.</span></span>

<span data-ttu-id="b43fa-112">Para verificar os subtotais, você pode exportar o resultado para o Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="b43fa-112">To check the subtotals, you can export the result into Microsoft Excel.</span></span> <span data-ttu-id="b43fa-113">Como alternativa, se você deseja verificar os subtotais no Supply Chain Management, use [Gerenciamento de recursos](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) para habilitar os recursos *Novo controle de grade* e *Agrupamento (versão prévia) em grades*, que fornecem uma maneira muito mais flexível de ver o subtotal para qualquer grupo por coluna.</span><span class="sxs-lookup"><span data-stu-id="b43fa-113">Alternatively, if you want to check subtotals within Supply Chain Management, use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) to enable the *New grid control* and *(Preview) Grouping in grids* features, which provide a much more flexible way to see the subtotal for any group by column.</span></span> <span data-ttu-id="b43fa-114">Para obter mais informações, consulte [Recursos de grade](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="b43fa-114">For more information, see [Grid capabilities](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span></span>

### <a name="inventory-value-storage-report-doesnt-support-ledger-account-information"></a><span data-ttu-id="b43fa-115">O relatório de armazenamento do valor do estoque não é compatível com informações da conta contábil</span><span class="sxs-lookup"><span data-stu-id="b43fa-115">Inventory value storage report doesn't support ledger account information</span></span>

<span data-ttu-id="b43fa-116">Você pode executar o balancete para obter o saldo das contas de estoque e compará-lo com o relatório **Armazenamento de valor de estoque**.</span><span class="sxs-lookup"><span data-stu-id="b43fa-116">You can run the trial balance to get the inventory accounts balance and compare that to the **Inventory value storage** report.</span></span>

## <a name="warnings-or-errors-are-shown-when-changing-a-ledger-period-status-without-closing-inventory"></a><span data-ttu-id="b43fa-117">Avisos ou erros são mostrados durante a alteração do status de um período contábil sem fechar o estoque</span><span class="sxs-lookup"><span data-stu-id="b43fa-117">Warnings or errors are shown when changing a ledger period status without closing inventory</span></span>

<span data-ttu-id="b43fa-118">A Microsoft introduziu as seguintes validações para evitar problemas causados por um processo incorreto de final de período em relação aos custos.</span><span class="sxs-lookup"><span data-stu-id="b43fa-118">Microsoft introduced the following validations to prevent issues caused by an incorrect period-end process around costing.</span></span> <span data-ttu-id="b43fa-119">Se você encontrar qualquer uma das seguintes mensagens de erro, consulte [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) para obter mais informações sobre como resolver esses problemas.</span><span class="sxs-lookup"><span data-stu-id="b43fa-119">If you encounter any of the following error messages, refer to [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) for more information about how to resolve these issues.</span></span>

- <span data-ttu-id="b43fa-120">Você está prestes a executar um recálculo com uma data %1 (10-02-2019).</span><span class="sxs-lookup"><span data-stu-id="b43fa-120">You are about to execute a Recalculation with a date %1 (10-02-2019).</span></span> <span data-ttu-id="b43fa-121">O último recálculo registrado foi executado em um período anterior com uma data %2 (20-01-2019).</span><span class="sxs-lookup"><span data-stu-id="b43fa-121">The last registered Recalculation was executed in a previous period with a date %2 (20-01-2019).</span></span> <span data-ttu-id="b43fa-122">Nenhuma execução de fechamento de estoque com uma data %3 (31-01-2019) que corresponde ao final de período foi registrada.</span><span class="sxs-lookup"><span data-stu-id="b43fa-122">No execution of an inventory close with a date %3 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="b43fa-123">Lembre-se de executar um fechamento de estoque a partir da data %3 (31-01-2019) que corresponde ao final do período.</span><span class="sxs-lookup"><span data-stu-id="b43fa-123">Please remember to execute an inventory close as of %3 (31-01-2019) matching the period end.</span></span> <span data-ttu-id="b43fa-124">A avaliação de estoques, custo dos produtos vendidos e variações pode não estar correta no razão auxiliar ou na contabilidade até que isso seja executado.</span><span class="sxs-lookup"><span data-stu-id="b43fa-124">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="b43fa-125">Você está prestes a alterar o status do período contábil %1 para %2.</span><span class="sxs-lookup"><span data-stu-id="b43fa-125">You are about to change the status of ledger period %1 to %2.</span></span> <span data-ttu-id="b43fa-126">Nenhuma execução de fechamento de estoque com uma data %3 que corresponde ao final do período foi registrada.</span><span class="sxs-lookup"><span data-stu-id="b43fa-126">No execution of inventory close with a date %3 matching period end has been registered.</span></span> <span data-ttu-id="b43fa-127">Execute um fechamento de estoque a partir de %3 que corresponde ao final do período antes de alterar o status.</span><span class="sxs-lookup"><span data-stu-id="b43fa-127">Please execute an inventory close as of %3 matching the period end before changing the status.</span></span> <span data-ttu-id="b43fa-128">A avaliação de estoques, custo dos produtos vendidos e variações pode não estar correta no razão auxiliar ou na contabilidade até que isso seja executado.</span><span class="sxs-lookup"><span data-stu-id="b43fa-128">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span> <span data-ttu-id="b43fa-129">Relatado por entidade legal %4.</span><span class="sxs-lookup"><span data-stu-id="b43fa-129">Reported from legal entity %4.</span></span> <span data-ttu-id="b43fa-130">Por enquanto, é informativo, mas será necessário executar essa ação no futuro.</span><span class="sxs-lookup"><span data-stu-id="b43fa-130">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="b43fa-131">A estrutura da conta %1 foi alterada.</span><span class="sxs-lookup"><span data-stu-id="b43fa-131">The Account structure %1 has been changed.</span></span> <span data-ttu-id="b43fa-132">Uma ou mais contas principais %2 não existem mais.</span><span class="sxs-lookup"><span data-stu-id="b43fa-132">One or more main accounts %2 no longer exist.</span></span> <span data-ttu-id="b43fa-133">Essas contas principais são exigidas por %3 com uma data %4.</span><span class="sxs-lookup"><span data-stu-id="b43fa-133">These Main accounts are required by the %3 with a date %4.</span></span> <span data-ttu-id="b43fa-134">Adicione essas contas principais à estrutura de contas %1 antes de retomar o trabalho %3.</span><span class="sxs-lookup"><span data-stu-id="b43fa-134">Please add these Main accounts to the Account structure %1 before you can resume the %3 job.</span></span> <span data-ttu-id="b43fa-135">Por enquanto, é informativo, mas será necessário executar essa ação no futuro.</span><span class="sxs-lookup"><span data-stu-id="b43fa-135">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="b43fa-136">Você está prestes a executar um fechamento de estoque com uma data %1 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="b43fa-136">You are about to execute an inventory close with a date %1 (31-01-2019).</span></span> <span data-ttu-id="b43fa-137">Nenhuma execução de custos de fluxo inverso com uma data %2 (31-01-2019) que corresponde ao fim do período foi registrada.</span><span class="sxs-lookup"><span data-stu-id="b43fa-137">No execution of backflush costing calculation with a date %2 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="b43fa-138">Lembre-se de executar um cálculo de custos de fluxo inverso com uma data de %3 (31-01-2019) que corresponda ao final do período.</span><span class="sxs-lookup"><span data-stu-id="b43fa-138">Please remember to execute a backflush costing calculation with a date of %3 (31-01-2019) matching period end.</span></span> <span data-ttu-id="b43fa-139">A avaliação de estoques, custo dos produtos vendidos e variações pode não estar correta no razão auxiliar ou na contabilidade até que isso seja executado.</span><span class="sxs-lookup"><span data-stu-id="b43fa-139">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="b43fa-140">Você está prestes a executar um cálculo de custos de fluxo inverso com uma data %1 (28-02-2019).</span><span class="sxs-lookup"><span data-stu-id="b43fa-140">You are about to execute a backflush costing calculation with a date %1 (28-02-2019).</span></span> <span data-ttu-id="b43fa-141">O último cálculo de custos de fluxo inverso registrado foi executado em um período anterior com uma data %2 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="b43fa-141">The last registered backflush costing calculation was executed in a previous period with a date %2 (31-01-2019).</span></span> <span data-ttu-id="b43fa-142">Nenhuma execução de fechamento de estoque com uma data %3 (31-01-2019) que corresponde ao final de um período foi registrada.</span><span class="sxs-lookup"><span data-stu-id="b43fa-142">No execution of an inventory close with a date %3 (31-01-2019) matching a period end has been registered.</span></span>
<span data-ttu-id="b43fa-143">Lembre-se de executar um fechamento de estoque a partir da data %3 (31-01-2019) que corresponde ao final de um período.</span><span class="sxs-lookup"><span data-stu-id="b43fa-143">Please remember to execute an inventory close as of %3 (31-01-2019) matching a period end.</span></span> <span data-ttu-id="b43fa-144">A avaliação de estoques, custo dos produtos vendidos e variações podem não estar corretos no razão auxiliar ou na contabilidade até que o fechamento do estoque seja executado.</span><span class="sxs-lookup"><span data-stu-id="b43fa-144">The valuation of inventories, cost of goods sold and variances may not be correct in subledger or general ledger until the inventory close has been executed.</span></span>

## <a name="inventory-aging-report-discrepancies"></a><span data-ttu-id="b43fa-145">Discrepâncias no relatório de classificação por vencimento do estoque</span><span class="sxs-lookup"><span data-stu-id="b43fa-145">Inventory aging report discrepancies</span></span>

<span data-ttu-id="b43fa-146">O **Relatório de classificação por vencimento do estoque** mostra diferentes valores quando exibidos em diferentes dimensões de armazenamento (como local ou depósito).</span><span class="sxs-lookup"><span data-stu-id="b43fa-146">The **Inventory aging report** shows different values when viewed at different storage dimensions (such as site or warehouse).</span></span> <span data-ttu-id="b43fa-147">Para obter mais informações sobre a lógica de relatório, consulte [Exemplos de relatório de classificação por vencimento do estoque e lógica](inventory-aging-report.md).</span><span class="sxs-lookup"><span data-stu-id="b43fa-147">For more information about the reporting logic, see [Inventory aging report examples and logic](inventory-aging-report.md).</span></span>

## <a name="an-update-conflict-occurs-when-the-inventory-valuation-method-is-either-standard-cost-or-moving-average"></a><span data-ttu-id="b43fa-148">Um conflito de atualização ocorre quando o método de avaliação de estoque é Custo padrão ou Média móvel</span><span class="sxs-lookup"><span data-stu-id="b43fa-148">An update conflict occurs when the inventory valuation method is either Standard cost or Moving average</span></span>

<span data-ttu-id="b43fa-149">Ao lançar documentos, como diários de estoque, faturas de ordens de compra ou faturas de ordens de venda em paralelo para escalabilidade e desempenho, você pode receber uma mensagem de erro sobre um conflito de atualização e alguns dos documentos podem não ser lançados.</span><span class="sxs-lookup"><span data-stu-id="b43fa-149">When you post documents such as inventory journals, purchase order invoices, or sales order invoices in parallel for scalability and performance, you might receive an error message about an update conflict, and some of the documents might not be posted.</span></span> <span data-ttu-id="b43fa-150">Esse problema pode ocorrer quando o método de avaliação de estoque é *Custo padrão* ou *Média móvel*.</span><span class="sxs-lookup"><span data-stu-id="b43fa-150">This issue can occur when the inventory valuation method is either *Standard cost* or *Moving average*.</span></span> <span data-ttu-id="b43fa-151">Esses dois métodos são métodos perpétuos de avaliação de custo.</span><span class="sxs-lookup"><span data-stu-id="b43fa-151">Both these methods are perpetual costing methods.</span></span> <span data-ttu-id="b43fa-152">Em outras palavras, o custo final é determinado no momento do lançamento.</span><span class="sxs-lookup"><span data-stu-id="b43fa-152">In other words, the final cost is determined at the time of posting.</span></span>

<span data-ttu-id="b43fa-153">Se você estiver usando o método *Média móvel*, a mensagem de erro se assemelhará a este exemplo:</span><span class="sxs-lookup"><span data-stu-id="b43fa-153">If you're using the *Moving average* method, the error message resembles this example:</span></span>

> <span data-ttu-id="b43fa-154">O valor de estoque xx.xx não é esperado após o cálculo de despesas proporcionais</span><span class="sxs-lookup"><span data-stu-id="b43fa-154">Inventory value xx.xx is not expected after the proportional expense calculation</span></span>

<span data-ttu-id="b43fa-155">Se você estiver usando o método *Custo padrão*, a mensagem de erro se assemelhará a este exemplo:</span><span class="sxs-lookup"><span data-stu-id="b43fa-155">If you're using the *Standard cost* method, the error message resembles this example:</span></span>

> <span data-ttu-id="b43fa-156">O custo padrão não corresponde ao valor do estoque financeiro após a atualização.</span><span class="sxs-lookup"><span data-stu-id="b43fa-156">The standard cost does not match with the financial inventory value after the update.</span></span> <span data-ttu-id="b43fa-157">Valor = xx.xx, Qtd. = yy.yy, Custo padrão = zz.zz</span><span class="sxs-lookup"><span data-stu-id="b43fa-157">Value = xx.xx, Qty = yy.yy, Standard cost = zz.zz</span></span>

<span data-ttu-id="b43fa-158">Até que a Microsoft lance uma solução para corrigir o problema, considere o uso das seguintes soluções alternativas para ajudar a evitar ou reduzir esses erros:</span><span class="sxs-lookup"><span data-stu-id="b43fa-158">Until Microsoft releases a solution to fix the issue, consider using the following workarounds to help avoid or reduce these errors:</span></span>

- <span data-ttu-id="b43fa-159">Relance os documentos com falha.</span><span class="sxs-lookup"><span data-stu-id="b43fa-159">Repost the failed documents.</span></span>
- <span data-ttu-id="b43fa-160">Crie documentos com menos linhas.</span><span class="sxs-lookup"><span data-stu-id="b43fa-160">Create documents that have fewer lines.</span></span>
- <span data-ttu-id="b43fa-161">Evite valores decimais no custo padrão.</span><span class="sxs-lookup"><span data-stu-id="b43fa-161">Avoid decimal values in the standard cost.</span></span> <span data-ttu-id="b43fa-162">Tente definir o custo padrão para que o campo **Quantidade de preço** seja definido como *1*.</span><span class="sxs-lookup"><span data-stu-id="b43fa-162">Try to define the standard cost so that the **Price quantity** field is set to *1*.</span></span> <span data-ttu-id="b43fa-163">Se for necessário especificar um valor **Quantidade de preço** maior do que *1*, tente minimizar o número de casas decimais no custo padrão da unidade.</span><span class="sxs-lookup"><span data-stu-id="b43fa-163">If you must specify a **Price quantity** value that is more than *1*, try to minimize the number of decimal places in the unit standard cost.</span></span> <span data-ttu-id="b43fa-164">(O ideal é que haja menos de duas casas decimais). Por exemplo, evite definir configurações de custo padrão como **Preço** = *10* e **Quantidade de preço** = *3*, pois elas produzirão um custo padrão de unidade de 3,333333 (no qual o valor decimal se repete).</span><span class="sxs-lookup"><span data-stu-id="b43fa-164">(Ideally, there should be fewer than two decimal places.) For example, avoid defining standard cost settings such as **Price** = *10* and **Price quantity** = *3*, because they will produce a unit standard cost of 3.333333 (where the decimal value repeats).</span></span>
- <span data-ttu-id="b43fa-165">Na maioria dos documentos, evite ter várias linhas que contenham a mesma combinação de dimensões de estoque financeiro e de produtos.</span><span class="sxs-lookup"><span data-stu-id="b43fa-165">In a majority of documents, avoid having multiple lines that hold the same combination of product and financial inventory dimensions.</span></span>
- <span data-ttu-id="b43fa-166">Reduza o grau de paralelização.</span><span class="sxs-lookup"><span data-stu-id="b43fa-166">Reduce the degree of parallelization.</span></span> <span data-ttu-id="b43fa-167">(Neste caso, o sistema pode ficar mais rápido, pois ocorrem menos conflitos de atualização e repetições).</span><span class="sxs-lookup"><span data-stu-id="b43fa-167">(In this case, your system might become faster, because fewer update conflicts and retries occur.)</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]