---
title: Avaliar o modelo de previsão de pagamento inicial do cliente (versão prévia)
description: Este tópico descreve as etapas que podem ser executadas para compreender o modelo de previsão de pagamento do cliente e avaliar sua eficácia.
author: ShivamPandey-msft
ms.date: 05/28/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-05-28
ms.dyn365.ops.version: AX 10.0.8
ms.openlocfilehash: 266f94b6a32c88307258aa99f2ac0c6bf9c50a84
ms.sourcegitcommit: 7d0cfb359a4abc7392ddb3f0b3e9539c40b7204d
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/14/2021
ms.locfileid: "5897903"
---
# <a name="evaluate-the-initial-customer-payment-prediction-model-preview"></a><span data-ttu-id="e8a97-103">Avaliar o modelo de previsão de pagamento inicial do cliente (versão prévia)</span><span class="sxs-lookup"><span data-stu-id="e8a97-103">Evaluate the initial customer payment prediction model (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="e8a97-104">Este tópico explica como avaliar um modelo de previsão depois de ter ativado o Finance Insights e gerado e treinado seu primeiro modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-104">This topic explains how to evaluate a prediction model after you've turned on Finance Insights and then generated and trained your first model.</span></span> <span data-ttu-id="e8a97-105">Este tópico aborda modelos para prever pagamentos de cliente.</span><span class="sxs-lookup"><span data-stu-id="e8a97-105">This topic addresses models for predicting customer payments.</span></span> <span data-ttu-id="e8a97-106">Ele descreve as etapas que podem ser executadas para compreender o modelo de previsão de pagamento do cliente e avaliar sua eficácia.</span><span class="sxs-lookup"><span data-stu-id="e8a97-106">It describes the steps that you can take to understand the customer payment prediction model and evaluate its effectiveness.</span></span>

## <a name="getting-details-about-the-model"></a><span data-ttu-id="e8a97-107">Obter detalhes sobre o modelo</span><span class="sxs-lookup"><span data-stu-id="e8a97-107">Getting details about the model</span></span>

<span data-ttu-id="e8a97-108">Na página **Parâmetros do Finance Insights** no Microsoft Dynamics 365 Finance, o link **Melhorar a precisão do modelo** aparece ao lado da pontuação de precisão.</span><span class="sxs-lookup"><span data-stu-id="e8a97-108">On the **Finance Insights parameters** page in Microsoft Dynamics 365 Finance, an **Improve model accuracy** link appears next to the accuracy score.</span></span>

<span data-ttu-id="e8a97-109">[![Link Melhorar a precisão do modelo](./media/prediction-model.png)](./media/prediction-model.png)</span><span class="sxs-lookup"><span data-stu-id="e8a97-109">[![Improve model accuracy link](./media/prediction-model.png)](./media/prediction-model.png)</span></span>

<span data-ttu-id="e8a97-110">Este link leva você para o AI Builder, no qual você pode saber mais sobre o modelo atual e também executar etapas para aprimorá-lo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-110">This link takes you to AI Builder, where you can learn more about the current model and also take steps to improve it.</span></span> <span data-ttu-id="e8a97-111">A ilustração a seguir mostra a página que é aberta.</span><span class="sxs-lookup"><span data-stu-id="e8a97-111">The following illustration shows the page that is opened.</span></span>

<span data-ttu-id="e8a97-112">[![AI Builder](./media/what-to-predict.png)](./media/what-to-predict.png)</span><span class="sxs-lookup"><span data-stu-id="e8a97-112">[![AI Builder](./media/what-to-predict.png)](./media/what-to-predict.png)</span></span>

<span data-ttu-id="e8a97-113">A página que é aberta mostra as seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="e8a97-113">The page that is opened shows the following information:</span></span>

- <span data-ttu-id="e8a97-114">Na seção **Desempenho**, a taxa de desempenho do modelo fornece a perspectiva sobre a qualidade do modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-114">In the **Performance** section, the model performance grade provides perspective on the quality of the model.</span></span> <span data-ttu-id="e8a97-115">Para obter mais informações sobre essa classificação, consulte [Desempenho do modelo de previsão](/ai-builder/prediction-performance) na documentação do AI Builder.</span><span class="sxs-lookup"><span data-stu-id="e8a97-115">For more information about this grade, see [Prediction model performance](/ai-builder/prediction-performance) in the AI Builder documentation.</span></span>
- <span data-ttu-id="e8a97-116">A seção **Dados mais influentes** mostra como os diferentes tipos de dados de entrada são importantes para o seu modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-116">The **Most influential data** section shows how important different input types of data were for your model.</span></span> <span data-ttu-id="e8a97-117">É possível avaliar essa lista e as porcentagens correspondentes para determinar se as informações são consistentes com o que você sabe sobre a sua empresa e o mercado.</span><span class="sxs-lookup"><span data-stu-id="e8a97-117">You can evaluate this list and the corresponding percentages to determine whether the information is consistent with what you know about your business and market.</span></span>

    <span data-ttu-id="e8a97-118">[![Seções Desempenho e Dados mais influentes para o modelo de previsão](./media/models.png)](./media/models.png)</span><span class="sxs-lookup"><span data-stu-id="e8a97-118">[![Performance and Most influential data sections for the prediction model](./media/models.png)](./media/models.png)</span></span>

- <span data-ttu-id="e8a97-119">Na seção **Desempenho**, selecione **Ver detalhes** para saber mais sobre a classificação e outras considerações.</span><span class="sxs-lookup"><span data-stu-id="e8a97-119">In the **Performance** section, select **See details** to learn more about the grade and other considerations.</span></span> <span data-ttu-id="e8a97-120">Na ilustração a seguir, os detalhes mostram que o modelo usa menos informações do que o recomendado.</span><span class="sxs-lookup"><span data-stu-id="e8a97-120">In the following illustration, the details show that the model uses less information than is recommended.</span></span> <span data-ttu-id="e8a97-121">Portanto, o sistema gerou uma mensagem de aviso.</span><span class="sxs-lookup"><span data-stu-id="e8a97-121">Therefore, the system has generated a warning message.</span></span>

    <span data-ttu-id="e8a97-122">[![Avisos sobre o desempenho do modelo](./media/details.png)](./media/details.png)</span><span class="sxs-lookup"><span data-stu-id="e8a97-122">[![Warnings about the model's performance](./media/details.png)](./media/details.png)</span></span>

## <a name="digging-deeper"></a><span data-ttu-id="e8a97-123">Aprofundando-se</span><span class="sxs-lookup"><span data-stu-id="e8a97-123">Digging deeper</span></span>

<span data-ttu-id="e8a97-124">Embora a precisão seja um bom ponto de partida para avaliar um modelo, e a taxa de desempenho ofereça perspectiva, o AI Builder fornece métricas mais detalhadas que você pode usar para sua avaliação.</span><span class="sxs-lookup"><span data-stu-id="e8a97-124">Although accuracy is a good starting point for evaluating a model, and the performance grade provides perspective, AI Builder provides more detailed metrics that you can use for your evaluation.</span></span> <span data-ttu-id="e8a97-125">Para baixar os detalhes, na seção **Desempenho**, selecione o botão de reticências (**...**) ao lado do botão **Usar modelo** e, em seguida, selecione **Baixar métricas detalhadas**.</span><span class="sxs-lookup"><span data-stu-id="e8a97-125">To download the details, in the **Performance** section, select the ellipsis button (**...**) next to the **Use model** button, and then select **Download detailed metrics**.</span></span>

<span data-ttu-id="e8a97-126">[![Comando baixar métricas detalhadas](./media/performance.png)](./media/performance.png)</span><span class="sxs-lookup"><span data-stu-id="e8a97-126">[![Download detailed metrics command](./media/performance.png)](./media/performance.png)</span></span>

<span data-ttu-id="e8a97-127">A ilustração a seguir mostra o formato no qual você pode baixar os dados.</span><span class="sxs-lookup"><span data-stu-id="e8a97-127">The following illustration shows the format that you can download the data in.</span></span>

<span data-ttu-id="e8a97-128">[![Formato dos dados baixados](./media/data-format.png)](./media/data-format.png)</span><span class="sxs-lookup"><span data-stu-id="e8a97-128">[![Format of downloaded data](./media/data-format.png)](./media/data-format.png)</span></span>

<span data-ttu-id="e8a97-129">Para uma análise mais profunda dos resultados, um bom ponto de partida é revisar a métrica "Matriz de confusão".</span><span class="sxs-lookup"><span data-stu-id="e8a97-129">For a deeper analysis of the results, a good starting point is to review the "Confusion Matrix" metric.</span></span> <span data-ttu-id="e8a97-130">Por exemplo, estes são os dados mostrados para essa métrica na ilustração anterior.</span><span class="sxs-lookup"><span data-stu-id="e8a97-130">For example, here is the data that is shown for this metric in the previous illustration.</span></span>

`{"name": "Confusion Matrix", "value": {"schema_type": "confusion_matrix", "schema_version": "1.0.0", "data": {"class_labels": ["0", "1", "2"], "matrix": [[71, 9, 21], [5, 0, 27], [2, 0, 45]]}}, "type": "dictionaryNumericalList", "isGlobalScore": false}`

<span data-ttu-id="e8a97-131">Você pode expandir esses dados da maneira a seguir.</span><span class="sxs-lookup"><span data-stu-id="e8a97-131">You can expand this data in the following way.</span></span>

| &nbsp;                   | <span data-ttu-id="e8a97-132">Previsto dentro do prazo</span><span class="sxs-lookup"><span data-stu-id="e8a97-132">Predicted On time</span></span> | <span data-ttu-id="e8a97-133">Previsto para atraso</span><span class="sxs-lookup"><span data-stu-id="e8a97-133">Predicted Late</span></span> | <span data-ttu-id="e8a97-134">Previsto para muito atraso</span><span class="sxs-lookup"><span data-stu-id="e8a97-134">Predicted Very late</span></span> |
|--------------------------|-------------------|----------------|---------------------|
| <span data-ttu-id="e8a97-135">Pagamento dentro do prazo</span><span class="sxs-lookup"><span data-stu-id="e8a97-135">Actual on time payment</span></span>   | <span data-ttu-id="e8a97-136">**71**</span><span class="sxs-lookup"><span data-stu-id="e8a97-136">**71**</span></span>            | <span data-ttu-id="e8a97-137">0</span><span class="sxs-lookup"><span data-stu-id="e8a97-137">0</span></span>              | <span data-ttu-id="e8a97-138">21</span><span class="sxs-lookup"><span data-stu-id="e8a97-138">21</span></span>                  |
| <span data-ttu-id="e8a97-139">Pagamento atrasado real</span><span class="sxs-lookup"><span data-stu-id="e8a97-139">Actual late payment</span></span>      | <span data-ttu-id="e8a97-140">5</span><span class="sxs-lookup"><span data-stu-id="e8a97-140">5</span></span>                 | <span data-ttu-id="e8a97-141">**0**</span><span class="sxs-lookup"><span data-stu-id="e8a97-141">**0**</span></span>          | <span data-ttu-id="e8a97-142">27</span><span class="sxs-lookup"><span data-stu-id="e8a97-142">27</span></span>                  |
| <span data-ttu-id="e8a97-143">Pagamento muito atrasado real</span><span class="sxs-lookup"><span data-stu-id="e8a97-143">Actual very late payment</span></span> | <span data-ttu-id="e8a97-144">2</span><span class="sxs-lookup"><span data-stu-id="e8a97-144">2</span></span>                 | <span data-ttu-id="e8a97-145">0</span><span class="sxs-lookup"><span data-stu-id="e8a97-145">0</span></span>              | <span data-ttu-id="e8a97-146">**45**</span><span class="sxs-lookup"><span data-stu-id="e8a97-146">**45**</span></span>              |

<span data-ttu-id="e8a97-147">A matriz de confusão mostra os resultados de um conjunto de teste aleatoriamente selecionado do processo de treinamento.</span><span class="sxs-lookup"><span data-stu-id="e8a97-147">The confusion matrix shows the results of a randomly selected test dataset from the training process.</span></span> <span data-ttu-id="e8a97-148">Como essas faturas fechadas não foram usadas para treinar o modelo, elas são casos de teste bons para o modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-148">Because these closed invoices weren't used to train the model, they are good test cases for the model.</span></span> <span data-ttu-id="e8a97-149">Além disso, como o estado real da fatura é conhecido, o desempenho do modelo também pode ser visto.</span><span class="sxs-lookup"><span data-stu-id="e8a97-149">Additionally, because the actual state of the invoice is known, the model's performance can also be seen.</span></span>

<span data-ttu-id="e8a97-150">A primeira coisa a ser procurada é o valor real mais comum.</span><span class="sxs-lookup"><span data-stu-id="e8a97-150">The first thing to look for is the most common actual value.</span></span> <span data-ttu-id="e8a97-151">Embora esse valor não possa ser perfeitamente alinhado com o conjunto de uma geral, é uma aproximação razoável.</span><span class="sxs-lookup"><span data-stu-id="e8a97-151">Although this value might not be perfectly aligned with the overall dataset, it's a reasonable approximation.</span></span> <span data-ttu-id="e8a97-152">Nesse caso, o **Pagamento real dentro do prazo** ocorre para 92 das 171 faturas totais é o valor real mais comum.</span><span class="sxs-lookup"><span data-stu-id="e8a97-152">In this case, **Actual on time payment** occurs for 92 of the 171 total invoices and is the most common actual value.</span></span> <span data-ttu-id="e8a97-153">Portanto, é uma boa linha de base para seu modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-153">Therefore, it's a good baseline for your model.</span></span> <span data-ttu-id="e8a97-154">Se você acabou de chutar que todas as faturas estarão dentro do prazo, você estará corrigindo 92 de 171 vezes (ou seja, 54% do tempo).</span><span class="sxs-lookup"><span data-stu-id="e8a97-154">If you just guessed that all invoices would be on time, you would be correct 92 out of 171 times (that is, 54 percent of the time).</span></span>

<span data-ttu-id="e8a97-155">É importante que você entenda quão balanceado o seu conjunto de informações está.</span><span class="sxs-lookup"><span data-stu-id="e8a97-155">It's important that you understand how balanced your dataset is.</span></span> <span data-ttu-id="e8a97-156">Nesse caso, 92 de 171 faturas foram pagas dentro do prazo, 32 foram pagas atrasadas e 47 foram pagas muito atrasadas.</span><span class="sxs-lookup"><span data-stu-id="e8a97-156">In this case, 92 out of 171 invoices were paid on time, 32 were paid late, and 47 were paid very late.</span></span> <span data-ttu-id="e8a97-157">Esses valores indicam um conjunto de dados razoavelmente balanceado, pois há resultados não triviais em cada classificação.</span><span class="sxs-lookup"><span data-stu-id="e8a97-157">These values indicate a reasonably balanced dataset, because there are non-trivial results in each classification.</span></span> <span data-ttu-id="e8a97-158">Uma situação em que um dos estados tem poucos resultados pode ser desafiador para um modelo de aprendizado de máquina.</span><span class="sxs-lookup"><span data-stu-id="e8a97-158">A situation where one of the states has very few results can be challenging for a machine learning model.</span></span>

<span data-ttu-id="e8a97-159">A precisão do modelo indica o número de previsões corretas para o conjunto de dados de teste.</span><span class="sxs-lookup"><span data-stu-id="e8a97-159">The accuracy of the model indicates the number of correct predictions for the test dataset.</span></span> <span data-ttu-id="e8a97-160">Essas previsões corretas são os valores que são mostrados em negrito no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="e8a97-160">These correct predictions are the values that are shown in bold in the preceding example.</span></span> <span data-ttu-id="e8a97-161">Nesse caso, os valores produzem uma precisão calculada de 67,8% (= \[71 + 0 + 45\] ÷ 171).</span><span class="sxs-lookup"><span data-stu-id="e8a97-161">In this case, the values produce a calculated accuracy of 67.8 percent (= \[71 + 0 + 45\] ÷ 171).</span></span> <span data-ttu-id="e8a97-162">Esse valor representa uma melhoria de 14% sobre a estimativa da linha de base de 54% e é um indicador da qualidade do modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-162">This value represents an improvement of 14 percent over the baseline guess of 54 percent and is one indicator of the model's quality.</span></span>

<span data-ttu-id="e8a97-163">Se você olhar mais atentamente na matriz de confusão, perceberá que o modelo faz um bom trabalho de previsão de pagamentos de faturas dentro do prazo e muito atrasadas.</span><span class="sxs-lookup"><span data-stu-id="e8a97-163">If you look more closely at the confusion matrix, you will notice that the model does a good job of predicting on-time and very late invoice payments.</span></span> <span data-ttu-id="e8a97-164">No entanto, há algum problema sobre todas as 32 faturas que foram realmente pagas atrasadas (mas não muito atrasadas).</span><span class="sxs-lookup"><span data-stu-id="e8a97-164">However, it's wrong about all 32 invoices that were actually paid late (but not very late).</span></span> <span data-ttu-id="e8a97-165">Esse resultado sugere que são necessárias explorações e melhorias adicionais do modelo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-165">This result suggests that additional exploration and improvement of the model are required.</span></span>

<span data-ttu-id="e8a97-166">Um número que representa o desempenho do modelo melhor que a precisão é a pontuação da macro F1.</span><span class="sxs-lookup"><span data-stu-id="e8a97-166">A number that represents the performance of the model better than accuracy is the F1 Macro score.</span></span> <span data-ttu-id="e8a97-167">Essa pontuação considera os resultados de cada estado de classificação (dentro do prazo, atrasado e muito atrasado).</span><span class="sxs-lookup"><span data-stu-id="e8a97-167">This score considers the results of each classification state (on-time, late, and very late).</span></span> <span data-ttu-id="e8a97-168">Por exemplo, estes são os dados mostrados para a métrica "F1 Macro" na ilustração anterior.</span><span class="sxs-lookup"><span data-stu-id="e8a97-168">For example, here is the data that is shown for the "F1 Macro" metric in the previous illustration.</span></span>

`{"name": "F1 Macro", "value": 0.4927170868347339, "type": "percentage", "isGlobalScore": false}`

<span data-ttu-id="e8a97-169">Nesse caso, a pontuação de macro F1 de aproximadamente 49,3% indica que o modelo não oferece previsões eficazes em cada estado, apesar de uma pontuação de precisão geral que parece razoavelmente alta.</span><span class="sxs-lookup"><span data-stu-id="e8a97-169">In this case, the F1 Macro score of approximately 49.3 percent indicates that the model doesn't provide effective predictions across each state, despite an overall accuracy score that seems reasonably high.</span></span>

## <a name="improving-the-model"></a><span data-ttu-id="e8a97-170">Melhorando o modelo</span><span class="sxs-lookup"><span data-stu-id="e8a97-170">Improving the model</span></span>

<span data-ttu-id="e8a97-171">Depois de compreender melhor os resultados do seu primeiro modelo, talvez você queira melhorar o modelo adicionando ou removendo colunas de recursos ou filtrando quaisquer partes do conjunto de informações que não dão suporte a previsões precisas.</span><span class="sxs-lookup"><span data-stu-id="e8a97-171">After you understand the results of your first model better, you might want to improve the model by adding or removing feature columns, or by filtering any parts of the dataset that don't support accurate predictions.</span></span> <span data-ttu-id="e8a97-172">Feche o AI Builder e use o link **Melhorar modelo** no Dynamics 365 Finance para reiniciar o processo do AI Builder.</span><span class="sxs-lookup"><span data-stu-id="e8a97-172">Close AI Builder, and then use the **Improve model** link in Dynamics 365 Finance to restart the AI Builder process.</span></span> <span data-ttu-id="e8a97-173">Você pode testar características diferentes sem afetar o modelo publicado.</span><span class="sxs-lookup"><span data-stu-id="e8a97-173">You can experiment with different characteristics without affecting the published model.</span></span> <span data-ttu-id="e8a97-174">O modelo publicado é afetado somente quando você seleciona **Publicar**.</span><span class="sxs-lookup"><span data-stu-id="e8a97-174">The published model is affected only when you select **Publish**.</span></span> <span data-ttu-id="e8a97-175">Lembre-se de que um único modelo é usado para sua instância do Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="e8a97-175">Remember that a single model is used for your instance of Dynamics 365 Finance.</span></span> <span data-ttu-id="e8a97-176">Portanto, você deve revisar cuidadosamente qualquer novo modelo antes de publicá-lo.</span><span class="sxs-lookup"><span data-stu-id="e8a97-176">Therefore, you should carefully review any new model before you publish it.</span></span>

## <a name="for-more-information"></a><span data-ttu-id="e8a97-177">Para obter mais informações</span><span class="sxs-lookup"><span data-stu-id="e8a97-177">For more information</span></span>

<span data-ttu-id="e8a97-178">Para obter mais informações sobre como avaliar modelos de previsão, [Resultados de modelos de aprendizado de máquina](/confusion-matrix.md)</span><span class="sxs-lookup"><span data-stu-id="e8a97-178">For more information about how to evaluate prediction models, [Results of machine learning models](/confusion-matrix.md)</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="e8a97-179">Aviso de privacidade</span><span class="sxs-lookup"><span data-stu-id="e8a97-179">Privacy notice</span></span>
<span data-ttu-id="e8a97-180">As versões prévias (1) podem utilizar menos medidas de privacidade e segurança que o serviço do Dynamics 365 Finance and Operations, (2) não estão incluídas no contrato de nível de serviço (SLA) desse serviço, (3) não devem ser usadas para processar dados pessoais ou outros dados sujeitos a requisitos de conformidade legais ou regulatórios e (4) têm suporte limitado.</span><span class="sxs-lookup"><span data-stu-id="e8a97-180">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]